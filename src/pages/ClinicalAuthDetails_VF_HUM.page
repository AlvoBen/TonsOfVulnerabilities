<!--
Page Name        : ClinicalAuthDetails_VF_HUM
Version          : 1.0 
Created Date     : 12/15/2015
Function         : This Page is used to display the InPatient/OutPatient Details.
Modification Log :
* Developer               Code Review                     Date                 Description
* ------------------------------------------------------------------------------------------------------------------------------                
* Prasanthi Kandula           29039                      12/15/2015          Original Version
* Prasanthi Kandula           29039                      12/23/2015          Added Datatables
* Sruthi Adivikolanu          29648                      01/27/2016          Added Css for Datatables headers. 
* Prasanthi Kandula           30647                      03/23/2016          Defect #219742.0001 Fix for Hover   
* Manish Kumar                30710                      03/28/2016          Added Logging capability
* Prasanthi Kandula           30710                      03/29/2016          Defect #219632.0001 Fix for alignment
* Prasanthi Kandula           30830                      04/05/2016          Defect #220223.0001 Fix for correcting section name
* Santhi Mandava              24990                      04/14/2016          Fixed defect 219980.0001. changes line 19.
* Manish Kumar                28204                      05/23/2016          Fixed defect#224774.0001
* Santhi Mandava              28937                      06/03/2016          Fixed defect#228405.0001
* Santhi Mandava              40488                      09/19/2016          Added attributes AttachmentDesc, AttachmentKey to the logging component
* Manish Kumar                                           01/27/2017          Worked on Defect#243750, REQ#296700. Incorporated changes for Datatable as per latest standards
* Dinesh Subramaniyan		      219646  					         04/24/2018			     Remove Request Type Help Hover Over on Authorization Detail Page.						
* Imran                       416071                     12/03/2019          Implemented three new fields for Inpatient and Outpatient Authorization Details/.  
* Prasanthi Kandula                                      12/27/2019          REQ - 416086 Added communication records section on details page.   
* Imran                                                  12/30/2019          REQ - 416096 Added Letters records section on details page.   
* Santhi Mandava                                         03/06/2010          US - 903330 Display jump links on Auth/Referral Detail page 
* Amar Gadewar                                           03/18/2020          USER STORY 948109 PR00091574 - MF 1 - AHT - Add jump links on Auth/Referral Detail page (CRM)
* Santhi Mandava                                         04/03/2020          US - 995046 Removed Rapid force switch
* Suresh Kokkeragadda                                    06/25/2020          User Story 1145685: PR00091574 - MF 1 - AHT - Ability to copy information from CRM (RF)
* Santhi Mandava                                         04/03/2020              US - 995046 Removed Rapid force switch
* RamaKrishna Gundeti         821950                     05/18/2020          Added Accordion section for Communication records. 
* Prasanthi Kandula                                      07/10/2020          Defect Fix  1037 - Details column on communication section is not mapped correctly  
* Suresh Kokkeragadda                  			 07/17/2020          User Story 1145685: PR00091574 - MF 1 - AHT - Ability to copy information from CRM (RF)_RollBack 
* Kavya Bondada                                          03/19/2021          User Story 1875239: PR00091574 - MF 1 - AHT - Ability to copy information in CRM (RF)
* Riya Agarwal										     03/01/2021			 REQ - 1902544-T1PRJ0002606 - MF1 - SF - TECH - Benefit Page Clean up - part 1
* Rahul Chaurasia									  04/06/2021			 User Story 1279935: PR00094226 - SF- Auth/Referral Summary old version Decommission
* Kavya Bondada                                      04/30/2021                   User Story 2215180: T1PRJ0001827 - MF 1 - AHT - Ability to copy information in CRM - Phase 1 (CRM)
* Kavya Bondada                                      06/01/2021                   User Story 2366257: T1PRJ0001827 - MF 1 - AHT - Ability to copy information in CRM - Phase 3 (RF)
* Anand Kumar                                         07/13/2021                  User Story 2451218: T1PRJ0001827 - MF 1 - AHT - Ability to copy information in CRM - Phase 3 (RF)
* Apurva Urkude              2523402   		             08/09/2021		     MF6 - SF - TECH Incident - INC1237507 - Issue in Logged information of Authorization/Referral Details		
* Prashant Moghe										05/09/2022			 INC1686129 :SF : Hover Over text don't show completely for Outpatient - Procedure Codes - Type of Units
* Tharun Madishetti                   07/14/2023      US-4647138: T1PRJ0891742 - VIT19761200 - Data Table Upgrade - Authorizations, Benefits, & Claims (Group 1)
------------------------------------------------------------------------------------------------------------------------------      
-->
<apex:page id="ID1" controller="ClinicalAuthDetails_C_HUM" sidebar="false" showheader="true" tabStyle="Policy_Member__c" >  
  <apex:includeScript value="/support/console/41.0/integration.js"/>
  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.js')}" />
  <apex:includeScript value="{!URLFOR($Resource.html2canvas, '/html2canvas.min.js')}"/>
  
  <apex:includescript value="{!URLFOR($Resource.ClinicalAuthDetails_JS_HUM,'/clinicalauthdetails.js')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.ClinicalAuthDetails_JS_HUM,'/AuthdetailStyle.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/CSS/HoverOver.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT,'/Logging/css/LoggingCompCSS.css')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.ClinicalAuthSummary_JS_HUM,'/ClinicalAuthsummaryCSS.css')}"/>
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.css')}" />
  <apex:includeScript value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/CopyToClipBoard/CopyToClipBoard.js')}"/>

  <style>
    td.details-controlBenefitSearch {
    background: url({!URLFOR($Resource.BenefitsSearchVOBV2_SR_HUM,'/PlusImage.png')
    }) no-repeat center center; background-size: 30px 30px; padding-left: 30px; cursor: pointer;
    }

    tr.detailsBenefitSearch td.details-controlBenefitSearch {
    background: url({!URLFOR($Resource.BenefitsSearchVOBV2_SR_HUM,'/MinusImage.png')
    }) no-repeat center center; background-size: 30px 30px; padding-left: 30px; cursor: pointer;
    }
  </style>

  <script type="text/javascript">
    var ClinicalAuthDetails= null;
    //Thi is not use
    //var imagesrc = '{!$Resource.HUMHoverOverQuestionMark}';
    jQuery(document).ready(function () {
    ClinicalAuthDetails= new ClassClinicalAuthDetails();
    //Initialize the obkject here
    ClinicalAuthDetails.imagesrc = '{!$Resource.HUMHoverOverQuestionMark}';
    //We do we have have to do when we start
    ClinicalAuthDetails.render();
    });
  </script>
  
  <div id="loggingStickyHeader" class="LoggingCompCSS fixedDiv" style="width:99%;">
    <c:Logging_CMP_HUM DisplayMessage="true" Logging_Color="red" AttachmentDesc="Authorization ID" AttachmentKey="{!sAuthID}" Logged_Item_Color="blue" Screenshot_Area_Id="pageContent" RecordId="{!sPolicyMemRecID}" />
    <apex:outputPanel id="pnlFloatingLinks">
      <c:FloatingLinks_CMP_HUM lstparam="{!lstFloatingLinks}"/>
    </apex:outputPanel>
  </div>
  <div class="col-xs-12" style="font-size:16px">
    <div id="opaque"/>
    <div id="spinner">
      <p align="center" style='{font-family:"Arial", Helvetica, sans-serif; color:white; font-size:20px;}'>
        <apex:image value="/img/loading.gif" id="LoadingImageId"/>
        <span style="margin-left :5px;">Loading...</span>
      </p>
    </div>
  </div>
  <div id="pageContent" class="pageContent" style="background:white;">
    <apex:outputPanel id="pnlGrid" rendered="{!!bserviceError}">
      <table class="pageHeader enable_logging pageHeaderName" style="font-size:12px !important;" width="100%">
        <tr>
          <td width="80%">
            <apex:sectionHeader title="{!if(oauthDetailsWrapper.sAuthType == 'BHInpatient' || oauthDetailsWrapper.sAuthType == 'Inpatient','Authorization Details','Authorization/Referral Details')}" subtitle="{!oauthDetailsWrapper.sAuthID}"/>
          </td>
          <td width="20%" >
            <h1 class="pageType">Overall Status</h1>
            <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea" >
              <a onclick="javascript:return false;" html-log_this="false">
                <apex:image id="lnkImg"  style="margin-left: 75px;margin-top: -11px;" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_OverAllStatus_HUM}</apex:outputPanel>
              </a>
            </apex:outputPanel>
            <h2 class="pageDescriptionCustom">{!oauthDetailsWrapper.sAuthStatus}</h2>
          </td>
        </tr>
      </table>
    </apex:outputPanel>

    <apex:form style="font-size:12px" id="ID2">
      <br/>
      <br/>

      <div id="screenshotdata" style="background:white;">
        <apex:outputPanel id="pnlDetails">
          <apex:pageBlock mode="maindetail" rendered="{!!bserviceError}" id="ID3">

            <input type="hidden" id="StandardMapValuesForLogging" value="{!standardMapvalue}" />
            <a id="ContactInformation" name="ContactInformation"></a>
            <apex:pageblockSection id="pbsContact" title="Contact Information" collapsible="true" columns="2">
              <apex:pageblocksectionitem >
                <apex:outputlabel value="Created Date"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sCreatedDate}" id="createdDate"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem >
                <apex:outputlabel value="Contact Method"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sContactMethod}"/>
              </apex:pageblocksectionitem>
              <apex:inputHidden id="IsReferralId" value="{!oAuthDetailsWrapper.sIsReferral}"/>
            </apex:pageblockSection>
            <a id="ProviderInformation" name="ProviderInformation"></a>
            <apex:pageblockSection columns="1" title="Provider Information" collapsible="true" id="ID4">
              <apex:pageblockTable styleClass="tableClass" width="100%" value="{!lstprovider}" var="auth" id="theTable" >
                <apex:facet name="caption">Provider Information</apex:facet>
                <apex:column id="ID5">
                  <apex:facet name="header">Type</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderType}" id="ID6" />
                  <apex:outputPanel >
                    <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                      <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                        <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                        <apex:outputPanel rendered="{!auth.sreqProviderType == 'Requesting Provider'}" styleClass="hoverfontstyle" >{!$Label.AuthDetail_RequestingProvider_HUM}</apex:outputPanel>
                        <apex:outputPanel rendered="{!auth.sreqProviderType == 'Treating Provider'}" styleClass="hoverfontstyle" >{!$Label.AuthDetail_TreatingProvider_HUM}</apex:outputPanel>
                        <apex:outputPanel rendered="{!auth.sreqProviderType == 'Facility Provider'}" styleClass="hoverfontstyle" >{!$Label.AuthDetail_FacilityProv_HUM}</apex:outputPanel>
                      </apex:commandLink>
                    </apex:outputPanel>
                  </apex:outputPanel>
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Name</apex:facet>
                  <apex:outputPanel >
                  <div style="display:inline-block;white-space:nowrap;"><span><apex:outputText value="{!auth.sreqProviderName}"/>&nbsp;</span></div> 
                  <div style="display:inline-block;white-space:nowrap;">
                  <apex:outputLink value="#" style="color:#3973ac;" html-log_ignore_click="true" html-log_this="false" rendered="{!(NOT(OR(ISNULL(auth.sreqProviderName),ISBLANK(auth.sreqProviderName),(auth.sreqProviderName == ''))))}"  onclick="copyToClipBoardFireEvent('{!auth.sreqProviderName}');return false;" >Copy</apex:outputLink> 
                  </div>
                  </apex:outputPanel>
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Street</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderStreet}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">City</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderCity}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">State</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderState}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Zip Code</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderZipCode}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Phone</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderPhnNum}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Tax ID</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderTaxID}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Humana Provider ID</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderID}" />
                </apex:column>
                <apex:column >
                  <apex:facet name="header">Participating Status</apex:facet>
                  <apex:outputText value="{!auth.sreqProviderPartStatus}" />
                </apex:column>
              </apex:pageblockTable>
            </apex:pageblockSection>
            <a id="AuthorizationInformation" name="AuthorizationInformation"></a>
            <apex:pageblockSection rendered="{!bauthTypeIP}" id="Auth_ref_section" title="Authorization Information" collapsible="true" columns="2">
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Authorization Type"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:return false;" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_AuthorizationType_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapper.sAuthType}" id="A1Text"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" id="admInfo">
                <apex:outputPanel id="admDate">
                  <apex:outputlabel value="Admission Date"/>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperIP.sAdmissionDate}" id="admissionDate"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Admission Type"/>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperIP.sAdmissionType}"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Last Coverage Date"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize"  value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_LastCoverageDate_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperIP.sLastCoveredDate}" id="ALText"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Request Type"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sRequestType}" id="A2Text"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" id="dischargeSection" >
                <apex:outputPanel >
                  <apex:outputlabel value="Discharge Date"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_DischargeDate_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperIP.sDischargeDate}" id="ADText"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Denial Reason"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sDenialReason}" id="denialReasonInpatient"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Total Days Approved"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_TotalDaysApproved_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperIP.sTotalDaysApproved}" id="ATText"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" html-log_this="false"  labelStyle="border-bottom:0px;">

                <apex:outputlabel value="Claims Payment Notes" html-log_this="false" />
                <apex:outputPanel style="font-weight: normal !important;font-style: normal !important;" html-log_this="false">
                  <apex:outputPanel >
                    <apex:outputText value="{!IF(LEN(oauthDetailsWrapper.sClaimsPaymentNotes) < 100, oauthDetailsWrapper.sClaimsPaymentNotes, left(oauthDetailsWrapper.sClaimsPaymentNotes,100))}"></apex:outputText>
                  </apex:outputPanel>
                  <apex:outputPanel style="font-weight: normal !important;font-style: normal !important;"
                        rendered="{!IF(oauthDetailsWrapper.sClaimsPaymentNotes != null && LEN(oauthDetailsWrapper.sClaimsPaymentNotes) > 100, true , false)}" >
                    <apex:outputtext value=".." id="dotText" html-log_this="true" style="font-weight:bold" />
                    <a id="InpatientShowMoreLinks" style="cursor:pointer;" log_this="false">
                      <u>
                        <font color="blue">Show More</font>
                      </u>
                    </a>

                  </apex:outputPanel>
                </apex:outputPanel>
              </apex:pageblocksectionitem>


              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Next Review Date"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sNextReviewDate}" id="NRDInpatient"/>
              </apex:pageblocksectionitem>
            </apex:pageblockSection>
            <div id = "InpatientHide" style="display:none;" >
              <div class="pbSubheader brandTertiaryBgr tertiaryPalette">
                <h3>Claims Payment Notes</h3>
              </div>
              <div class="pbSubsection">
                <table id="DeficiencyTbl"  class="detailList" border="0" cellpadding="0" cellspacing="0">
                  <tbody>
                    <tr>
                      <th class="labelCol vfLabelColTextWrap first" scope="row" style="display:none;">
                        <label>Claim Payment Notes</label>
                      </th>
                      <td class="dataCol first">{!oauthDetailsWrapper.sClaimsPaymentNotes}</td>
                    </tr>

                    <tr>
                      <th class="labelCol vfLabelColTextWrap last" scope="row">
                        <label></label>
                      </th>
                      <td class="dataCol last ellipsis_ctrl">


                        <a class="DeficiencyTbl_remove_while_logging" id="InpatientHideLinks" log_this="false"
                        style="cursor:pointer;">
                          <u>
                            <font color="blue">Hide</font>
                          </u>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <a id="AuthorizationReferralInformation" name="AuthorizationReferralInformation"></a>
            <apex:pageblockSection rendered="{!bAuthTypeOP}" id="auth_ref_section_2" title="Authorization/Referral Information" collapsible="true" columns="2">
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Authorization Type" />
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_AuthorizationType_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapper.sAuthType}" id="A1Text"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" id="firstDayInfo">
                <apex:outputPanel >
                  <apex:outputlabel value="First Day"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" id="firstDay">{!$Label.Authdetail_FirstDay_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperOP.sFirstDay}" id="A3Text"/>
              </apex:pageblocksectionitem>

              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" id="serviceTypeInfo">
                <apex:outputPanel >
                  <apex:outputlabel value="Service Type"/>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperOP.sServiceType}" id="serviceType"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" id="lastDayInfo">
                <apex:outputPanel >
                  <apex:outputlabel value="Last Day"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle" id="lastDay">{!$Label.AuthDetail_LastDay_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperOP.sLastDay}" id="A4Text"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Request Type"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sRequestType}" id="A2Text"/>
              </apex:pageblocksectionitem>
              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputPanel >
                  <apex:outputlabel value="Total Days" id="A5Text"/>
                  <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                    <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                      <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                      <apex:outputPanel styleClass="hoverfontstyle">{!$Label.AuthDetail_TotalDays_HUM}</apex:outputPanel>
                    </apex:commandLink>
                  </apex:outputPanel>
                </apex:outputPanel>
                <apex:outputtext value="{!oauthDetailsWrapperOP.iTotalDays}" />
              </apex:pageblocksectionitem>

              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Denial Reason"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sDenialReason}" id="DROutPatient"/>
              </apex:pageblocksectionitem>


              <apex:pageblocksectionitem dataStyle="border-bottom:0px;" labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Next Review Date"/>
                <apex:outputtext value="{!oauthDetailsWrapper.sNextReviewDate}" id="NRDOutPatient"/>
              </apex:pageblocksectionitem>


              <apex:pageblocksectionitem dataStyle="border-bottom:0px;"  labelStyle="border-bottom:0px;" >
                <apex:outputlabel value="Claims Payment Notes" />
                <apex:outputPanel style="font-weight: normal !important;font-style: normal !important;" html-log_this="false">
                  <apex:outputPanel >
                    <apex:outputText value="{!IF(LEN(oauthDetailsWrapper.sClaimsPaymentNotes) < 100, oauthDetailsWrapper.sClaimsPaymentNotes, left(oauthDetailsWrapper.sClaimsPaymentNotes,100))}"></apex:outputText>
                  </apex:outputPanel>
                  <apex:outputPanel style="font-weight: normal !important;font-style: normal !important;"
                        rendered="{!IF(oauthDetailsWrapper.sClaimsPaymentNotes != null && LEN(oauthDetailsWrapper.sClaimsPaymentNotes) > 100, true , false)}" >
                    <apex:outputtext value=".." id="OutpatientdotText" html-log_this="true" style="font-weight:bold" />
                    <a id="OutPatientShowLink" style="cursor:pointer;">
                      <u>
                        <font color="blue">Show More</font>
                      </u>
                    </a>

                  </apex:outputPanel>
                </apex:outputPanel>
              </apex:pageblocksectionitem>


            </apex:pageblockSection>
            <div id = "OutpatientHide" style="display:none;">

              <div class="pbSubheader brandTertiaryBgr tertiaryPalette">
                <img src="/s.gif" alt="Hide Section - Texas Deficiency" class="hideListButton"  name="Claims Payment Notes"
                onclick="twistSection(this)" onkeypress="if (event.keyCode=='13')twistSection(this);" style="cursor:pointer;"
                tabindex="0" title="Hide Section - Texas Deficiency"/>
                <h3>Claims Payment Notes</h3>
              </div>
              <div class="pbSubsection">
                <table id="DeficiencyTbl"  class="detailList" border="0" cellpadding="0" cellspacing="0">
                  <tbody>
                    <tr>
                      <th class="labelCol vfLabelColTextWrap first" scope="row" style="display:none;">
                        <label>Claim Payment Notes</label>
                      </th>
                      <td class="dataCol first">{!oauthDetailsWrapper.sClaimsPaymentNotes}</td>
                    </tr>

                    <tr>
                      <th class="labelCol vfLabelColTextWrap last" scope="row">
                        <label></label>
                      </th>
                      <td class="dataCol last ellipsis_ctrl">
                        <a class="DeficiencyTbl_remove_while_logging" id="OutpatientHideLink" log_this="false"
                        style="cursor:pointer;">
                          <u>
                            <font color="blue">Hide</font>
                          </u>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <a id="DiagnosisCodes" name="DiagnosisCodes"></a>
            <apex:pageBlockSection columns="1" title="Diagnosis Codes">
              <apex:panelGrid columns="1" border="0" width="100%">
                <br/>
                <apex:outputPanel >
                  <table id="pcrec" class="table table-striped table-bordered table-hover nowrap enable_logging dataTable no-footer dtr-column">
                    <caption style="display:none;">Diagnosis Codes</caption>
                    <thead >
                      <tr class="header">
                        <th >
                          <div style="float:left;">Type</div>

                          <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                            <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                              <apex:image id="lnkImg" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                              <apex:outputPanel styleClass="hoverfontstyle">{!$Label.AuthDetail_DiagnosisType_HUM}</apex:outputPanel>
                            </apex:commandLink>
                          </apex:outputPanel>

                        </th>
                        <th > Code </th>
                        <th > Description </th>
                        <th > Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <apex:repeat value="{!lstdiagnosis}" var="diagnosis">
                        <tr>
                          <td>{!diagnosis.sDiagnosisType}</td>
                          <td>{!diagnosis.sDiagnosisCode}</td>
                          <td>{!diagnosis.sDiagnosisDescription}</td>
                          <td>{!diagnosis.sDiagnosisStatus}</td>
                        </tr>
                      </apex:repeat>
                    </tbody>
                  </table>
                </apex:outputPanel>
              </apex:panelGrid>
              <br/>
            </apex:pageBlockSection>
            <a id="ProcedureCodes" name="ProcedureCodes"></a>
            <apex:pageBlockSection columns="1" title="Procedure Codes">
              <apex:panelGrid columns="1" border="0" width="100%">
                <br/>
                <apex:outputPanel rendered="{!bAuthTypeIP}">
                  <table id="pcin" class="table table-striped table-bordered table-hover nowrap enable_logging dataTable no-footer dtr-column">
                    <caption style="display:none;">Procedure Codes</caption>
                    <thead>
                      <tr class="header">
                        <th> Code </th>
                        <th> Description </th>
                        <th> Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <apex:repeat value="{!lstprocedure}" var="proCodes">
                        <tr>
                          <td>{!proCodes.sProcedureCode}</td>
                          <td>{!proCodes.sProcedureDescription}</td>
                          <td>{!proCodes.sProcedureStatus}</td>
                        </tr>
                      </apex:repeat>
                    </tbody>
                  </table>
                </apex:outputPanel>

                <apex:outputPanel rendered="{!bAuthTypeOP}">
                  <table id="pcop" class="table table-striped table-bordered table-hover nowrap enable_logging dataTable no-footer dtr-column">
                    <caption style="display:none;">OP</caption>
                    <thead>
                      <tr class="header">
                        <th> Code </th>
                        <th style="width:35%;"> Description </th>
                        <th>
                          <div style="float:left">Requesting Units </div>
                          <apex:outputPanel styleClass="vfHelpText" id="hoverOverAreaRU">
                            <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                              <apex:image id="lnkImgRU" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                              <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_RequestingUnits_HUM}</apex:outputPanel>
                            </apex:commandLink>
                          </apex:outputPanel>
                        </th>
                        <th>
                          <div style="float:left">Authorized Units</div>
                          <apex:outputPanel styleClass="vfHelpText" id="hoverOverAreaAU">
                            <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                              <apex:image id="lnkImgAU" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                              <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_AuthorizedUnits_HUM}</apex:outputPanel>
                            </apex:commandLink>
                          </apex:outputPanel>
                        </th>
                        <th>
                          <div style="float:left">Type Of Units</div>
                          <apex:outputPanel styleClass="vfHelpText vfHelpTextForTypesOfUnits" id="hoverOverAreaTU">
                            <apex:commandLink onclick="javascript:void(O);" html-log_this="false">
                              <apex:image id="lnkImgTU" styleClass="imgMargin hoverimagesize" value="{!$Resource.HUMHoverOverQuestionMark}"/>
                              <apex:outputPanel styleClass="hoverfontstyle" >{!$Label.AuthDetail_TypeOfUnits_HUM}</apex:outputPanel>
                            </apex:commandLink>
                          </apex:outputPanel>
                        </th>
                        <th> Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <apex:repeat value="{!lstprocedureOP}" var="proCodesOP">
                        <tr>
                          <td>{!proCodesOP.sProcedureCode}</td>
                          <td>{!proCodesOP.sProcedureDescription}</td>
                          <td>{!proCodesOP.sProcedureRequestingUnits}</td>
                          <td>{!proCodesOP.sProcedureAuthorizedUnits}</td>
                          <td>{!proCodesOP.sProcedureTypeofUnits}</td>
                          <td>{!proCodesOP.sProcedureStatus}</td>
                        </tr>
                      </apex:repeat>
                    </tbody>
                  </table>
                </apex:outputPanel>
              </apex:panelGrid>
            </apex:pageBlockSection>

            <apex:outputPanel >
              <a id="Letters" name="Letters"></a>
              <apex:pageBlockSection columns="1" title="Letters">
                <apex:panelGrid columns="1" border="0" width="100%">
                  <apex:outputPanel id="opLettersRecs">
                    <div class="col-xs-12" id="c1" style="font-size:12px">
                      <div id="lettersTtlRecsText" style="float: left; width: 400px;"> </div>
                      <div id="buttonsForLetters"  style="float: left; width: 170px;"></div>
                      <div style="float: left; width: 100px;margin-top:10px;" id="hoverTextLetters"></div>
                    </div>
                    <table id="tblLettersRecords" class="table table-striped table-bordered table-hover nowrap enable_logging dataTable no-footer dtr-column">
                      <caption style="display:none;">Letters</caption>
                      <thead>
                        <tr class="header">
                          <th> Created/Updated Date </th>
                          <th> Created/Updated By </th>
                          <th> Letter Template Name</th>
                          <th> Status</th>
                          <th> Fulfillment Status </th>
                          <th> P2P Offered in Letter </th>
                          <th> Letter Name </th>
                          <th> Void Remarks </th>
                        </tr>
                      </thead>
                      <tbody>
                        <apex:repeat value="{!lstLettersRecords}" var="letter">
                          <tr>
                            <td>{!letter.sLettersLastModifiedDate}</td>
                            <td>{!letter.sLettersLastModifiedBy}</td>
                            <td>
                              <apex:outputText rendered="{!IF(contains(letter.sFilepath,$Label.FilePathLink),false, true)}"  value="{!letter.sLettersTemplateName}" escape="false"></apex:outputText>
                              <apex:commandLink rendered="{!IF(contains(letter.sFilepath,$Label.FilePathLink),true, false)}" onclick="window.open('{!letter.sFilepath}', '_blank')" style="color:blue!important;text-decoration:underline;cursor:pointer" value="{!letter.sLettersTemplateName}"/>
                            </td>
                            <td>{!letter.sLettersStatus}</td>
                            <td>{!letter.sLettersFullfillmentStatus}</td>
                            <td>{!letter.sLettersP2POfferedinLetter}</td>
                            <td>{!letter.sLettersLetterName}</td>
                            <td>{!letter.sLettersVoidRemarks}</td>
                          </tr>
                        </apex:repeat>
                      </tbody>
                    </table>
                  </apex:outputPanel>
                </apex:panelGrid>
              </apex:pageBlockSection>
            </apex:outputPanel>
            <apex:outputPanel >
              <a id="CommunicationRecords" name="CommunicationRecords"></a>
              <apex:pageBlockSection columns="1" title="Communication Records">
                <apex:panelGrid columns="1" border="0" width="100%">
                  <apex:outputPanel id="opCommRecs" >
                    <div class="col-xs-12" id="c1" style="font-size:12px">
                      <div id="communicationTtlRecsText" style="float: left; width: 400px;"> </div>
                      <div id="buttonsForCommunication" style="float: left; width: 170px;"></div>
                      <div style="float: left; width: 100px;margin-top:10px;" id="hoverTextCommRecs"></div>
                    </div>
                    <table id="tblCommunicationRecords" class="table table-striped table-bordered table-hover enable_logging dataTable no-footer dtr-column">
                      <thead >
                        <tr class="header">
                          <th log_this="false"></th>
                          <th> Created/Updated Date </th>
                          <th> Created/Updated By </th>
                          <th> Department </th>
                          <th> Communication Type </th>
                          <th> Contact Method </th>
                          <th> Contact Result </th>
                          <th> Contact Attempt #</th>
                          <th> Details</th>
                          <th> Notes</th>
                        </tr>
                      </thead>
                      <tbody>
                        <apex:repeat value="{!lstCommunicationRecords}" var="communication">
                          <tr>
                            <td log_this="false"></td>
                            <td>{!communication.sCommLastModifiedDate}</td>
                            <td>{!communication.sCommLastModifiedBy}</td>
                            <td>{!communication.sDepartment}</td>
                            <td>{!communication.sCommunicationType}</td>
                            <td>{!communication.sCommContactMethod}</td>
                            <td>{!communication.sContactResult}</td>
                            <td>{!communication.sContactAttemptNo}</td>
                            <td>{!communication.sDetails}</td>
                            <td>{!communication.sNotes}</td>
                          </tr>
                        </apex:repeat>
                      </tbody>
                    </table>
                  </apex:outputPanel>
                </apex:panelGrid>
              </apex:pageBlockSection>
            </apex:outputPanel>

            </apex:pageblock>
          </apex:outputPanel>
      </div>
      <br/>
      
      <apex:pagemessages ></apex:pagemessages>

      <apex:actionFunction name="retrieveAuthDetails" action="{!authDetailsRequest}" oncomplete="ClinicalAuthDetails.renderTable('{!sTotalCommunicationRecords}','{!sTotalLettersRecords}',{!$Label.Auth_Communication_Result_Size},{!$Label.Auth_Communication_Details_Size},{!$Label.Auth_Communication_Notes_Size}); return false;" rerender="copyHeader,ID3,pnlGrid,pnlFloatingLinks" />
      <apex:actionFunction name="retrieveCommunicationRecs" action="{!callCommunicationService}" rerender="opCommRecs" oncomplete="ClinicalAuthDetails.renderCommRecsTable({!sTotalCommunicationRecords}); return false;">
        <apex:param name="communicationPageSize" value="" assignTo="{!sCommunicationPageNumber}" id="commPageSize" />
      </apex:actionFunction>


      <apex:actionFunction name="retrieveLettersRecs" action="{!callLettersService}" reRender="opLettersRecs" oncomplete="ClinicalAuthDetails.renderLettersTable({!sTotalLettersRecords}); return false;">
        <apex:param name="LettersPageSize" value="" assignTo="{!sLettersPageNumber}" id="LettersPageSize" />
      </apex:actionFunction>
    </apex:form>
  </div>

 <apex:outputPanel layout="block" id="copyHeader"  >
  <script>
      var imagesrc = '{!$Resource.HUMHoverOverQuestionMark}';
      displayCopyOptionForPageHeader('{!oauthDetailsWrapper.sAuthID}');

  </script>

    </apex:outputPanel> 

</apex:page>