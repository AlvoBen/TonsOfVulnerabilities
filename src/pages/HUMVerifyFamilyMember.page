<!-- *****************************************************************************************
Page Name          : HUMVerifyFamilyMember
Version            : 1.0
Function           : Page to display all dependents related to that particular Account as a subtab
Created On         : 05/21/2014 

Modification Log:
*   Developer                   Code Review           Date               Description
* ------------------------------------------------------------------------------------------------------------------------------                
*   Kritika Popat                17076                05/21/2014          Original Version
*   Asha Deepika Koyyana         18218                09/08/2014          As a part of defect fix #153891,modified the static resource
                                                                          to display the page as a subtab instead of popup
*   Asha Deepika Koyyana         18218                09/27/2014          As a part of defect fix(#156041) added DOB and changed Phone to Home Phone Number
*   Asha Deepika Koyyana         18519                10/15/2014          As a part of CR-00051, changed the label name from Account Dependents to Family Members.                                          
*   Ajay Chakradhar                                   07/29/2020          REQ - 1065536 Replace the Person Service on Verify demographics from SOAP to REST
*   Firoja Begam                2237351               05/03/2021          On/Off Switch Cleanup for requirements deployed
****************************************************************************************** -->

<apex:page controller="HUMVerifyFamilyServiceController"  showHeader="false" id="MemberpageId">
   <apex:includeScript value="/support/console/30.0/integration.js"/>
   <apex:includeScript value="{!URLFOR($Resource.HUMVerifyFamily, 'HUMVerifyFamily/HumVerifyFamily.js')}" />
    
   <apex:form id="formId">
      <apex:outputPanel id="pnlError">
          <apex:pagemessages id="error"></apex:pagemessages>
      </apex:outputPanel>
      <apex:pageBlock >
          <apex:outputLabel style="font-weight:bold" > Family Members </apex:outputLabel>
          <apex:pageBlockTable value="{!lstDispAccounts}" var="item">            
                <apex:column >
                    <apex:facet name="header">
                       <apex:inputCheckbox />
                    </apex:facet>
                    <apex:inputCheckbox value="{!item.bSelected}" />
                </apex:column>                
                <apex:column value="{!item.account.FirstName} {!item.account.LastName}" headerValue="Name"/>
                <apex:column value="{!item.account.Birthdate__c}" headerValue="DOB"/>
                <apex:column value="{!item.account.Gender__c}" headerValue="Gender"/>
                <apex:column value="{!item.sRelation}" headerValue="Relation"/>  
                <apex:column value="{!item.account.PersonMailingStreet} , {!item.account.PersonMailingCity} , {!item.account.PersonMailingState} , {!item.account.PersonMailingPostalCode}" headerValue="Address"/>
                <apex:column value="{!item.account.PersonHomePhone}" headerValue="Home Phone Number"/>
          </apex:pageBlockTable>
      </apex:pageBlock>
      <apex:outputPanel id="panelId">
            <apex:commandButton value="Ok"  action="{!verifyFamilyDemographics }" status="closer"   reRender="panelId" rendered="{!bCoreApiServiceREST}"/> 
            <apex:commandButton value="Cancel" status="closer" reRender="panelId" />
            <apex:actionStatus startText="" onStop="ClsSubTabandRefPriTab();" id="closer"/>
      </apex:outputPanel>
    </apex:form>
    
 </apex:page>