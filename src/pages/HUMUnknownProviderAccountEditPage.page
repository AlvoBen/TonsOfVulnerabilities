<!--
VF Page Name     : HUMUnknownProviderAccountEditPage
Version          : 1.0 
Created On       : July 22 2014
Function         : This VF Page is opened when user clicks on Create Unknown Provider button in Provider Search Page
Modification Log :
* Developer  Name           Code Review          Date                 Description
* ------------------------------------------------------------------------------------------------------------------------------                
* Ranjeeth Nagishetty       17122                07/22/2014           Original Version
* Tanushree Hazari          17122                02/08/2014           Modified static resource and added alignment
* Ranjeeth Nagishetty       18059                24/09/2014           Changed the  primary speciality field and added validations
* Ranjeeth Nagishetty       18841                10/29/2014           Changed in the Field Length as per REQ - 63682
* Ranjeeth Nagishetty       18956                11/04/2014           Changed the Zipcode Length to 5 characters REQ - 63682
* Ranjeeth Nagishetty       19850                11/26/2014           Defect:160988
* Ranjeeth Nagishetty       23424                05/28/2015           Changed the Field Length for Account Name,Indivdual Firstname,Individual Lastname.
* Praveen Kumar Parimi      48880                11/21/2016           Added setTimeout to Save Button to prevent from multiple clicks and submissions.
* Sai Ayyagari              172109               01/23/2018           REQ - 328929 Fix for HUMExceptionHelper: DML
* Firoja Begam              1946387              02/24/2021           T1PRJ0002736/PR00094232 - 2021 - MF6 - Security - Checkmarx High Defects in Release_2021_02_21 - SF - TECH - Type: "inputText Ignoring FLS" - Remediation
-->

<apex:page standardcontroller="Account" extensions="HUMUnknownAccountController" sidebar="false" showheader="false" id="page">
   
    <!--  Current page specific business logic is incorporated into the Javascript file -->
    <apex:includeScript value="{!$Resource.HUMUnknownAccountUtility}"/>
     <apex:includeScript value="/support/console/31.0/integration.js"/>
    <apex:form id="frm">
    <!-- For Constructor Related exception -->
        <c:HUMConstructorExceptionComponent errorLogs="{!listErrorLogs}" />
    <apex:actionRegion > 
        <apex:pageMessages id="errorMessage"/>
        <apex:outputpanel id="updatedInfo" >
            <script>
                var accountID='{!JSENCODE(account.Id)}';
                var bIsErrorOnPage= {!bIsErrorOnPage};
                var sAccountType ='{!JSENCODE(sAccountType)}';  
                window.onload = onLoadEvents; 
            </script>
        </apex:outputpanel>
        <apex:pageBlock title="{!$Label.HUMBusinessAccount_Title}" id="thePageBlock" mode="maindetail">
           <apex:pageblockbuttons location="both">
                <apex:commandbutton value="Save" action="{!Save}" rerender="frm" onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;');" onComplete="populateUknownDetail();"/>
                <apex:commandbutton value="Cancel" onclick="cancelTab();return false;" />
            </apex:pageblockbuttons>
            <apex:pageBlockSection showHeader="true" title="Account Information" id="PBS" columns="2" >
                <apex:pageblockSectionItem id="PBSI1">
                    <apex:outputlabel >Provider Classification</apex:outputlabel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>  
                        <apex:actionRegion >                  
                        <apex:selectlist id="classificationList" value="{!account.Provider_Classification__c}" required="true" multiselect="false" size="1" style="width:150px"    >
                            <apex:selectoptions value="{!Providerclassification}" ></apex:selectoptions>
                            <apex:actionSupport event="onchange" action="{!resetValuesOnProviderTypeChange}"
                                        rerender="fnamepanel,lnamepanel,prvnamepanel"  />
                        </apex:selectlist>
                        </apex:actionRegion> 
                    </apex:outputPanel>
                </apex:pageblockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Account Record Type"/>
                    <apex:outputText value="{!sRecordTypeName}"/>
                </apex:pageBlockSectionItem>
               <apex:pageBlockSectionItem >
                        <apex:outputlabel >{!$Label.HUMLabelFirstName}</apex:outputlabel>
                        <apex:outputpanel id="fnamepanel">
                            <apex:outputpanel id="fnamesub"
                                rendered="{!IF(Account.Provider_Classification__c == $Label.HumProviderNameIndividual  ,true,false)}"
                                styleClass="requiredBlock" layout="block">
                               <div class = "requiredInput">
                                <div class = "requiredBlock"></div>
                                <apex:inputField id="FName" value="{!Account.Individual_First_Name__c}" html-Maxlength="63" required="true" /> <!--Checkmarx inputText ignoring FLS Fixed-->
                               </div>
                            </apex:outputpanel>
                        </apex:outputpanel>
                    </apex:pageBlockSectionItem>
                <apex:inputField value="{!Account.BillingCountryCode}" label="Billing Country" />
                 <apex:pageBlockSectionItem >
                        <apex:outputlabel >{!$Label.HUMAgencySearchLabelLastName}</apex:outputlabel>
                        <apex:outputpanel id="lnamepanel">
                            <apex:outputpanel rendered="{!IF(Account.Provider_Classification__c == $Label.HumProviderNameIndividual  ,true,false)}"
                                styleClass="requiredBlock" layout="block">
                                <div class = "requiredInput">
                                <div class = "requiredBlock"></div>
                                <apex:inputField id="LName" value="{!Account.Individual_Last_Name__c}" required="true"  html-Maxlength="63" /> <!--Checkmarx inputText ignoring FLS Fixed-->
                                </div>
                            </apex:outputpanel>
                        </apex:outputpanel>
                    </apex:pageBlockSectionItem>
                <apex:inputtext value="{!Account.billingstreet}" maxlength="150" rendered="{!$ObjectType.Account.fields.BillingStreet.Accessible}"/> <!--Checkmarx inputText ignoring FLS Fixed-->
               <apex:pageBlockSectionItem >
                        <apex:outputlabel >{!$Label.HUMLabelAccountName}</apex:outputlabel>
                        <apex:outputpanel id="prvnamepanel">
                            <apex:outputpanel rendered="{!IF((Account.Provider_Classification__c != $Label.HumProviderNameIndividual),true,false)}"
                                styleClass="requiredInput" layout="block">
                                <apex:outputPanel styleClass="requiredBlock" layout="block" />
                                <apex:inputField id="accName" value="{!Account.Name}" html-Maxlength="63" required="true" /> <!--Checkmarx inputText ignoring FLS Fixed-->
                            </apex:outputpanel>
                        </apex:outputpanel>
                    </apex:pageBlockSectionItem>
                <apex:inputField value="{!Account.billingcity}" html-Maxlength="40"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                <apex:inputField value="{!Account.Parentid}"/>
                <apex:pageBlockSectionItem >
                    <apex:outputlabel >{!$Label.HUMBilling_State_Province}</apex:outputlabel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!Account.BillingStateCode}" required="true" rendered="true" />
                    </apex:outputpanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem />
                <apex:inputField value="{!Account.billingpostalcode}" html-Maxlength="5"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                <apex:pageBlockSectionItem />
                <apex:inputField id="UMPhone" value="{!Account.phone}" onblur="phoneFormating('{!$Component.UMPhone}'); return true;" html-Maxlength="10"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                <apex:pageBlockSectionItem />
                <apex:inputField value="{!Account.Work_Email__c}" html-Maxlength="80"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                <apex:pageBlockSectionItem />
                </apex:pageBlockSection>
                <apex:pageBlockSection title="Additional Information" showHeader="true">
                    <apex:inputText label="{!$Label.HUMAgencySearchTaxId}" value="{!sTaxID}" maxlength="9" rendered="{!$ObjectType.ConsumerID__c.fields.Consumer_ID__c.Accessible}"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                    <apex:pageblocksection />
                    <apex:inputField value="{!Account.NPI_ID__c}" html-Maxlength="10"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                    <apex:pageblocksection />
                    <apex:inputtext value="{!Account.Description}" maxlength="105" rendered="{!$ObjectType.Account.fields.Description.Accessible}"/> <!--Checkmarx inputText ignoring FLS Fixed-->
                </apex:pageBlockSection>
        </apex:pageBlock>
        </apex:actionRegion>
    </apex:form>
  </apex:page>