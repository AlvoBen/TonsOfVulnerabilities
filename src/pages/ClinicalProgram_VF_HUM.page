<!--
Page Name        : ClinicalProgram_VF_HUM
Version          : 1.0 
Created Date     : 10/23/2018
Function         : This Page is used to display Clinical Program Details of the Memeber.
Modification Log :
* Developer               Code Review                     Date                 Description
* ------------------------------------------------------------------------------------------------------------------------------                
* Sagar MN                                             10/23/2018          Original Version
* Asish                                                06/18/2019          Req - 367091 Custom lable added 
* Sagar MN                                             07/09/2019          Defect:427252 fixed reordering of table columns
* Sagar MN                                             07/11/2019          Defect:427770 fixed Logging Button Look and feel 
* Mithra Bharadwaj                                     01/28/2020          REQ-  410627 Logged Image is not displayed completely in 'Image Viewer' section for Clinical Programme page.
* Harish Gowda                                         02/12/2020          User Story 779005 PR00091574 - MF 1 - Quality - Rename Clinical Program Link Label to Health Resources (CRM)
* Ranjeeth N			                 			   05/18/2020		   Df-746 column with null
* Imran			                 		               05/21/2020		   Df-759 Sectionheader overlap with logging component
* Anuradha Gajbhe                                      12/06/2021          US-2847494 JQuery/Bootstrap/Angular update - Authorization pages and clinical program pages
* Pinky Vijur                                          07/14/2023          User Story 4647183: T1PRJ0891742 - VIT19761200 - Data Table Upgrade - Billing, Health Resource, Grievance & Appeals, & MTV (Group 1)
*---------------------------------------------------------------------------------------------------------------------------------->
<apex:page tabStyle="Policy_Member__c" controller="ClinicalProgramDetail_C_HUM" showHeader="false" sidebar="false" >
  <apex:includeScript value="/support/console/41.0/integration.js"  />
  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}"/>
 
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.js')}" />

  <apex:includeScript value="{!URLFOR($Resource.html2canvas, '/html2canvas.min.js')}" />
  
  
  <apex:includeScript value="{!URLFOR($Resource.ClinicalProgram_SR_HUM, 'ClinicalProgram_SR_HUM/clinicalprogram.js')}"/> 
  
  <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/DataTables-1.13.4/css/dataTables.bootstrap.min.css')}" />

  <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT,'/Logging/css/LoggingCompCSS.css')}" />
  <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/DataTables/css/BaseDataTable_CSS_HUM.css')}" />
  <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.ClinicalProgram_SR_HUM, 'ClinicalProgram_SR_HUM/clinicalprogram.css')}"/>


  <script type="text/javascript">
    //dont enable P9 Critical Fix    var $jIdCard = jQuery.noConflict();//Please do not change this line as it breaks the JS tables.        
        
        var ClinicalProgramDetail = CreateClinicalProgramDetail();
        ClinicalProgramDetail.MemberId = '{!sMemberID}';
        ClinicalProgramDetail.MemberGenKey = '{!sMemberGenKey}';
        ClinicalProgramDetail.clinicalProgram_Failure_HUM = '{!JSENCODE($Label.clinicalProgram_Failure_HUM)}';
        ClinicalProgramDetail.clinicalProgram_ServiceError_HUM = '{!JSENCODE($Label.clinicalProgram_ServiceError_HUM)}';
        ClinicalProgramDetail.clinicalJsonData = '{!$RemoteAction.ClinicalProgramDetail_C_HUM.getClinicalNurseCareData}';
        jQuery(document).ready(function()
        {           
            ClinicalProgramDetail.render();
        });  
  </script>

  <div class="clinical">
    <div id="loggingStickyHeader" class="LoggingCompCSS fixedDiv clinicalLoggingCompCSS" style="position: relative;font-weight: Normal; width:100%">
      <c:Logging_CMP_HUM DisplayMessage="false"
                         Logging_Color="red"
                         Logged_Item_Color="blue"
                         Screenshot_Area_Id="pageContent"
                         AttachmentKey="{!sAttachKey}"
                         AttachmentDesc="Clinical Program External ID"
                         RecordId="{!sPolicyId}"/>
    </div>  
        <div id="pageContent" style="display:block;" class="pgcon clinicalPgCon">
          <table class="pageHeader enable_logging sectionheaderClinical" style="width:100%;">
            <tr>
              <td >
                <apex:sectionheader title="Health Resources" subtitle="{!sPolicyMemberName}"/>
              </td>
            </tr>
          </table>
          <apex:pageBlock mode="maindetail">
            <apex:pageBlockSection title="Enrolled Programs" collapsible="true" columns="1" id="enrolledProgram">
              <apex:pageBlockSectionItem >
                <apex:form >
                  <apex:actionFunction name="showMessage" action="{!showPageMessage}" rerender="showmsg,dtTableOutPanel">
                    <apex:param name="level" assignTo="{!sLevel}" value="" />
                    <apex:param name="message" assignTo="{!sMessage}" value="" />
                  </apex:actionFunction>
                  <apex:pageMessages id="showmsg" />
                </apex:form>
              </apex:pageBlockSectionItem>

              <apex:outputpanel rendered="{!isRendered}" id="dtTableOutPanel">
                <div id="infoMessage" style="display:none">
                  <apex:PageMessage rendered="true" strength="2" summary="Error Occured. Please contact service desk." severity="Info" />
                </div>
                <c:BaseDataTable_CMP_HUM jqueryVariable="jQuery"
                                         tableid="groupIdCardTable"
                                         tablecontainerid="groupIdCardTableContainer"
                                         enablesearch="f"
                                         info="true"
                                         keyword="false"
                                         sort="true"
                                         columnname="{!sColumnNameEnroll}"
                                         objName="Clinical_Program__c"
                                         col1_accordian="false"
                                         col1_editDelete="false"
                                         col1_orderable="true"
                                         columnHeader="{!sColumnHeaderEnroll}"
                                         orderColumn="0"
                                         orderDirection="asc"
                                         orderingBool="true"
                                         col1_searchable="true"
                                         fixedColumn="0,1,2,3,4"
                                         tableClass="enable_logging table table-striped table-bordered width100"
                                                         
                                                         />
              </apex:outputpanel>
            </apex:pageBlockSection>
          </apex:pageBlock>
          <apex:pageBlock mode="maindetail">
            <apex:pageBlockSection title="Available Programs" collapsible="true" columns="1" id="eligibleProgram">
              <apex:pageBlockSectionItem >
                <apex:form >
                  <apex:actionFunction name="showMessage1" action="{!showPageMessage}" rerender="showmsg1,dtTableOutPanel1">
                    <apex:param name="level" assignTo="{!sLevel}" value="" />
                    <apex:param name="message" assignTo="{!sMessage}" value="" />
                  </apex:actionFunction>
                  <apex:pageMessages id="showmsg1" />
                </apex:form>
              </apex:pageBlockSectionItem>

              <apex:outputpanel rendered="{!isRendered}" id="dtTableOutPanel1">
                <div id="infoMessage1" style="display:none">
                  <apex:PageMessage rendered="true" strength="2" summary="Error Occured. Please contact service desk." severity="Info" />
                </div>
                <c:BaseDataTable_CMP_HUM jqueryVariable="jQuery"
                                         tableid="groupIdCardTable1"
                                         tablecontainerid="groupIdCardTableContainer1"
                                         enablesearch="false"
                                         info="true"
                                         keyword="false"
                                         sort="true"
                                         columnname="{!sColumnNameEligible}"
                                         objName="Clinical_Program__c"
                                         col1_accordian="false"
                                         col1_editDelete="false"
                                         col1_orderable="true"
                                         columnHeader="{!sColumnHeaderEligible}"
                                         orderColumn="0"
                                         orderDirection="asc"
                                         orderingBool="true"
                                         col1_searchable="true" 
                                         col3_visible="{!bClinicalSwitch}"
                                         fixedColumn="0,1"
                                         tableClass="enable_logging table table-striped table-bordered width100"
                                                         />

              </apex:outputpanel>
            </apex:pageBlockSection>
          </apex:pageBlock>
        </div>
      </div>
</apex:page>