<!--
Page Name        : HUMProcessRelatedList
Version          : 1.0 
Created Date     : 05/14/2015
Function         : This Page holds Related list information for Case Process.
Modification Log :
* Developer               Code Review            Date                 Description
* ------------------------------------------------------------------------------------------------------------------------------                
* Manish Kumar            23321                  05/14/2015           Original
* Manish Kumar            23614                  06/03/2015           Fixing defect for Process panel. Now passing 15 digit CaseID instead of 18 
* Manish Kumar                                   06/19/2015           Changed the caseID from 15 digts to 18 digits      
* Shreya Choodamani                              06/20/2015           Added page:action for deleting incorrect submissions
* Harshith Mandya         24230                  06/24/2015           Added page name for Part D - Line no 27
* Praveen Kumar Parimi    27942                  05/13/2016           Added Guided Process Page Variable
* Ranjeeth Nagishetty     141064                 10/13/2017           Added details for Medicare Good cause reinstatement form - REQ 311453
* Asish Behera                                   02/12/2018           REQ - 351006 Added PCPPCD Process Page Variable 
* Asish Behera                                   06/28/2018           REQ - 367117 - Refer new page name PCPTemplate_VF_HUM instead of old page PCPTemplate_VF_AHT_HUM. 
* Praveen Kumar Parimi                           06/20/2019           REQ - 382701 - Removal of Pre-Existing Condition Template from Case Edit Page and Case Detail Page.
* Praveen Kumar Parimi                           09/04/2019           Addition of of Pre-Existing Condition Template on Case Detail Page.
* Y Sunil Kumar Reddy                            01/21/2021           User Story 1763850: PR00091574 - MF 1 - Quality - "Medicaid PAR Provider Not Accepting" template and case validations (CRM)
* Pooja Kumbhar							         03/02/2021			   REQ -2044588 pre-ex process removal for checkmarx scan issue
* Jayeshkumar Solanki							 03/22/2021				User Story 2016293: T1PRJ0001827 - MF 1 - RESEARCH - Medicare Disenrollment/Cancellation Template Implementation (RF)
* Apurva Urkude								 03/07/2022			  User Story 2835823 - Welcome Call - Access the 'E&O Welcome Call' Guided Process
-->

<apex:page standardController="Case" extensions="HUMProcessRelatedListController" action="{!deleteInvalidSubmission}">
    <apex:includeScript value="/support/console/28.0/integration.js" />    
    <apex:includeScript value="{!URLFOR($Resource.HUMCaseActionRelatedList, '/HUMCaseActionRelatedList/HUMCaseActionRelatedListJS.js')}" /> 
    <apex:includeScript value="{!URLFOR($Resource.HUMProcessRelatedList, 'main.js')}" /> 
  
    <script type="text/javascript">
        var HUMCOBProcess = '{!$Page.HUMCOBProcess}';       
        var HUMQAATemplates = '{!$Page.HUMQAATemplates}';
        var HUMAddressVerificationProcess = '{!$Page.HUMAddressVerificationProcess}';
        var HUMMedicareExpAppealProcess = '{!$Page.HUMMedicareExpAppealProcess}';
        var HUMMedicareOIProcess = '{!$Page.HUMMedicareOIProcess}';
        var HUMMedicarePartDRedeterProcess = '{!$Page.HUMMedicarePartDRedeterProcess}';
        var GuidedProcessDetail_HUM_VF = '{!$Page.GuidedProcessDetail_VF_HUM}';
        var HUMMediGoodCause = '{!$Page.HUMMedicareGoodCauseReinstatementProcess}';
        var UserId = '{!$User.Id}';
        var HUMPCPPCDPROCESS = '{!$Page.PCPTemplate_VF_HUM}';
        var HUMMedicaidPARProviderNotAcceptingPage = '{!$Page.MedicaidPARProviderNotAccepting_VF_HUM}';
    	var HUMMedicareDisenrollmentPage = '{!$Page.MedicareDisenrollment_VF_HUM}';        
        var HUMEnrollmentWelcomeCallPage = '{!$Page.HUMEnrollmentWelcomeCall_VF_HUM}';
        window.$Label = window.$Label || {};
        $Label.PCPPCDTemplateName_HUM = '{!JSENCODE($Label.PCPPCDTemplateName_HUM)}';        
        $Label.MedicaidPARProviderNotAccepting_HUM = '{!JSENCODE($Label.MedicaidPARProviderNotAccepting_HUM)}';      
    	$Label.MedicareDisenrollment_HUM = '{!JSENCODE($Label.MedicareDisenrollment_HUM)}';
        $Label.Enrollment_Welcome_Call_Process = '{!JSENCODE($Label.Enrollment_Welcome_Call_Process)}';
    </script>
    <apex:form >
        <apex:pageBlock id="pgBlock">
            <apex:pageblocksection columns="1" collapsible="false">
                <apex:pageBlockTable value="{!lstSObj}" var="p" rendered="{!iOldProcessCount > 0}">
                    <apex:column headerValue="Process Type">
                        <apex:outputLink target="_blank" onclick="openActionTab('{!p['Case__c']}','{!p['Case_Action__r.Name']}'); return false;">{!p['Case_Action__r.Name']}</apex:outputLink>
                    </apex:column>
                    <apex:column headerValue="Created Date">
                        <apex:outputField value="{!p['CreatedDate']}" /></apex:column>
                    <apex:column headerValue="Created By">
                        <apex:outputField value="{!p['CreatedById']}" /></apex:column>
                    <apex:column headerValue="Last Modified Date">
                        <apex:outputField value="{!p['LastModifiedDate']}" /></apex:column>
                    <apex:column headerValue="Last Modified By">
                        <apex:outputField value="{!p['LastModifiedById']}" /></apex:column>
                </apex:pageBlockTable>
                <apex:pageBlockTable value="{!lstSObj}" var="obj" rendered="{!iOldProcessCount <= 0}">
                    <apex:column headerValue="Process Type">
                        <apex:outputLink target="_blank" onclick="openActionTabForNewProcess('{!Case.ID}','{!obj['Template__r.Description__c']}'); return false;">{!obj['Template__r.Description__c']}</apex:outputLink>
                    </apex:column>
                    <apex:column headerValue="Created Date">
                        <apex:outputField value="{!obj['CreatedDate']}" /></apex:column>
                    <apex:column headerValue="Created By">
                        <apex:outputField value="{!obj['CreatedById']}" /></apex:column>
                    <apex:column headerValue="Last Modified Date">
                        <apex:outputField value="{!obj['LastModifiedDate']}" /></apex:column>
                    <apex:column headerValue="Last Modified By">
                        <apex:outputField value="{!obj['LastModifiedById']}" /></apex:column>
                </apex:pageBlockTable>
            </apex:pageblocksection>
        </apex:pageBlock>
    </apex:form>
</apex:page>