<!--
Page Name        : WQV_ExpressionBuilder_VF_HUM.page
Version          : 1.0
Created On       : 11/15/2017
Function         : VF page to display Expression Builder Table

Modification Log: 
* Developer Name           Code Review                 Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Rajesh Keswani									11/15/2017						REQ - 335294 ; Ability to filter inventory to a Work Queue View with two different sets of criteria (CR751/458) 
* Mithra Bharadwaj                                      02/09/2021          US#1522825 SonarQube Changes
* Prudhvi Pamarthi                                  04/08/2021                      US#2163299 Checkmarx scan issue fix
* Prasuna Pattabhi                   		 	     12/13/2021                   2753712 Changes for JQuery and Bootstrap for Case Management - QueueView
* Pinky Vijur                                  08/05/2023                  User Story 4647289: T1PRJ0891742 - VIT19761200 - Data Table Upgrade - Business Configuration & Omni Channel (Group 2)
-->

<apex:page controller="WQV_ExpressionBuilder_C_HUM" showheader="true" sidebar="false">

  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}" />
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/DataTables-1.13.4/js/jquery.dataTables.min.js')}" /><!--DT Upgrade-->
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/Buttons-2.3.6/js/dataTables.buttons.min.js')}" /><!--DT Upgrade-->
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/Select-1.6.2/js/dataTables.select.min.js')}" /><!--DT Upgrade-->
  <apex:includeScript value="{!URLFOR($Resource.WQV_ExpressionBuilder_SR_HUM, '/JS/EditExpressionLogic.js')}" />
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/Responsive-2.4.1/js/dataTables.responsive.min.js')}" /><!--DT Upgrade-->
  <apex:includeScript value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/Bootstrap/dist/js/bootstrap.min.js')}" />
  <link rel="stylesheet" href="{!URLFOR($Resource.WQV_ExpressionBuilder_SR_HUM, '/CSS/select.dataTables.min.css')}"/>
  <link rel="stylesheet" href="{!URLFOR($Resource.WQV_ExpressionBuilder_SR_HUM, '/CSS/EditExpressionLogic.css')}"/>
  <link rel="stylesheet" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/DataTables-1.13.4/css/jquery.dataTables.min.css')}"/><!--DT Upgrade-->
  <link rel="stylesheet" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/Buttons-2.3.6/css/buttons.dataTables.min.css')}"/><!--DT Upgrade-->
  <link rel="stylesheet" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/Responsive-2.4.1/css/responsive.dataTables.min.css')}"/><!--DT Upgrade-->
  <link rel="stylesheet" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/Bootstrap/dist/css/bootstrap.min.css')}"/>
  <apex:outputpanel id="pageMsg">
    <apex:pageMessages id="msgId" />
  </apex:outputpanel>
  <apex:outputPanel id="WQVError" Styleclass="displayNone">
    <apex:PageMessage Summary="Please provide group number for all the items before building the expression." severity="Error" Strength="2" title="Error:" />
    <apex:pagemessages />
</apex:outputPanel>
<apex:pageBlock >

<table class="detailList"><tbody><tr><td class="labelCol">Work Queue Name</td><td class="dataCol col02">{!WQName}</td><td class="labelCol empty">&nbsp;</td><td class="dataCol empty">&nbsp;</td></tr>
<tr><td class="labelCol">Queue View Name</td><td class="dataCol col02">{!QVName}</td></tr></tbody></table>
            </apex:pageBlock>
  <table class="display table table-striped table-bordered tableAlignment dataTable" id="qviDT">
    <thead>
      <tr>
        <th>
          <input name="select_all" value="1" id="example-select-all" type="checkbox" style="margin-left: 46%;" />
        </th>
        <th>QVI Name</th>
        <th>API Name And Value</th>
        <th>Set/Group Number</th>
      </tr>
    </thead>
  </table>
  <apex:form id="frmQVExprBuilder">
    <apex:actionStatus startText="requesting..." stopText="" id="myStatus" />
    <apex:commandButton id="buildBtn" onClick="getData();return false;" value="Build Expression" reRender="abc"/>
    <apex:commandButton id="cancelBtn" value="Cancel" action="{!redirectDirectly}" styleclass="custBtn"/>
    <apex:actionFunction name="buildExpr" action="{!buildExpression}" status="myStatus" reRender="pageMsg">

      <apex:param name="qviData" assignTo="{!serializeData}" value="" />
    </apex:actionFunction>
  </apex:form>
  <script>
    var rowData = JSON.parse('{!JSENCODE(serializeData)}');
    var vTable;
</script>
</apex:page>