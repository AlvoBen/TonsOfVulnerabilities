<!--
Page Name        : BenefitsV2_VF_HUM.page
Version          : 1.0
Created On       : 04/11/2018
Function         : VF page to display Benefit tables from the controller Benefits_C_HUM services

Modification Log:
* Developer Name           Code Review                 Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Pradeepkumar Dani         30259                    03/16/2016                   Original Version
* Samridh Manucha           30467                    03/25/2016                   Added Cost Share Reduction Table [ REQ - 241768 ]
* Rajesh Keswani            30467                    03/25/2016                   Added Dental Policy Info Table [ REQ - 244431 ]
* Naveen Kanth              30467                    03/25/2016                   Added Dental Waiting Periods Table [ REQ - 241770 ]
* Pradeepkumar Dani         30467                    03/25/2016                   Added Humana One Member Tables [ REQ - 237281 ]
* Naveen Kanth              30600                    03/25/2016                   Added Policy Rider Table [ REQ - 237426 ]
* Naveen Kanth              30467                    03/25/2016                   Changes for Access Accums from Member Policy Page [ REQ - 237263 ]
* Pradeepkumar Dani         24929                    04/13/2016                   Added CAS policy check for Humana One Tables & JS changes
* Avinash Choubey           31077                    04/18/2016                   Design Change in All Accums Req ( 237142, 246888 etc)
* Rajesh keswani            26125                    04/26/2016                   changes in JS variable for MBE and PBE DTO
* Rajesh keswani            26125                    04/27/2016                   changes in JS variable for GBE DTO
* Pradeepkumar Dani         26125                    04/27/2016                   Added Benefit Summary Section
* Shikhar Mehta             26826                    04/27/2016                   Added code for Logging REQ (REQ-184833)
* Vishal Verma              26826                    04/29/2016                   REQ 184827 : Implementation of Benefits Search Benefits Search
* Pradeepkumar Dani         27537                    04/27/2016                   Added Page Header
* Avinash Kumar Choubey     VS-27321                 05/09/2016                   Added Benefits Snaphot Component  for REQ 237280
* Avinash Kumar Choubey     VS-27559                 05/09/2016                   Added Reimbursement Link Command Button in Accumulator section  for REQ 252624
* Vishal Verma              VS-27729                 05/18/2016                   Defect : 224489 Added JS variable vObjPolMemBenefitCoverage for platform field Benefit Coverage
* Rajesh Keswani            27613                    05/19/2016                   Added JS variable for platform
* Avinash Kumar Choubey     29441                    05/09/2016                   Updated Reimbursement button onclick function to open resizable window in IE
* Apoorv Jain               29441                    05/25/2016                   REQ-269840 : VOB - Defect 224774.0001 - Move Logging Component to the Top of the VOB Tab
* Shiva Pasumarty           29441                    05/25/2016                   REQ - 269840, Defect Fix 227112.0001 - Sidepanel width is not fixed while scrolling in VOB logging page selecting Existing Case
* Shikhar Mehta             29441                    05/27/2016                   Defect Fix 227625
* Avinash Kumar Choubey     VS-29441                 06/06/2016                   Moved RedirectToothHistory JS method to static resource   REDIRECT_TO_EXTERNAL_APP_SR_HUM
* Pradeepkumar Dani         30167                    06/15/2016                   Update mode attribute to maindetail - Defect#229984.0001
* Avinash Kumar Choubey     31811                    06/16/2016                   Added vObjPolStatus JS Variable to use BenefitsSnapshot Static resource
* Pradeepkumar Dani         31811                    07/04/2016                   Added standard values for logging - Defect#230623.0001
* Vishal Verma              32171                    07/06/2016                   Defect 232349.0001 : Removed duplicate JS variable
* Avinash Choubey           32583                    07/12/2016                   Removed MBE Dependency for Gen Key REQ - 269975
* Rajesh Keswani            33262                    07/19/2016                   Defect fix: 481 PROD defect
* Rajesh Keswani            38022                    09/01/2016                   Implemented Tooth History REQ - 280369, REQ-270375, REQ -270375.
* Shiva Pasumarty           48882                    11/22/2016                   REQ - 290153 : VOB UI performance enhancement to reduce high view state memory usage.
* Praveen Kumar Parimi      56654                    01/11/2017                   Created a New Version for PCP/Tiering Project changes.
* Praveen Kumar Parimi      58030                    01/20/2017                   Implementd the fix for 256492.0001.
* Rajesh Keswani            109089                   07/24/2017                   REQ - 299431 Making Place of Service drop down dynamic
* Avinash Choubey           109914                   07/24/2017                   REQ - 300751 Making Par Codeâ€ drop down dynamic(for CAS Members) and Sorted
* Santhi Mandava            85904                    04/20/2017                   Added logic to pass attachment key and description values to logging component. REQ-300121 - Merged Rolledback code
* Avinash Choubey           115800                   08/01/2017                   added Pharmacy Mail Order Benefits Grid REQ - 320346
* Vijaya Koriprolu          138809                   10/07/2017                   REQ-304935 : VOB Prefill the Reimbursement tool with Provider Contract Number
* Melkisan Selvaraj         220187                   04/11/2018                   Cloned from BenefitsV1_VF_HUM for REQ - 360140
* Vishal Verma              229766                   05/16/2018                   REQ - 355782 : Add Dental Paid Thru Date to Benefits and Accums Summary section
* Lakshmi Madduri          245900                    05/28/2018                   REQ - 363360 : Added Vision policy Label based on conditions
* Amar Gadewar                                       06/22/2018                   REQ - 367117 - Remove the RapidForce_Release1_AHT Custom Permission
* Melkisan Selvaraj                                  07/03/2018                   REQ - 366178 Link to CAS Web UI
* Lakshmi Madduri                                     08/08/2018                   Added Platform code to Benefit search 
* Melkisan Selvaraj         271010                   08/09/2018                   REQ - 362101 To auto populate benefits grid
* Suraj Patil                317899                   12/08/2018                   REQ - 352457 NBA MF-4 Guidance Alert
* Praveen Kumar Parimi      318033                   12/10/2018                   Added Jquery reference for the Direct URL Defects.
* Satyam Malviya            322729                   12/28/2018                   Defect#396761- REQ - 359146_On Benefits & Accumulator and Accumulator Pages, heading Overlapped when Alert Panel
* Suraj Patil               323356                   12/31/2018                   396762 REQ - 354312_Fields getting overlapped on left panel Defect test document
* Sumit Pharande          327253                     01/11/2019                   Defect 395516.0001 Fix
* Melkisan Selvaraj         299051                   01/03/2019                   REQ - 377279 - CA Ticket 7808456 - CRM : Metavance Accumulators link defect fix.
* Melkisan Selvaraj         328353                   01/16/2019                   REQ - 379750 - Incident 7889073 Pharmacy Mail Order Benefit Snapshot Collapse issue fix.
* Mithra Bharawdaj          321316                   01/22/2019                   REQ - 380530 - Policy member id link is available during logging in Benefits tab Transfer Group Notification
* Prudhvi Pamarthi                                   02/18/2019                   REQ - 361155 - Not allowing case creation on Legacy Deleted policies.
* Praveen Kumar Parimi 			347819                   03/29/2019		              REQ - 385948 - Making Policy member ID and its hyperlink not loggable in Benefit Snapshot section aka CA Ticket # 8080924.
* Dinesh Subramaniyan				      04/18/2018		  REQ - 396416 - Modify logic for CAS benefit grids to auto-populate
* Sumit Pharande			 							                  REQ-386780 - Removed ; from Collapsible Side panel URL to pass correct Account id
* Sumanth Naredla                                    04/13/2019                   REQ - 396258 - User Story - Add Jump Links to Benefits Page (GBORF) (ID# 55)
* Suresh Sunkari                                      05/27/2019                  REQ - 383788 - Dual status field
* Sumanth Naredla                                     05/31/2019                
* Suraj Patil			  							  08/07/2019		  		  REQ - 405997 - Regression Defect - 423752
* Deepankar Binjola         48282                     09/19/2019                        REQ - 402985 Service Catalog IMS form to prepopulate with the plan information
* Yogesh Gupta                                        11/25/2019                 REQ - 410405 - Relocate Tooth History - Dental
* Deepankar Binjola         62295                     11/11/2019                 REQ-410450 Removal of Pharmacy Mail Order Snapshot section
* Deepankar Binjola         62335                     11/11/2019                 REQ-410411 Relocate Reimbursement Limit - Dental
* Suraj Patil                                         05/04/2020                 REQ - 737881 - MF 4 - Add Dental Paid Thru Date for HPS Members
* Subhamay Mandal                                     05/06/2020                 REQ-1083096 Increase the height of link panel on Benefits and Accums page (RF)
* Amar Gadewar                                 		    06/01/2020                 User Story 1163048: PR00091574 - MF 1 - AHT - Increase the height of link panel on Benefits and Accums page (CRM)
* Suresh Kokkeragadda                                 06/25/2020                 User Story 1203671: PR00091574 - MF 1 - SF - TECH - On/Off Switch Cleanup 07/07 and 07/17 releases (CRM)
* Yogesh Gupta                                        10/16/2020		  		       REQ - 1263946 PR00090631 - MF 10 - MVP  Alert Rules configuration - General
* Sayali Gavane                                  		  01/19/2021                 REQ_1450427-CA ticket - 9261131 (Sections in benefit page are not displaying) 
* Ranadheer Goud                                  		02/01/2021                 REQ - 1629104 PR00094920- MF 2  - Rx Benefits- Benefits and Accumulators page- remove the 'Pharmacy Mail Order Benefit Snapshot' section (RxXP/CRMS) (ID# 5)
* Pallavi Shewale				                              02/10/2021				         REQ -1669824 PR00094226  - CR AEP readiness -Research - Critical Security Issues (slide 11)		
* Prasanthi Kandula                                   03/25/2021                 US:1437221 Displaying Paid Thru Date for DEN and MED Benefit Summary     
* Suraj Patil                              			   05/31/2021			       USER STORY 1867803 T1PRJ0003278/PR00095917 - MF01 - Tooth History Data Fields
* Swapnali Sonawane                              	   09/02/2021			     US#1801286  T1PRJ0002472 / 94010 - MVP MF 6 - Benefits and Accumulator Page - Strides
* Nirmal Garg								   			09/16/2021			   Added browser logic for coveo
* Swapnali Sonawane                                     12/01/2021               REQ-2846564 T1PRJ0002736 - 2021 MF6 - Security- TECH - SF - OSA Library Verify JQuery Bootsrap or Angular methods are working fine in Benefits pages
* Pallavi Shewale										2/2/2022				 US_2918581
* Vivek														                    07/09/2022		             Updated the JS query to new Datatables to version to 1.12.1
* Tharun Madishetti                                   07/14/2023      US-4647138: T1PRJ0891742 - VIT19761200 - Data Table Upgrade - Authorizations, Benefits, & Claims (Group 1)
*******************************************************************************************************************************
-->
<apex:page id="thePage" tabStyle="Policy_Member__c" showHeader="false" sidebar="false" controller="BenefitsV2_C_HUM">
  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.js')}"/> 
  <apex:includeScript value="{!URLFOR($Resource.HUMjqueryUI, 'jquery.min.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.Benefits_SR_HUM, 'Benefits_JS_HUM.js')}" />
  <apex:includeScript value="{!URLFOR($Resource.REDIRECT_TO_EXTERNAL_APP_V2_SR_HUM, 'REDIRECT_TO_EXTERNAL_APP_V2_JS_HUM.js')}" />
  <link rel="stylesheet" text="text/css" href="{!URLFOR($Resource.Benefits_SR_HUM, 'Benefits_CSS_HUM.css')}" />
  <apex:includeScript value="{!URLFOR($Resource.html2canvas, '/html2canvas.min.js')}" />
  <link rel="stylesheet" text="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/CSS/HoverOver.css')}" />

  <apex:includeScript value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT,'/Base64_Encode_Decode.v.1.js')}" />
  <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.css')}" />
  <link rel="stylesheet" text="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, 'datatables_HUM.min.css')}" />
  
  <link rel="stylesheet" text="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT,'/Logging/css/LoggingCompCSS.css')}" />
  <apex:includeScript value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/js/CollapsibleBenefitsConsole.js')}" />
  <apex:stylesheet value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/styles/CollapsibleRightConsoleBenefits.css')}" />

  <script type="text/javascript">
	//Issue 1 Open Account-Case Page with Member to Member interaction in one tab and Open Account-Case Page with Agent/provider/group to Member interaction in other tab then RIght side panel goes away on 1st tab. Because Event name was not unique per tab
	//issue 2 When Interacting with is Agent/provider/group and Interacting About Member/unknown member then blank Right panels added on page. Because event was missing on page.
	//Adding CollapseRightAlertPanelCase event listener to hide right side panel and appending primary tab id to make event unique
	var getPrimaryTabId = function getPrimaryTabId() {
	sforce.console.getEnclosingPrimaryTabId(getTabPrimaryId);
	}
	var getTabPrimaryId = function getTabPrimaryId(result) {
	CollapseRightAlertPanelCase = 'CollapseRightAlertPanelCase' +result.id;
	sforce.console.addEventListener(CollapseRightAlertPanelCase, function(result){
		document.getElementById('main-container').classList.remove('mainContainer');
		document.getElementById('sideBar-container').style.display='none';
		document.getElementById('loggingStickyHeader').style.width='78%';
	}); 
	}
	getPrimaryTabId(); 
	
    <!-- Please do not change this line as it breaks the JS tables. -->
//dont enable P9 Critical Fix    $j = jQuery.noConflict(true);
    var ObjPolMemProd = '{!JSENCODE(objPolMem.Product__c)}';
	BenefitsFixFloatingLink();
  </script>

  <!-- Side Panel Information-->

  <div style="float:left; height:100%; width:280px;position:fixed;z-index: 1000">
    <div style="overflow:auto; height:100%; float:left; font-size:12px; top:0px; width:280px;">
      <c:DynamicCustomLinks_CMP_HUM DynamicLinkController="{!this}" />
    </div>
  </div>

  <!-- Side Panel End-->
  <!-- Benefits Table Information-->
      <div id="loggingStickyHeader" class="LoggingCompCSS fixedDiv" style="position:fixed;margin-left:280px;float:left;">
      <apex:outputPanel id="displayTheLogging" rendered="{!IF(objPolMem.Product__c != $Label.PolicyMember_ProductType_VIS_HUM, true, false)}">
	  
          <c:Logging_CMP_HUM DisplayMessage="false" Logging_Color="red" Logged_Item_Color="blue" Screenshot_Area_Id="pageContent" AttachmentKey="{!sAttachmentKey}" AttachmentDesc="Policy ExternalID" RecordId="{!sPolMemId}" disableButton="{!bdisableButton}" />  
      <c:FloatingLinks_CMP_HUM lstparam="{!lstFloatLinkelem}" />
      </apex:outputPanel>
      </div>
	  
      
      <div id="main-container" style="margin-left:280px;float:left;">
    <div class="middleContainer" style="float:left;">
	<br /><br />
      
	  <div id="pageContent" class="pgcon" style = "width:97%;">
			
        <apex:pageBlock mode="maindetail" id="thePageBlockid">
		 <div style="padding-top:20px;padding-left:5PX; margin-top:110px!important;"/>
            <apex:outputPanel id="benefitscoveo"  rendered="{!bCoveoUser}">
		    <!--Unified Search Button-->
              <c:UnifiedSearch_CMP_HUM id="uniId" policyMemberId="{!objPolMem.Id}" pageNameToPass="Benefits and Accumulators"/>             
			</apex:outputPanel> 
			
          <div class="sectionheader">
            <apex:sectionheader title="{!$Label.BenefitsandAccumulators_BenefitsVOB_HUM}" subtitle="{!objPolMem.Name}"/>
            <apex:pagemessage summary="{!$Label.BenefitsV2_VisionPolicy_HUM}" rendered="{!IF(objPolMem.Product__c == $Label.PolicyMember_ProductType_VIS_HUM, true, false)}" severity="info" strength="2"/>
          </div>
          <apex:form id="theFormBenefits" rendered="{!IF(objPolMem.Product__c != $Label.PolicyMember_ProductType_VIS_HUM, true, false)}">
            <div id="screenshotdata" style="background:white;">
              <apex:pageBlock id="thePageBolckBenefits" mode="maindetail">
			  <a id="CurrentBenefitPeriod"></a>
                <apex:pageBlockSection title="Current Benefit Period" collapsible="true" columns="1" id="thePageBolckSection0">
                  <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                      <c:CurrentBenefitsPeriodVOBV2_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>

                <!-- Benefits Snapshot -->
				<a id="BenefitSnapshot"></a>
                <apex:pageBlockSection title="{!$Label.BENEFITSSNAPSHOT_POLICY_MEMBER_HUM}" collapsible="true" columns="1" id="thePageBlockSection1">

                  <!-- Member Link -->
                  <table log_this="false" log_ignore_click="true">
					<tr log_this="false" log_ignore_click="true">
						<td log_this="false" log_ignore_click="true"><Label log_this="false" log_ignore_click="true"> {!$Label.POLICYMEMBERID_POLICY_MEMBER_HUM} : </label> <a href="javascript:openPolicyMemberTab();" log_this="false" log_ignore_click="true" >{!objPolMem.Name}</a>
						</td>
                    </tr>
                  </table>
                  <!-- Benefits Snapshot Table -->
                  <apex:pageBlockSectionItem rendered="{!(bIsMedical || bIsDental)}">
                    <apex:outputPanel >
                      <c:BenefitsSnapshotV2_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                  <!-- Member Cost Share Table -->
                  <apex:pageBlockSectionItem rendered="{!bIsMedical}">
                    <apex:outputPanel id="thePanelCostShareReduction">
                      <apex:outputLabel value="{!$Label.HUMANAONECOSTSHAREREDUCTION_POLICY_MEMBER_HUM}" />
                      <c:OneMedOnExcCostShareReduction_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>

                <!-- Pharmacy Mail Order Benefits Snapshot-->
				<!-- REQ - 1629104 -- commenting PharmacyMailOrderBenefitSnapshot section
				<a id="PharmacyMailOrderBenefitSnapshot" ></a>
                <apex:pageBlockSection title="{!$Label.Pharmacy_Mail_Order_Section_name}" rendered="{!!bIsDental}" collapsible="true" columns="1" id="thePageBlockSectionPMO">
                  <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                      <c:PharmacyMOBenefitsSnapShot_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
				-->
				
                <!-- HumanaOne Member Conditions -->
                <apex:pageBlockSection title="{!$Label.HUMANAONEMEMBERCONDITIONS_POLICY_MEMBER_HUM}" rendered="{!bIsMedical && !bIsVASPolicy}" columns="1" id="thePageBlockSectionHumanaOne">
                  <!-- Condition Specific Deducible -->
                  <apex:pageBlockSectionItem id="thePageBlockSectionOneMemberCondSpecific">
                    <apex:outputPanel >
                      <apex:outputLabel value="{!$Label.CONDITIONSPECIFICDEDUCIBLE_Policy_Member_HUM}" />
                      <c:OneMemberCondSpecDedu_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>

                  <!-- Exclusionary Rider -->
                  <apex:pageBlockSectionItem id="thePageBlockSectionOneMemberExclRider">
                    <apex:outputPanel >
                      <apex:outputLabel value="{!$Label.EXCLUSIONARYRIDER_POLICY_MEMBER_HUM}" />
                      <c:OneMemberExclRiderV2_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>

                  <!-- Waiting Period -->
                  <apex:pageBlockSectionItem id="thePageBlockSectionOneMemberWaitingPeriod">
                    <apex:outputPanel >
                      <apex:outputLabel value="{!$Label.WAITINGPERIOD_POLICY_MEMBER_HUM}" />
                      <c:OneMemberWaitingPeriod_CMP_HUM />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>

                <!-- Dental Waiting Periods -->
				<a id= "DentalWaitingPeriods"></a>
                <apex:pageBlockSection title="{!$Label.DENTALWAITINGPERIODS_POLICY_MEMBER_HUM}" collapsible="true" columns="1" rendered="{!bIsDental}" id="thePageBlockSection2">
                  <c:DentalWaitingPeriodDataTable_CMP_HUM />
                </apex:pageBlockSection>

                <!-- Policy Riders-->
                <apex:pageBlockSection title="{!$Label.POLICYRIDERS_POLICY_MEMBER_HUM}" columns="1" id="thePageBlockSectionPolicyRider">
                  <apex:pageBlockSectionItem >
                    <c:BenefitsRiderInfoV1_CMP_HUM />
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>

                <!-- Benefits Summary-->
				<a id="BenefitsSummary" ></a>
                <apex:pageBlockSection title="Benefits Summary" collapsible="true" columns="1" id="thePageBlockSectionBenSummary">
                  <apex:outputPanel rendered="{!bIsDental}">
                    <c:VOBBenefitsSummaryDentalV2_CMP_HUM PolicyName="{!objPolMem.Name}" />
                  </apex:outputPanel>
                  <apex:outputPanel rendered="{!bIsMedical}">
                    <c:VOBBenefitsSummaryMedicalV2_CMP_HUM PolicyName="{!objPolMem.Name}" />
                  </apex:outputPanel>
                </apex:pageBlockSection>
				
				<!--Tooth History Section-->
				<apex:outputPanel rendered="{!!bToothHistory}"><a id="ToothHistory" ></a></apex:outputPanel>
               <apex:pageBlockSection title="Tooth History" rendered="{!AND(bHasCRMS520Per,bIsDental, !bToothHistory)}" id="thePageBlockSectionTooHistory">
                    <apex:commandButton id="BtnDenToothHistory" Value="{!$Label.Tooth_History_Button}" onclick="showTHRadioButton(); return false;">
                    </apex:commandButton>
                    <apex:outputpanel ></apex:outputPanel>
                    <c:THLoggingV2_CMP_HUM personID="{!sPolMemId}" id="THLogCMPid" />
                  </apex:pageBlockSection>
				  
                <!-- Reimbursement Limit -->
				 <a id="ReimbursementLimit" ></a>
                   <apex:pageBlockSection title="Reimbursement Limit" rendered="{!AND(bHasCRMS520Per,bIsDental)}" id="thePageBlockSectionReimbursementLimit">
                    <apex:commandButton id="BtnDenRmbLink" Value="{!$Label.Reimbursement_Link_Button}" action="{!getAlternateReimburseID}" rendered="{!bHasCRMS520Per}" oncomplete="redirectRembLink('{!sAlternateReimburseId}',zipCd,asoInd,DateOfService,paramvalue,encodeVal,myWindow); return false;">
                    </apex:commandButton>                                           
                </apex:pageBlockSection>
                <!-- Benefits Search Section-->
				<a id="BenefitsSearch" ></a>
                <apex:pageBlockSection title="Benefits Search" collapsible="true" columns="1" id="thePageBlockSectionBenSearch">

                  <c:BenefitsSearchVOBV2_CMP_HUM platformCodeValue="{!objPolMem.Policy_Platform__c}"/>
                </apex:pageBlockSection>
				
				<!--New Tooth History Section-->
                <apex:outputPanel rendered="{!bToothHistory}"><a id="ToothHistory" ></a></apex:outputPanel>
                <apex:pageBlockSection title="Tooth History" collapsible="true" rendered="{!AND(bHasCRMS520Per,bIsDental,bToothHistory)}" columns="1" id="thePageBlockSectionTooHistoryNew">
                <apex:pageBlockSectionItem id="thePageBlockSectionMedical">
                    <apex:outputPanel >
                        <c:ToothHistory_CMP_HUM sPolicyMemberId="{!objPolMem.Id}" />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
				
                <!-- Accumulator Information-->
                <a href="accumulatorInfomation" id="AccumulatorInformation"></a>
                <apex:pageBlockSection title="{!$Label.ACCUMULATORINFORMATION_POLICY_MEMBER_HUM}" collapsible="true" columns="1" id="thePageBlockSectionAccumulatorInfomation">
                  <!-- Medical Information -->
                  <apex:pageBlockSectionItem id="thePageBlockSectionMedical">
                    <apex:outputPanel >
                      <apex:outputLabel value="{!$Label.BENEFITSCURRENT_POLICY_MEMBER_HUM}" />
                      <c:AccumsCurrentBenefitDataTableV2_CMP_HUM personID="{!sPolMemId}" sBenefitsType="Current" />
                    </apex:outputPanel>
                  </apex:pageBlockSectionItem>

                  <!-- Medical Information -->
                  <apex:pageBlockSection title="{!$Label.BENEFITSPREVIOUS_POLICY_MEMBER_HUM}" collapsible="true" columns="1" id="thePageBlockBenifitsPrevious">
                    <apex:pageBlockSectionItem id="thePageBlockItemPreviousBenifits">
                      <apex:outputPanel >
                        <apex:outputLabel value="{!$Label.BENEFITSPREVIOUS_POLICY_MEMBER_HUM}" />
                        <c:AccumsPreviousBenefitDataTableV2_CMP_HUM personID="{!sPolMemId}" sBenefitsType="history" />
                      </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                  </apex:pageBlockSection>
                </apex:pageBlockSection>
				
                <!-- VOB Dental Policy Information -->
				<a id= "DentalPolicyInformation"></a>
                <apex:pageBlockSection title="{!$Label.DENTALPOLICYINFORMATION_POLICY_MEMBER_HUM}" collapsible="true" id="thePageBlockSectionDentalPolInfoSection" columns="1" rendered="{!bIsDental}">
                  <apex:pageBlockSectionItem id="thePageBlockSectionDentalPolInfo">
                    <c:VOBDentalPolicyInfoV2_CMP_HUM personID="{!sPolMemId}" />
                  </apex:pageBlockSectionItem>
                </apex:pageBlockSection>
 		
               
              </apex:pageBlock>

              <apex:outputPanel id="thePanel">
                <script type="text/javascript">

                  //JS variables used in static resources across the page. Please do not change the names.
                  var vPBEResponse,vGBERawresponse,vGBEResponse,vMBEResponse,vMBERawresponse,vPBERawresponse,vServicesRawMBEResponse,vServicesMBEResponse;
                  var catagoryFilterValues ;
                  vGBERawresponse = '{!vGBEServiceRes}';
                  vMBERawresponse = '{!vMBEServiceRes}';
                  vPBERawresponse = '{!vPBEServiceRes}';
                  var filterValues = '{!ServiceTypeDTOStr}';

                  //If service is not returning error then JSON.parse method is used to convert the string response to JSON object
                  if({!MBEDTOResponseFlag}) vMBEResponse = JSON.parse(vMBERawresponse);
                  if({!PBEDTOResponseFlag}) vPBEResponse = JSON.parse(vPBERawresponse);
				  var MBEFaultString ='{!MBEFaultString}';              
                  var PBEFaultString='{!PBEFaultString}';
				  var bSwitchErrorMsg='{!bSwitchErrorMsg}';
				  if(vPBEResponse != undefined && vPBEResponse != null){
					var PlanId= vPBEResponse.pbePlanId;
					var PBEPlanId= document.getElementById("PBEPlanId").value=PlanId;
				  }
                  if({!GBEDTOResponseFlag}) vGBEResponse = JSON.parse(vGBERawresponse);
                  catagoryFilterValues = JSON.parse(filterValues);

                </script>
              </apex:outputPanel>
              <apex:outputPanel id="stdMap">
                <input type="hidden" id="StandardMapValuesForLogging" value="{!standardMapvalue}" />
              </apex:outputPanel>
              <!--To pass PolicyEndDate for CAS Link-->
              <apex:outputPanel >
                <input type="hidden" id="PolEndDateMMYY"/>
              </apex:outputPanel>
              <apex:outputPanel >
                <input type="hidden" value="{!objPolMem.name}" id="hdnMTVmemberId" />
              </apex:outputPanel>
	      <apex:actionFunction action="{!MentorGridService}" name="LaunchCASMentor" oncomplete="openBenefitGridWindow('{!bKMD}');"/>                          
              <apex:actionFunction action="{!invokeMBEService}" name="LoadDataHumanaOne" rerender="thePanel,stdMap" oncomplete="bIsDataLoaded = true; LoadData();" />
              <apex:actionFunction name="LoadData" rerender="thePageBlockSection1,thePageBlockSectionPMO,thePageBlockSection2,thePageBlockSectionHumanaOne,thePageBlockSectionPolicyRider,thePageBlockSectionBenSummary,thePageBlockSectionBenSearch,thePageBlockSectionDentalPolInfoSection" oncomplete="CheckDisableHumanaOne();" />
            </div>
          </apex:form>
        </apex:pageBlock>
      </div>
      <!-- Benefits End Tables -->
    </div>
  </div>
  <input type="hidden" id="PBEPlanId"/>
  <div class="alertTooltip" id="alertDetailsTooltip" style = "border-style: solid;font-family: Arial;display:none;" />
  <div id="sideBar-container" style="height:100%; position:fixed;float:right;z-index:1000;">
    <apex:outputpanel rendered="{!$Permission.NBA_Alerts_V2 }" >
      <div id="RTISummaryPage" style="float:right;width:300px;height:100%">
        <apex:iframe src="/apex/CollapsibleRightConsole_VF_HUM?id={!JSENCODE(objPolMem.Member__c)}&ServiceFlag=false&CollapsedSidePanel=true&RTIFlag=false&sOtherPageName=Benefits and Accumulators&polId={!objPolMem.Id}" height="600px" scrolling="true" id="alertsIframe"/>
      </div>
    </apex:outputpanel>
  </div>
  <script type="text/javascript">
    /*
    JS Initialization for Custom Labels and other variables.
    This section cannot be stored in static resource as Labels & Class Properties are not readable in Static resource.
    */

    var sSFDCBaseURL = '{!JSENCODE(sSFDCBaseURL)}';
    var dentalInformationPageName = '{!$Label.DentalInformationRedirectPageName}';
    var sOneClickURL = '{!JSENCODE(sOneClickURL)}';
    var sReimbursementAppURL = '{!JSENCODE(sReimbursementAppURL)}';
    var zipCdFullLength ='{!JSENCODE(objPolMem.Member__r.personmailingpostalcode)}';
    var zipCd= zipCdFullLength.substring(0, 3);;
    var asoInd='{!JSENCODE(objPolMem.ASO__c)}';
    var DateOfService ='{!JSENCODE(sDate)}';
    var vObjPolMemProd = '{!JSENCODE(objPolMem.Product__c)}';
    var bIsDentalRecord = '{!bIsDental}';
    var bIsMedicalRecord = '{!bIsMedical}';
    var vProductTypeCode = '{!JSENCODE(objPolMem.Product_Type_Code__c)}';
    var MOPSecName = '{!$Component.thePage.thePageBlockid.theFormBenefits.thePageBolckBenefits.thePageBlockSectionPMO}';
    var sGroupNumber = '{!JSENCODE(objPolMem.Group_Number__c)}';
    var sExchangeType = '{!JSENCODE(objPolMem.Exchange_Type__c)}';
    var sPolProductType = '{!JSENCODE(objPolMem.Product_Type__c)}';
    var sServiceCalled = "false",    //we need functionality here to ensure service call is only made on the first expand click;
    vObjPolMemId = '{!JSENCODE(objPolMem.Id)}',
    vObjPolMemName = '{!JSENCODE(objPolMem.Name)}',
    vPlatformValue = '{!JSENCODE(sPlatformValue)}',
    sSearchId = '{!JSENCODE(objPolMem.Source_Coverage_ID__c)}',
    vObjPolMemEffectiveDate = '{!JSENCODE(objPolMem.Effective_Date__c)}',
    vObjPolMemBenefitCoverage = '{!JSENCODE(IF(objPolPlan.Benefit_Coverage__c <> null, objPolPlan.Benefit_Coverage__c, objPolMem.Policy__r.Benefit_Coverage__c))}',
    vObjPolMemEndDate = '{!JSENCODE(objPolMem.End_Date__c)}',
    vObjPolMemMLOB = '{!JSENCODE(objPolMem.Policy__r.Major_LOB_Frm__c)}',
    vObjPolMemProductCode = '{!JSENCODE(objPolMem.Policy__r.Product__r.productCode)}',
    vObjPolStatus = '{!JSENCODE(objPolMem.Status__c)}',
    vLabelHumanaOneError = '{!$Label.HUMANAONEERROR_POLICYMEMBER_HUM}',
    vLabelHumanaOneDataError = '{!$Label.HUMANAONEDATAERROR_POLICYMEMBER_HUM}',
    vLabelDataFilterConditionSpecificDeductible = '{!$Label.CONDITIONSPECIFICDEDUCTIBLE_POLICYMEMBER_HUM}',
    vLabelDataFilterOneMemberoneMemberExclRider = '{!$Label.ONEMEMBERONEMEMBEREXCLRIDERDATA_POLICYMEMBER_HUM}',
    vLabelDataFilterOneMemberWaitingPeriod = '{!$Label.ONEMEMBERWAITINGPERIOD_POLICYMEMBER_HUM}',
    vLabelHumanaOneHeaderCode = "{!$Label.HUMANAONEHEADERCODE_POLICYMEMBER_HUM}",
    vLabelHumanaOneHeaderDescription = "{!$Label.HUMANAONEHEADERDESCRIPTION_POLICYMEMBER_HUM}",
    vLabelHumanaOneHeaderBeginDate = "{!$Label.HUMANAONEHEADERBEGINDATE_POLICYMEMBER_HUM}",
    vLabelHumanaOneHeaderEndDate = "{!$Label.HUMANAONEHEADERENDDATE_POLICYMEMBER_HUM}",
    vIsDataAvailableConditionSpecificDeductible = false,
    vIsDataAvailableOneMemberExclRider = false,
    vIsDataAvailableOneMemberWaitingPeriod = false,
    vLabelCostShareReductionHeaderCostShareLevel = "{!$Label.COSTSHAREREDHEADERCOSTSHARELEVEL_POLICYMEMBER_HUM}",
    vLabelCostShareReductionHeaderDeductible = "{!$Label.COSTSHAREREDHEADERDEDUCTIBLE_POLICYMEMBER_HUM}",
    vLabelCostShareReductionHeaderMaxOutOfPocket = "{!$Label.COSTSHAREREDHEADERMAXOUTOFPOCKET_POLICYMEMBER_HUM}",
    vLabelCostShareReductionHeaderEffectiveDate = "{!$Label.COSTSHAREREDHEADEREFFECTIVEDATE_POLICYMEMBER_HUM}",
    vLabelCostShareReductionHeaderEndDate = "{!$Label.COSTSHAREREDHEADERENDDATE_POLICYMEMBER_HUM}",
    vLabelCostShareReductionHeaderChangeDate = "{!$Label.COSTSHAREREDHEADERCHANGEDATE_POLICYMEMBER_HUM}",
    vLabelCostShareReductionDataError = '{!$Label.COSTSHAREREDUCTIONDATAERROR_POLICYMEMBER_HUM}',
    vLabelDentalWaitingPeriodHeaderDescription = "{!$Label.DENTALWAITPERHEADERDESCRIPTION_POLICYMEMBER_HUM}",
    vLabelDentalWaitingPeriodHeaderStartDate = "{!$Label.DENTALWAITPERHEADERSTARTDATE_POLICYMEMBER_HUM}",
    vLabelDentalWaitingPeriodHeaderEndDate = "{!$Label.DENTALWAITPERHEADERENDDATE_POLICYMEMBER_HUM}",
    vLabelDentalWaitingPeriodHeaderWaiveAcc = "{!$Label.DENTALWAITPERHEADERWAIVEACCIDENTINJURIES_POLICYMEMBER_HUM}",
    vLabelDentalWaitingPeriodHeaderPerson = "{!$Label.DENTALWAITPERHEADERPERSONPRIORCOVERAGEREDUCTION_POLICYMEMBER_HUM}",
    vLabelDentalWaitingPeriodHeaderMember = "{!$Label.DENTALWAITPERHEADERMEMBERELIGIBILITYREDUCTION_POLICYMEMBER_HUM}",
    vLabelBenefitErrorMsg= "{!$Label.BenefitsServiceError}",
    vLabelMBEServiceErrorMsg = "{!$Label.BenefitMBEServiceError}",
    vLabelPBEServiceErrorMsg = "{!$Label.BenefitPBEServiceError_Msg}",
    vLabelPBEServiceErrorMsg1 = "{!$Label.BenefitPBEServiceError_Msg1}",
    vNavigateToSection = document.querySelector("[id$='{!IF(($CurrentPage.parameters.sectionId <> null), $CurrentPage.parameters.sectionId, $Component.thePage)}']");
    var sBillingResponse = '{!$RemoteAction.BenefitsV2_C_HUM.getBillingProfiles}';
    var sNetWorkId = '{!JSENCODE($User.Network_User_Id__c) }';
    jQuery('#PolEndDateMMYY').val(vObjPolMemEndDate.slice(0,-8)+vObjPolMemEndDate.substring(8));
    var IsAutoLaunch = '{!IsAutoLaunchMentor}';
    var polMemId = '{!objPolMem}';
	var IsCasPolicy = '{!bIsCasPolicy}';
    if(IsCasPolicy == 'true') LaunchCASMentor();
    jQuery(document).ready(function(){
        openBenefitGridWindow(IsAutoLaunch);	
    });
    //Calling continution via action function
    if(ObjPolMemProd != "{!$Label.PolicyMember_ProductType_VIS_HUM}") LoadDataHumanaOne();
    //Onload JS functions collapse sections and navigation to specific section
    addLoadEvent(collapse);
    resetService();
    twistSection(document.getElementById(MOPSecName).getElementsByTagName('img')[0]);
  </script>
  <style>
    table.dataTable.nowrap th, table.dataTable.nowrap td{white-space: normal;}
  </style>
</apex:page>