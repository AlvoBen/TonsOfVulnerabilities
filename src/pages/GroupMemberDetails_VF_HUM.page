<!--
Page Name        : GroupMemberDetails_VF_HUM.page
Version          : 1.0
Created On       : Mar 8, 2018
Function         : VF page to display Group Member Id Card Information

Modification Log:
* Developer Name           Code Review                 Date                         Description
*---------------------------------------------------------------------------------------------------------------------------
* Shreya Choodamani         220815                    03/14/2018                  Original Version
* Shreya Choodamani			220815	                  04/26/2018                  Added Code for Group Member Level Details
* Pradeep Dani              229741                    05/17/2018                  Static message position updated.
* Prerna Prasad				243782				 	  06/14/2018				  REQ - 366904
* Amar Gadewar										  06/22/2018				  REQ - 367117 - Remove the RapidForce_Release1_AHT Custom Permission
* Rakesh Patni                                        09/01/2020                  Defect - 454099 fix. 
* Prashant Moghe									  12/06/2021				  US-2847495 T1PRJ0002606- MF6 - SF- TECH -  JQuery/Bootstrap/Angular update - Billing and ID card page              
* Pinky Vijur                                        07/14/2023                   User Story 4647074: T1PRJ0891742 - VIT19761200 - Data Table Upgrade - Account, Policy Member, Policy, ID Card, & RTI (Group 1)
* Tharun Madishetti                                  08/01/2023                   Defect Fix -7921 : Corrected styling to display properly on logged info screenshot
* Tharun Madishetti							  		 03/01/2024				      US-5318077 : Consumer Mgt-Classic-VIT Remediation Member Plan and Verify Demographics; VIT37935988,VIT37935989
****************************************************************************************************************************
-->
<apex:page tabStyle="Policy_Member__c" showHeader="false" sidebar="false" controller="GroupMemberDetails_C_HUM">
    <head>
    	<apex:includeScript value="/support/console/41.0/integration.js" />
    	<apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}" />
    	<apex:includeScript value="{!URLFOR($Resource.CRM_DataTables_1_13_4, 'datatables.min.js')}" />

        <apex:includeScript value="{!URLFOR($Resource.HUMMemberSearchComponent, 'HUMMemberSearchComponent/HUMMemberSearchScript.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.html2canvas, '/html2canvas.min.js')}" />
        
        
        
        <apex:includeScript value="{!URLFOR($Resource.GroupMemberDetails_SR_HUM, 'GroupMemberDetails_JS_HUM.js')}" />
        

        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_DataTables_1_13_4, '/DataTables-1.13.4/css/dataTables.bootstrap.min.css')}" />
        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/DataTables/css/UIEnahncements.css')}" />
        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT,'/Logging/css/LoggingCompCSS.css')}" />
        <link rel="stylesheet" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/DataTables/css/BaseDataTable_CSS_HUM.css')}" />
        <link rel="stylesheet" href="{!URLFOR($Resource.GroupMemberDetails_SR_HUM, 'GroupMemberDetails_CSS_HUM.css')}" />
        <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, 'datatables_HUM.min.css')}" />
    </head>

    <div>
        <div class="width100">
            <div id="loggingStickyHeader" class="LoggingCompCSS width100">
                <c:Logging_CMP_HUM DisplayMessage="true" Logging_Color="red" AttachmentKey="{!objAcc.Account_External_ID__c}" AttachmentDesc="Account_External_ID" Logged_Item_Color="blue" Screenshot_Area_Id="pageContent" RecordId="{!objAcc.Id}" />
            </div>
            <div id="pageContent" class="pgcon">
                <div class="sectionheader">
                    <apex:sectionheader title="{!$Label.IDCARDMGTSECTIONHEADER_GROUPMEMBERDETAILS_HUM}" subtitle="{!sCardReqDate}" />
                </div>
                <apex:pageBlock mode="maindetail">
                    <div>
                        <apex:form >
                            <div id="grpMemSearchMoreThan100" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage strength="2" summary="Your search returned more than 100 entries. Please refine your search." severity="warning" />
                            </div>
                            <div id="grpMemSearchFieldsZeroResults" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage strength="2" summary="No member information was found in the system with the matching criteria. Please update search criteria and try again." severity="warning" />
                            </div>
                            <div id="grpMemSearchFieldsErrorMessage" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage id="grpMemSearchFieldsErrorMessage" strength="2" summary="Please enter value for at least one of the search fields for member" severity="warning" />
                            </div>
                            <div id="memIdWarningMessage" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage id="memIdWarningMessage" strength="2" summary="Please enter only alpha-numeric values for Id field" severity="warning" />
                            </div>
                            <div id="memIDSuffixWarningMessage" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage id="memIDSuffixWarningMessage" strength="2" summary="Member ID suffix must be numeric." severity="warning" />
                            </div>
                            <div id="fnameWarningMessage" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage id="fnameWarningMessage" strength="2" summary="The only special characters that can be used are an apostrophe, a period, a dash, a comma or an ampersand in the First Name field." severity="warning" />
                            </div>
                            <div id="lnameWarningMessage" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage id="lnameWarningMessage" strength="2" summary="The only special characters that can be used are an apostrophe, a period, a dash, or  a comma in the  Last Name field." severity="warning" />
                            </div>
                            <apex:pageBlock >
                                <div>
                                  <h2 class="mainTitle" style="color: #000; top: -33px; position: relative;">Member Search</h2>
                                </div>
                                <div style="display: inline-block;">
                                    <img src="{!$Resource.HUMHoverOverQuestionMark}" style="top: -48px; zoom: 1; position: relative; margin-left: 108px; display: inline-block;" onmouseover="openMemSearchPopUp(event);" onmouseout="clearMemSearchPop();" />
                                </div>
                                <div id="MemberSearchPopUp" style="display:none; width: 60%" class="stylePanelMember">
                                    <SPAN id='MemberSearchPopUpText'></SPAN>
                                </div>
                                <div></div>
                                <apex:pageBlockButtons location="top">
                                    <div style="align:center; margin-left:200px;">
                                        <apex:commandbutton value="Search" onclick="onSearch(); return false;" onkeypress="return noMemberEnter(event);" />&nbsp;&nbsp;
                                        <apex:commandbutton value="Reset" onclick="onReset(); return false;" immediate="true" rerender="none" />
                                    </div>
                                </apex:pageBlockButtons>

                                <apex:pageBlockSection columns="4" id="pbsSearchCrit">

                                    <apex:pageblockSectionItem id="pbSearchCritID">
                                        <apex:outputLabel value="Member ID" html-log_this="false" />
                                        <apex:outputPanel id="memberIdOP">
                                            <apex:inputText id="mId" size="17" maxlength="17" tabIndex="1" />&nbsp;
                                            <apex:inputText id="suffix" style="width:30px;" size="3" maxlength="3" tabIndex="2" />
                                            <img src="{!$Resource.HUMHoverOverQuestionMark}" style="top:2px; zoom: 1; position: relative;" onmouseover="openSuffixPopUp(event);" onmouseout="clearSuffixPop();" height="12" width="12" />
                                            <div id="suffixPopUp" style="display:none; " class="styleSuffixToolTip">
                                                <SPAN id='suffixPopUpText'></SPAN>
                                            </div>
                                        </apex:outputPanel>
                                    </apex:pageblockSectionItem>

                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="First Name" html-log_this="false" />
                                        <apex:outputPanel >
                                            <apex:inputText id="fId" size="20" tabIndex="1" maxlength="20" />&nbsp;
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>

                                    <apex:pageBlockSectionItem >
                                        <apex:outputLabel value="Last Name" html-log_this="false" />
                                        <apex:outputPanel >
                                            <apex:inputText id="lId" tabIndex="1" size="36" maxlength="36" />
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>

                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </apex:form>
                    </div>
                    <br />

                    <apex:pageBlockSection title="{!$Label.REQUESTDETAILSBLOCK_GROUPMEMBERDETAILS_HUM}" collapsible="true" columns="1" id="thePageBlockSectionGroupCreditCardInfo">
                        <apex:outputPanel >
                            <div id="infoGrpMemMessage">
                                <apex:PageMessage rendered="true" strength="2" summary="{!$Label.INFOMESSAGE_GROUPMEMBERDETAILS_HUM}" severity="Info" />
                            </div>
                            <div id="grpMemSearchMoreThan500" style="display: none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage strength="2" summary="The ID Card request date contains more than 500 entries. Use the Member Search section above to refine results. Search by member ID, first and/or Last name." severity="info" />
                            </div>

                            <div id="noRecGrpMemMessage" style="display:none; margin-right:2px; margin-left:2px;">
                                <apex:PageMessage strength="2" summary="{!$Label.NORECORDSMESSAGE_GROUPMEMBERDETAILS_HUM}" severity="Info" />
                            </div>
                            <div id="grpMemErrorMessage" style="display:none;">
                                <apex:PageMessage strength="2" summary="{!$Label.ERRORLOGMESSAGE_GROUPMEMBERDETAILS_HUM}" severity="error" />
                            </div>
                            <div id="statusImage_div_groupmemberSummaryTable" style="text-align:center; vertical-align: middle;">
                                <img src="/img/loading.gif" />
                                <span class="waitingDescription">Please wait...</span>
                            </div>
                            <div id="groupMemberTable">
                                <table id="groupmemberSummaryTable" class="table table-striped table-bordered table-hover nowrap compact enable_logging width100" cellspacing="0">
                                    <caption style="display:none;">{!$Label.REQUESTDETAILSBLOCK_GROUPMEMBERDETAILS_HUM}</caption>
                                </table>
                            </div>
                        </apex:outputPanel>
                    </apex:pageBlockSection>
                </apex:pageBlock>
                <apex:outputPanel id="stdMap">
                    <input type="hidden" id="StandardMapValuesForLogging" value="" />
                </apex:outputPanel>
            </div>
        </div>
    </div>

    <script type="text/javascript">
//dont enable P9 Critical Fix    var $vIdCardGroupMemDetail = jQuery.noConflict();
    var vGroupCustKey = "{!JSENCODE(objAcc.Source_Customer_Key__c)}";
    var vGroupNumber = '{!JSENCODE(sGroupNumber)}';
    var vDate = '{!JSENCODE(sCardReqDate)}';
    var vPlatform = '{!JSENCODE(sPlatformName)}';
    var recordId = '{!$CurrentPage.parameters.Id}';
    var vCardCount = '{!JSENCODE($CurrentPage.parameters.tc)}';
    var cardCount = '{!sCardCount}';
    var vGroupMemberIdCardAction = '{!$RemoteAction.GroupMemberDetails_C_HUM.invokeGetGroupMemberDetailRequest}';
    </script>
</apex:page>