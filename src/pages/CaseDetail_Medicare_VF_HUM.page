<!--
Page Name   	: CaseDetail_Medicare_VF_HUM.page
Version       	: 1.0
Function     	: VF page to show the details of Medicare cases

Modification Log:
 * Developer Name           Code Review                 Date                         Description
 *------------------------------------------------------------------------------------------------------------------------------
 * Rakesh Patni		            146694                  11/10/2017                    Original version
 * Rakesh Patni               157480                    12/10/2017                    Floating header changes for REQ-349582
 * Sumit Pharande             164813                    26/12/2017                    Fix Defect 335877.0001
 * Sumit Pharande             165446                    01/05/2018                    Fix Defect 336793.0001
 * Darshan Sharma                                       12/04/2018                    Req-360087 Quality/AHT - Move Clone Case button on Case Detail Page to the right of all button
 * Bharath Rajappan                                     04/20/2018                    REQ - 359039 - Display CICMS case initated date in system information section
 * Bharath Rajappan                                     05/04/2018                    REQ - 361043 - Display the Process section on the Medicare Case Detail page
 * Bharath Rajappan                                     05/05/2018                    REQ - 360169 - Redirect to case Edit
 * Bharath Rajappan                                     05/12/2018                    REQ - 359179 - Disable change case owner button for creditable coverage  
 * Bharath Rajappan                                     05/14/2018                    REQ - 359156 - Defect - 358211 - Adjust the field position.
 * Dinesh Subramaniyan								                  05/16/2018			              REQ - 361879 - Add Medicare ID to Member Case Page (RF)
 * Mohammed Noor              224977                    05/16/2018                    REQ-350477 - Pend Key display for Medicare Enrollment Cases 
 * Mohammed Noor              230884                    05/18/2018                    REQ-350470 - Election Type Code display for Medicare Enrollment Cases
 * Bharath Rajappan		                                  05/24/2018    		            REQ - 367804 Creditable Coverage - Ability for CRM to disable Case Edit and Case Detail page buttons
 * Darshan Sharma 									                    07/25/2018				            REQ-370566 Quality - Remove ability to Close Case if the User is not the Case Owner (RF)
 * Lakshmi Vutukuri           266546                    08/03/2018                    REQ-363342-Added 2 fields in G&A section
 * Satyam Malviya             276884                    08/27/2018                    REQ -374734- CSI 902/CMO 5604: Oral Grievance Category/Sub-Category on Case Detail page
 * Asish Behera                                         08/27/2018                    REQ - 373413 AHT - Ability to Notify User of Logged Attachments (RF)
 *Lakshmi Vutukuri                                      9/04/2018                     REQ-361157- Added Complaint tracking fields in the Additional Info section
 * Sumit Pharande                                       11/28/2018                    NBA MF4 - Displaying Guidance alert
 * Sumit Pharande                                       12/28/2018                    Floating links fix
 * Darshan Sharma 										                  11/29/2018					          REQ - 378732 AHT - Ability to Notify User of Logged Attachments (CRM)
 * Subhamay Mandal									                    01/17/2019					          REQ - 383729 Quality - Add Medicare ID to Member Case Page (CRM)
 * Prudhvi Pamarthi										                  02/06/2019                    REQ - 361155 - Not allowing case creation on Legacy Deleted policies
 * Santhosh Ganji                                       02/13/2019                    REQ - 379032 Disable non-MED policy hyper-links for Pharmacy Users on CaseDetailPage
 * Suraj Patil               337077                    	02/25/2019                    REQ - 386055 - Regression Defect - 400206
 * Seema Kaulgi											                    02/25/2019	    			        REQ - 383966 - Ability to open DCN link in separate window (RF)
 * Suraj Patil			 	       334242						          02/04/2019		  			        Defect - 400092 Alert scroll bar  Doesn't work in Case Edit Page.
 * Ajay Chakradhar 									  	                04/09/2019					          REQ - 389747 - Lock case with Case Status of External Transfer in Progress
 * Santhosh Ganji                                       04/19/2019                    REQ - 386935 - Case Detail Restrictions (MED vs non-MED cases)—READ ONLY features
 * Sumit Pharande			 							                                                  REQ-386780 - Removed ; from Collapsible Side panel URL to pass correct Account id
 * Syed Mubarak											                    05/08/2019						        REQ - 397099 - Hide Medicare Id for TRR Cases
 * AshokKumar Nutalapati           					            07/08/2019				            REQ - 402833: Automatically Record Order Details to Case: Add Logging Component to 'Create Order' Page (CRMS)
 * Mithra Bharadwaj                                     07/26/2019                    REQ - 404471 Ordering Jump Links on Medicare  Cases        
* Suraj Patil			  								  08/07/2019		  		  REQ - 405997 - Regression Defect - 423752
 * Melkisan Selvaraj									  08/22/2019				  REQ - 403735. Launch Compass Functionality 
 * Subhamay Mandal                                      09/19/2019                    REQ - 408295 Quality - OGO - Disable Change Case Owner button when the case is routed to 'Louisville RSO Oral Grievance Oversight' WQ (RF)
 * Moshitha Gunasekaran                                  02/06/2020                   US752867 - New TRR Templates Process Section
 * Moshitha Gunasekaran                                  01/28/2020                   Story-725105 Expiration Date field display in CRM for DEAA
 * Mohammed Noor									     03/26/2020                   US#975731 - Add DEAA OnOff Switch changes
 * Mohammed Noor                             			 04/24/2020           		  US#1020879 - Remove DEAA OnOff Switch
 * Sunil Kumar Reddy Y					                        05/04/2020	                  USER STORY 1072538 - Added case ID to CaseDetail_FloatingLinks_CMP_HUM component
 * VijayaKumar 						06/29/2020 			USER STORY 1203975 PR00095159 - IR 50-50 OGO - MVP - CRM Action page layout to provide feed back for ODM returned Case
 * Amit Agarwal                                         07/06/2020                  User Story 1122108: PR00091574 - MF 1 - Quality - OGO - Ability to display Resolution Type and Resolution Date fields on Medicare Case Detail Page (CRM)
 * Amit Agarwal                                         07/06/2020                  User Story 1122091: PR00091574 - MF 1 - Quality - OGO - Ability to display Resolution Type and Resolution Date fields on Closed Medicare Case Detail Page (CRM)
 * Vinay Lingegowda                                     07/09/2020                  USER STORY 1203975 PR00095159 - IR 50-50 OGO - MVP - CRM Action page layout to provide feed back for ODM returned Case Defect Fix- 1042
 * Subhamay Mandal                                      07/15/2020                  User Story 1204162. Added On/OFF Switch
 * Amit Agarwal                                         07/16/2020                  Defect_DF-1091 Bug 1300449: REQ: 1122108 Resolution Type and Resolution Date fields are not getting displayed below Election Type Code (ETC) field in Medicare Case detail page layout
 * Vinay Lingegowda                                     07/23/2020                  USER STORY 1278792 PR00091574-IR-50-50-OGO- disable close case option for actionable cases
 * Suresh Kokkeragadda                                  08/15/2020                  User Story 1317726: PR00091574 - MF 1 - SF - TECH - On/Off Switch Cleanup 7/30 , 8/14 and 8/28 releases (CRM)
 * Vijaykumar                                           08/24/2020                  User Story 1363774: PR00091574 - IR 5050-OGO- Display case initiated date and case initiated Age on medicare/member case details page (CRM)
 * Vinay Lingegowda					08/26/2020			User Story 1364284: PR00091574 - IR 5050-OGO- Add clone identifier on Case detail page (Clone case)- (CRM)	
 * Vijaykumar                                 		09/04/2020		    User Story 1363774: SIT Observation
  * Darshan MS                                           09/08/2020                  DEF-1492 FIX
  * VijayKumar					         09/10/2020		              User Story 1395924: PR00091574- IR 5050- OGO -Add a Yes indicator - for original case (CRM)
  * Vijaykumar			                        09/11/20220		            Defect Fix: DF-1576
  * Vinay Lingegowda                                     10/10/2020                 USER STORY 1544779 PR00091574 - IR 5050 - OGO - Tech Debt- Remove switch for OGO on/off(CRM)
  * Kavya Bondada                                       11/18/2020                  User Story 1641595: PR00091574 - MF 1 - Quality - Ability for Rep to select "Was the Grievance Resolved during the call?" on Quick Start/Case Page (RF)
  * Satyam Malviya                                     11/5/2020                    User Story - 1608276 - PR00090631 - MF 12 - MVP - Alert panel for Case pages
  * Jayesh Solanki					1/27/2021		    User Story 1317518: PR00091574 - MF 1 - RF Clean Up (RF)
  * Gourab Tewary                                      01/31/2021                   User Story 1733612: PR00091574- IR 5050 - Add new response status for Cases with Pending Response (CRM)  
  *Prudhvi Pamarthi									  02/04/2021					User Story 1304892 Remove CCP/GCP swivel buttons in CRM Service
  * Sayali Nemade                                      02/09/2021                   User Story 1836611: PR00090631 - MF 12 - SF- TECH - Adding Case pages to Location field on the Recommendation creation tool
  * Mithra Bharadwaj                                                                   US#1921420 Case Detail Page - Hyperlinks over the Classification and Intent are removed for closed and pending cases
  * Vinay Lingegowda                                      03/19/2021                USER STORY 2044469 IR 5050 - OGO - Optimize Accept recommendation actions for queues with clone & link feature (CRM)
  * Kavya Bondada                                        04/14/2021                  User Story 2187149: T1PRJ0001827 - MF 1 - Quality - Auto route QAA cases to the G&A team (CRM)
  * Amar Gadewar                                        05/15/2021                  User Story 2215231: T1PRJ0001827 - MF 1 - RF Clean Up - Was the Grievance Resolved during the Call? (RF)
  * Samantha Tennyson                                   05/17/2021                  User Story 2271455: T1PRJ0001827 - MF 1 - AHT - Ability to copy information in CRM - Phase 2 (RF)
  * Anand Kumar                                         05/28/2021                 User Story 2325456: T1PRJ0001827 - MF 1 - AHT - Ability to copy information in CRM - Phase 2 (CRM)
  * Atia Uzma                                           07/29/2021                 User Story 2498842: T1PRJ0001827 - MF 1 - AHT - Ability to Reopen and Edit closed cases (RF)
  * Mohammed Noor                                       08/19/2021                 USER STORY 1801197 - PR00094010 -STRIDES MVP MF 6 - Unified Search Button Case page
  * Mohammed Noor                                       09/23/2021                 Changes for USER STORY 2712408
  * Kavya Bondada				                    	10/11/2021		           User Story 2737375: T1PRJ0001827 - MF 1 - Quality - Ability to capture Verbal Consent Obtained and making it required for certain case types (RF)
  * Ajay Chakradhar 									05/24/2022					Defect 4844 FIX - Complaint Type Field  - REL 05.27.2022
 * Kiran Kumar 											06/07/2022				    USER STORY 2310106 T1PRJ0003805/T1PRJ0184373 - Add an Escalation Indicator in CRM Service
****************************************************************************************************************************
 -->
<apex:page standardController="Case" extensions="CaseDetail_C_HUM">
  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/js/CollapsibleRightConsoleCaseDetail.js')}" />
  <apex:stylesheet value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/styles/CollapsibleRightConsole.css')}" />
  <apex:stylesheet value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/styles/CollapsibleRightConsoleCaseDetail.css')}" />
  <apex:includeScript value="{!URLFOR($Resource.CRM_PLATFORM_TOOLKIT, '/CopyToClipBoard/CopyToClipBoard.js')}"/>     
  <div id="main-container" class="mainContainer" style="float:left;">

    <c:CaseDetail_Header_CMP_HUM caseClassification="{!case.Classification_Id__r.Name}" caseIntent="{!case.Intent_Id__r.Name}" caseInteractingAboutType="{!Case.Interacting_About_Type__c}" caseAccountName="{!Case.Account.Name}"  mentorSubFunction="{!sSubFunction}" mentorFunction="{!sFunction}"    caseId="{!case.Id}" caseNumber="{!case.CaseNumber}" bdisableOwnerCloseCase="{!bdisableOwnerCloseCase}" bdisableChangeCaseOwner="{!bDisableButtonOGO}" bDisableActionButton="{!bDisableActionButton}"/>

    <apex:form >
      <apex:actionFunction name="closeCase" action="{!closeCase}" />
      <apex:actionFunction name="editCase" action="{!referEdit}" />
      <apex:actionFunction name="reopenAndEditCase" action="{!referEdit}"  reRender="resultPanel" status="myStatus">
          <apex:param name="reopenAndEditParam" value="ReopenAndEdit" assignTo="{!reopenButtonName}"/>
      </apex:actionFunction>
      <apex:actionFunction name="editCaseATTVF" action="{!referEdit}" reRender="resultPanel" status="myStatus">
        <apex:param name="ATTVFParam"  value="" />
      </apex:actionFunction>
      <apex:actionFunction name="changeCaseOwner" action="{!changeCaseOwner}" />
      <apex:actionFunction name="caseRecmdAction" action="{!caseRecmdAction}"/>
    </apex:form>

    <div class="fixedDiv" id="stickyDiv">
      <c:CaseDetail_FloatingLinks_CMP_HUM lstparam="{!lst_FloatId}" caseId="{!case.Id}"/>
      <div id="anchorButtons">
        <apex:outputPanel rendered="{!((!bIsPharmacyUser) || (bIsPharmacyUser && !CaseReadOnly))}">
          <a href="javascript:void(0)" id="caseEditButtonId" onclick="editCase();" class="btn">{!$LABEL.EDIT}</a>
          <apex:outputPanel rendered="{!IF(case.Status == 'Closed' && reopenAndEditSwith ,true,false)}">
            <a href="javascript:void(0)" id="caseReopenEditButtonId" onclick="reopenAndEditCase();" class="btn">{!$LABEL.Reopen_and_Edit}</a>
          </apex:outputPanel>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!IF(case.Status != 'Closed' && case.Status != 'Cancelled' && case.Status != 'External Transfer in Progress',true,false)}">
          <apex:outputPanel rendered="{!((!bIsPharmacyUser) || (bIsPharmacyUser && !CaseReadOnly))}">
            <a href="javascript:void(0)" id="caseCloseButtonId" onclick="closeCase();" class="btn">{!$LABEL.CLOSE_CASE}</a>
          </apex:outputPanel>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!IF(case.Status != 'Closed' && case.Status != 'Cancelled' && case.Status != 'External Transfer in Progress',true,false)}">
          <apex:outputPanel rendered="{!((!bIsPharmacyUser) || (bIsPharmacyUser && !CaseReadOnly))}">
            <a href="javascript:void(0)" id="caseOwnerChangeButtonId" onclick="changeCaseOwner();" class="btn">{!$LABEL.CHANGE_CASE_OWNER}</a>
          </apex:outputPanel>
          <a href="javascript:void(0)" onclick="if ({!isGenesysUser} == true && {!phoneBookSwitch1726016}){sforce.console.fireEvent('PhoneBookPopUpEvent', '{!Case.Id}' );return false;}else{callTransfer()}" class="btn">{!$LABEL.CALL_TRANSFER}</a>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!((!bIsPharmacyUser) || (bIsPharmacyUser && !CaseReadOnly))}">
          <a href="javascript:void(0)" id="cloneButtonId" onclick="cloneCase();return false;" class="btn">{!$LABEL.CLONE_CASE}</a>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!(isRapidForceApp && ((!bIsPharmacyUser) || (bIsPharmacyUser && !CaseReadOnly)))}">
          <a href="javascript:void(0)" id="CompassButtonId" onclick="launchWindow_Compass();return false;" class="btn">{!$Label.HUMLaunchCompass}</a>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!bOGOScrubberUser}">
          <a href="javascript:void(0)" id="caseActionButtonId" onclick="caseRecmdAction(); return false;" class="btn">{!$LABEL.CASEDETAILACTION_HUM}</a>
        </apex:outputPanel>
      </div>
    </div>


    <div class="sectHeader">
	  <!-- USER STORY 1801197 - Unified Search start-->      
      <apex:outputPanel rendered="{!bCaseUnifiedSearch}" id="opCoveoBtn">
	    <br/>
        <a href="javascript:void(0)" onclick="launchCoveo();return false;" class="btn">{!$LABEL.Unified_Button}</a>
      </apex:outputPanel>
      <!-- USER STORY 1801197 - Unified Search End-->
      <apex:sectionHeader title="Case" subtitle="{!case.CaseNumber}" printUrl="/{!Case.Id}" help="https://help.salesforce.com/apex/htdoor?loc=help&target=co_edit.htm&section=CustomObjects&language=en_US"/>
    </div>

    <apex:pageBlock mode="maindetail">
      <chatter:feedwithFollowers entityId="{!Case.Id}"/>
      <a id="CaseDetail"></a>
      <apex:variable value="-" var="hyphen" />
      <apex:pageBlockSection columns="2" title="{!$Label.Case_Detail}" collapsible="true">
        <apex:outputText label="{!$ObjectType.Case.Fields.CaseNumber.Label}" value="{!MID(Case.CaseNumber,1,3)}{!hyphen}{!MID(Case.CaseNumber,4,3)}{!hyphen}{!MID(Case.CaseNumber,7,3)}{!hyphen}{!MID(Case.CaseNumber,10,4)}" />
        <apex:outputField value="{!Case.Owner_Queue__c}" />
        <apex:outputField value="{!Case.Origin}" />
        <apex:outputField value="{!Case.Case_Owner__c}" />
        <apex:outputField value="{!Case.Type}" />
        <apex:outputField value="{!Case.Status}" />
        <apex:outputField value="{!Case.Subtype__c}" />
        <apex:outputField value="{!Case.Response_Status__c}" rendered="{!(Case.Response_Status__c != null && Case.Status == 'Pending - Response')}"/>
        <apex:outputLabel rendered="{!(Case.Response_Status__c != null && Case.Status == 'Pending - Response')}"/>
        <apex:outputField value="{!Case.Case_Age__c}" />
        <apex:outputField value="{!Case.Pend_Key__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,true,false)}"/>
        <apex:outputField value="{!Case.Re_Open_Case_Age__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,true,false)}"/>
        <apex:outputField value="{!Case.Doc_Type__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,true,false)}"/>
        <apex:pageBlockSectionItem rendered="{!AND($Permission.Oral_Grievance_Oversight_OGO, bIsOGOLinked, !bIsOriginal)}">
          <apex:outputLabel value="{!$ObjectType.Case.Fields.Case_Initiated_Age__c.Label}"/>
          <apex:outputText value="{0, number, 0}">
            <apex:param value="{!Case.Case_Initiated_Age__c}"/>
          </apex:outputText>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem rendered="{!AND($Permission.Oral_Grievance_Oversight_OGO, bIsOGOLinked, !bIsOriginal)}"/>
        <apex:outputField value="{!Case.Recordtype.name}" label="{!$Label.Case_Record_Type}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,true,false)}"/>
        <apex:outputField value="{!Case.DCN_Formula__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,true,false)}" />

        <apex:pageBlockSectionItem rendered="{!AND($Permission.Oral_Grievance_Oversight_OGO, bIsOGOLinked)}"/>
        <apex:pageBlockSectionItem id="cloneId" rendered="{!AND($Permission.Oral_Grievance_Oversight_OGO, bIsOGOLinked)}" >
          <apex:outputLabel value="{!if(bIsOriginal, 'Cloned' , 'Clone')}"/>
          <apex:outputtext value="Yes"/>
        </apex:pageBlockSectionItem>

        <apex:outputField value="{!Case.Doc_Type__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,false,true)}"/>
        <apex:outputField value="{!Case.Re_Open_Case_Age__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,false,true)}"/>
        <apex:outputField value="{!Case.DCN_Formula__c}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,false,true)}" />
        <apex:outputField value="{!Case.Recordtype.name}" label="{!$Label.Case_Record_Type}" rendered="{!IF(Case.Type == $Label.Customer_Inquiry_Case_Type,false,true)}"/>
      </apex:pageBlockSection>

      <a id="RelatedAccounts"></a>
      <apex:pageBlockSection title="{!$Label.Related_Accounts}" columns="2" collapsible="true">
        <apex:outputField value="{!Case.Interacting_With_Type__c}" />
        <apex:outputField value="{!Case.Interacting_About_Type__c}" />
        <apex:outputField value="{!Case.Interacting_With__c}" />
        <apex:outputField value="{!Case.AccountId}" />
        <apex:outputField value="{!Case.Interacting_With_Name__c}" />

        <apex:pageBlockSectionItem id="opPmIDOne" rendered="{!($Profile.Name = 'Humana Pharmacy Specialist' && case.Policy_Member__r.Product__c != 'MED' && case.Policy_Member__r.Product__c != 'TRA')}">
           <apex:outputLabel value="Policy Member" id="policyMemLabelOne" />
           <apex:outputField value="{!case.Policy_Member__r.Name}" />
   		</apex:pageBlockSectionItem>
          
          
        <apex:pageBlockSectionItem id="opPmIDTwo" rendered="{!((($Profile.Name = 'Humana Pharmacy Specialist' && case.Policy_Member__r.Product__c = 'MED') ||($Profile.Name = 'Humana Pharmacy Specialist' && case.Policy_Member__r.Product__c = 'TRA') || $Profile.Name != 'Humana Pharmacy Specialist'))}" >
          <apex:outputLabel value="Policy Member" id="policyMemLabelTwo"/>
          <apex:outputField value="{!case.Policy_Member__c}" />
        </apex:pageBlockSectionItem>


        <apex:outputtext value=""/>
        <apex:pageBlockSectionItem id="idMedicareID" rendered="{! bMedicareCalls}">
          <apex:outputlabel Value="Medicare ID" id="idMedicareIdLabel"/>
          <apex:outputtext value="{!sMedicareID}" id="idMedicareIDValue"/>
        </apex:pageBlockSectionItem>
      </apex:pageBlockSection>

      <a id="METEnrollment"></a>
      <apex:pageBlockSection title="{!$Label.MET_Enrollments}" columns="1" collapsible="true">
        <apex:pageBlockSection columns="2" rendered="{!IF(Case.Origin ==$Label.Case_Origin_CRMTRR && Case.Type ==$Label.Case_Type_TRR_Inquiry && case.Subtype__c ==$Label.Case_Subtype_TRR,false,true)}">
          <!-- Added for REQ-397099 -->
          <apex:outputfield value="{!Case.Medicare_Track_ID__c}" >                            	
			      &nbsp;<apex:outputLink value="#" style="color:#3973ac;" rendered="{!(NOT(OR(ISNULL(Case.Medicare_Track_ID__c),ISBLANK(Case.Medicare_Track_ID__c))))}" onclick="copyToClipBoardFireEvent('{!Case.Medicare_Track_ID__c}');return false;" >Copy</apex:outputLink>  
          </apex:outputfield>
        </apex:pageBlockSection>
        <apex:pageBlockSection columns="1">
          <apex:form >
            <c:METEnrollmentDataTable_CMP_HUM caseRecordId="{!Case.Id}" />
          </apex:form>
        </apex:pageBlockSection>
      </apex:pageBlockSection>

      <a id="AdditionalInformation"></a>
      <apex:pageBlockSection title="{!$Label.Additional_Information}" columns="2" collapsible="true">
        <apex:outputField value="{!Case.Classification_Type__c}" />
        <apex:outputField value="{!Case.Priority}" />
        <apex:outputField value="{!Case.Classification_Id__r.Name}" label="{!$Label.Classification_Name}"/>
        <apex:outputField value="{!Case.Follow_up_Due_Date__c}" />
        <apex:outputField value="{!Case.Intent_Id__r.Name}" label="{!$Label.Intent_Name}"/>
        <apex:outputField value="{!Case.Election_Type_Code__c}" />
        <apex:outputField value="{!Case.Case_Referred_To__c}" />
        <apex:outputField value="{!Case.Topic__c}" />
        <apex:outputField value="{!Case.Verbal_Consent_Obtained__c}" rendered="{!AND(IF((Case.Recordtype.name == $Label.HUMMedicareCase || Case.Recordtype.name == $Label.HUMClosedMedicareCase),true,false),AND($Permission.RapidForceUser_AHT_HUM, OR($Permission.CRMS_684_Medicare_Customer_Service_Access, $Permission.CRMS_205_CCSPDPPharmacyPilot, $Permission.MedicareElectionTrackingEnrollmentUser_HUM)))}"/>
        <apex:pageBlockSectionItem rendered="{!AND(IF((Case.Recordtype.name == $Label.HUMMedicareCase || Case.Recordtype.name == $Label.HUMClosedMedicareCase),true,false),AND($Permission.RapidForceUser_AHT_HUM, OR($Permission.CRMS_684_Medicare_Customer_Service_Access, $Permission.CRMS_205_CCSPDPPharmacyPilot, $Permission.MedicareElectionTrackingEnrollmentUser_HUM)))}" />
         
        <apex:outputField value="{!Case.OGO_Resolution_Type__c}" />
        <apex:outputField value="{!Case.Due_Date__c}" label="{!$Label.Expiration_Date}" rendered="{! IF(case.origin==$Label.case_Origin_DEAA && (Case.Recordtype.name == $Label.HUMMedicareCase || Case.Recordtype.name == $Label.HUMClosedMedicareCase),true,false)}"/>
        <apex:pageBlockSectionItem rendered="{! IF(case.origin==$Label.case_Origin_DEAA && (Case.Recordtype.name == $Label.HUMMedicareCase || Case.Recordtype.name == $Label.HUMClosedMedicareCase),false,true)}"/>
        <apex:outputField value="{!Case.OGO_Resolution_Date__c}" />
        <apex:outputField value="{!Case.OpenEnrollment__c}" />
        <apex:pageBlockSectionItem rendered="{!bCsertComplaints}"/>
        <apex:outputField value="{!Case.Rx_Complaint_date__c}"  rendered="{!bCsertComplaints}"/>
        <apex:pageBlockSectionItem rendered="{!bCsertComplaints}"/>
        <apex:outputField value="{!Case.Rx_Complaint_origin__c}" rendered="{!bCsertComplaints}" />
        <apex:pageBlockSectionItem rendered="{!bCsertComplaints}"/>
        <apex:outputField value="{!Case.Rx_Complaint_category__c}" rendered="{!bCsertComplaints}"/>
        <apex:pageBlockSectionItem rendered="{!bCsertComplaints}"/>
        <apex:outputField value="{!Case.Rx_Complaint_reason__c}"  rendered="{!bCsertComplaints}"/>
		<!---Esclation Indicator Story Change--> 
	<apex:pageBlockSectionItem /> 
        <apex:outputField value="{!Case.Escalation_Indicator__c}" rendered="{!bShowEsclIndSwitch && bShowEsclIndicator}"/>  
        <apex:pageBlockSectionItem /> 
        <apex:outputField value="{!Case.Escalation_Indicator_Date__c}" rendered="{!bShowEsclIndSwitch && bShowEsclIndicatorDate}"/>
      </apex:pageBlockSection>

      <a id="GAComplaints"></a>
      <apex:pageBlockSection title="{!$Label.G_A_Complaints}" columns="2" collapsible="true">
        <apex:outputField value="{!Case.G_A_Rights_Given__c}" />
        <apex:outputField value="{!Case.Complaint__c}" />
        <apex:outputField value="{!Case.G_A_Reason__c}" />
        <apex:outputField value="{!Case.Complaint_Reason__c}"/>
        <apex:pageBlockSectionItem rendered="{!bIsPharmacyUser}"/>
        <apex:outputField value="{!case.Oral_Grievance_Category__c}"/>
        <apex:outputField value="{!Case.Complaint_Type__c}" />
        <apex:outputField value="{!case.Oral_Grievance_Sub_Category__c}"/>
      </apex:pageBlockSection>

      <apex:form >
        <a id="CaseComments"></a>
        <apex:pageBlockSection title="{!$Label.Label_Case_Comments}" columns="1" collapsible="true">
          <c:CaseCommentsData_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

        <a id="LoggedInformation{!iLoggedInattachmentCount}"></a>
        <apex:pageBlockSection title="{!$Label.Case_Logged_Information}" columns="1">
          <c:CaseLoggedInfo_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

        <a id="Process"></a>
        <apex:pageBlockSection title="{!$Label.Process}" collapsible="true">
          <c:CaseProcessDataTable_CMP_HUM caseRecordId="{!Case.Id}"/>
        </apex:pageBlockSection>

        <a id="TRRProcess"></a>
        <apex:pageBlockSection title="{!$Label.TRRProcess}" collapsible="true" rendered="{!IF(case.origin=='CRMTRR',true,false)}">
          <c:TRRCaseProcessDataTable_CMP_HUM caseRecordId="{!Case.Id}"/>
        </apex:pageBlockSection>

        <a id="Attachments"></a>
        <apex:pageBlockSection title="{!$Label.Attachments}" columns="1" collapsible="true">
          <c:CaseAttachments_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

      </apex:form>

      <a id="TaskHierarchy"></a>
      <apex:pageBlockSection id="pbsTaskHeirarchy" title="{!$Label.Task_Heirarchy}" columns="1" collapsible="true">
        <apex:include pageName="TaskHeirarchy_VF_HUM" />
      </apex:pageBlockSection>

      <apex:form >
        <a id="LinkedCases"></a>
        <apex:pageBlockSection title="{!$Label.Linked_Cases}" columns="1" collapsible="true">
          <c:LinkedCases_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

        <a id="Compass"></a>
        <apex:pageBlockSection title="{!$Label.Compass}" columns="1" collapsible="true">
          <c:CaseCompass_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

        <a id="Interaction"></a>
        <apex:pageBlockSection title="{!$Label.Interaction}" columns="1" collapsible="true">
          <c:CaseInteraction_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>

        <a id="SystemInformation"></a>
        <apex:pageBlockSection title="{!$Label.System_Information}" columns="2" collapsible="true">
          <apex:outputField value="{!Case.CreatedDate}" />
          <apex:outputField value="{!Case.CreatedById}" />
          <apex:outputField value="{!Case.ClosedDate}" />
          <apex:outputField value="{!Case.Created_By_Queue__c}" />
          <apex:outputField value="{!Case.Re_Open_Case_Date__c}" />
          <apex:outputField value="{!Case.Work_Queue_View_Name__c}" />
          <apex:outputField value="{!Case.Case_Initiated_Date__c}"/>
          <apex:outputField value="{!Case.LastModifiedById}" />
          <apex:pageBlockSectionItem />
          <apex:outputField value="{!Case.LastModifiedby_Queue__c}" />
          <apex:pageBlockSectionItem rendered="{!IF($ObjectType.Case.fields.Subject.accessible,False,True)}"/>
          <apex:outputField value="{!Case.Subject}" />
          <apex:outputField value="{!Case.Days_Since_Last_Modified__c}" />
          <apex:outputField value="{!Case.Description}" />
          <apex:outputField value="{!Case.ContactId}" />

          <apex:pageBlockSectionItem />
        </apex:pageBlockSection>

        <a id="CaseHistory"></a>
        <apex:pageBlockSection title="{!$Label.Case_History}" columns="1" collapsible="true">
          <c:CaseHistoryDataTable_CMP_HUM caseRecordId="{!Case.Id}" />
        </apex:pageBlockSection>
      </apex:form>

    </apex:pageBlock>
    <div class="alertTooltip" id="alertDetailsTooltip" style = "border-style: solid;font-family: Arial;display:none;" />
  </div>
  <div id="sideBar-container" style="height:100%;display:none; position:fixed;margin-left: 977px;">
    <apex:outputpanel rendered="{!$Permission.NBA_Alerts_V2 }" >
      <div id="RTISummaryPage" style="float:right;width:280px;height:100%">
        <apex:iframe src="/apex/CollapsibleRightConsole_VF_HUM?id={!Case.AccountId}&ServiceFlag=false&CollapsedSidePanel=false&RTIFlag=false&sPageName=Case" height="600px" scrolling="true" id="alertsIframe"/>
      </div>
    </apex:outputpanel>
  </div>
  <apex:stylesheet value="{!URLFOR($Resource.Collapsible_RightConsole_SR_HUM, '/styles/CaseDetailUIEnahncements.css')}" />
  <script>
    var accessAlertPanel= true;
    
    var legacydelCheck = {!JSENCODE(IF(bdisableButton, "true", "false"))};
    var caseStatus = {!JSENCODE(IF(bnotClosedCase, "true", "false"))};
    var fromPharmLogging = {!JSENCODE(IF(isFromPharmLogging, "true", "false"))};
    var sCloneOGOCaseId = '{!$CurrentPage.parameters.CloneCaseId}';

    var disableCloseCaseButton = {!JSENCODE(IF(bDisableCloseCaseBtn , 'true', 'false'))};
    var disableEditCaseButton  = {!JSENCODE(IF(bDisableEditCaseBtn, 'true', 'false'))};
    var disableTranferCaseButton = {!JSENCODE(IF(bDisableTransferCaseBtn , 'true', 'false'))};
	var onLoadSubTabID;    
    var unifiedSearchFlag = {!JSENCODE(IF(bCaseUnifiedSearch, "true", "false"))};    
    var coveoMessageStr;
    var coveoMessage;    

    //call the onload function    
    jQuery(document).ready(function () {
      if(unifiedSearchFlag) {
        coveoMessageStr = JSON.stringify({!sCoveoMessage});        
        casedetailOnLoad();
      }
    });
	
    displayCopyOptionForPageHeader('{!Case.CaseNumber}');
    
    if(disableCloseCaseButton)
    {
      jQuery('#caseCloseButtonId').attr('disabled','disabled');
      jQuery('#caseCloseButtonId').attr('onclick','').unbind('click');
    }
    else
    {
      jQuery('#caseCloseButtonId').removeAttr('disabled');
    }

    if(disableEditCaseButton)
    {
      jQuery('#caseEditButtonId').attr('disabled','disabled');
      jQuery('#caseEditButtonId').attr('onclick','').unbind('click');
    }
    else
    {
      jQuery('#caseEditButtonId').removeAttr('disabled');
    }
   
	
    if(disableTranferCaseButton)
    {
      jQuery('#caseOwnerChangeButtonId').attr('disabled','disabled');
      jQuery('#caseOwnerChangeButtonId').attr('onclick','').unbind('click');
    }
    else
    {
      jQuery('#caseOwnerChangeButtonId').removeAttr('disabled');
    }
    if(legacydelCheck)
    {
    jQuery('#caseEditButtonId').attr('disabled','disabled');

    }
    if(legacydelCheck || caseStatus)
    {

    jQuery('#cloneButtonId').attr('disabled','disabled');
    }
    //Issue Open Account-Case Page with Member to Member interaction in one tab and Open Account-Case Page with Agent/provider/group to Member interaction in other tab then RIght side panel goes away on 1st tab. Because Event name was not unique per tab
    //Appending primary tab id to CollapseRightAlertPanelCase event listener to make event unique
    var getPrimaryTabId = function getPrimaryTabId() {
    sforce.console.getEnclosingPrimaryTabId(getTabPrimaryId);
    }
    var getTabPrimaryId = function getTabPrimaryId(result) {
    CollapseRightAlertPanelCase = 'CollapseRightAlertPanelCase' +result.id;
    sforce.console.addEventListener(CollapseRightAlertPanelCase, function(result){
    document.getElementById('main-container').classList.remove('mainContainer');
    document.getElementById('main-container').style.width='100%';
    document.getElementById('sideBar-container').style.display='none';
    document.getElementById('stickyDiv').style.width='100%';
    });
    }
    getPrimaryTabId();

    sforce.console.addEventListener('CaseDetailEvent', function(result){
    gotoLocation("CaseComments");
    });

    if(sCloneOGOCaseId) {
    var sOpenUrl = '/' + sCloneOGOCaseId + '/e?retURL=' + sCloneOGOCaseId + '&ent=Case&PageFrom=CaseHistory';
    sforce.console.openPrimaryTab(null, sOpenUrl, false, 'New Clone Case', '', 'New Clone Case');
    }
  </script>
</apex:page>