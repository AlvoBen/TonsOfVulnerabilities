<!-- *****************************************************************************************
Page Name          : HUMTaskEditPage
Version            : 1.0
Function           : Page for Task edit and New Task creation.
Created Date       : 05/09/2014

Modification Log:
* ModificationID   Developer                   Code Review     Date               Description
* ------------------------------------------------------------------------------------------------------------------------------                
*       1.0         Avishek Roy                  17093         05/09/2014          Original Version
*       1.1         Mrudula Anusha               17093         05/30/2014          Worked on allignment of fields
*       1.2         Mrudula Anusha               17267         08/12/2014          Modified upsert functionality to fix 149303 defect
*       1.3         Manish Kumar                 18081         09/25/2014          Updated code for 'User Not Found' functionality
*       1.4         Mrudula Jaddu                18990         11/05/2014          Updated code for 'Cancel' functionality 
*       1.5         SuryaKumari Medicherla       20518         01/26/2015          Code modified to fix defect:169292
*       1.6         SuryaKumari Medicherla       21091         02/23/2015          Code modified according to REQ: 01986 
*       1.7         SuryaKumari Medicherla       21223         02/26/2015          Code modified to fix Issue number 146 and business priority 0.(not able to get users part of queues even after selecting service center and department)
*       1.8         Reena Rajan                  21384         03/09/2015          For REQ-72834 added Task Type field
*       1.9         Kritika Popat                21906         03/19/2015          Modified it as part of REQ-82518 lines 45,46,52-54(Rendering of buttons)
*       2.0         SuryaKumari Medicherla       22085         03/30/2015          added "onComplete" attribute for Save Button to call javascript method(triggerOpenActivites) and added script variable for REQ-72835
*       2.1         SuryaKumari Medicherla       22279         04/10/2015          added action function for "service center" for defect:179399.0001
*       2.2         Manuel Johnson               22322         04/10/2015          Made Task Type input field required for defect 179519
*       2.3         Manish Kumar                 22930         04/14/2015          Modified the code thoroughout the page to assign tabIndex to required components.
*       2.4         Praveen Kumar Parimi         22930         04/28/2015          Modified the code according to REQ - 176877
*       2.5         Ranjeeth Nagishetty          22930         04/29/2015          Modified the code for adding Tabbing logic
*       2.6         SuryaKumari Medicherla       23340         05/26/2015          Added "primaryObjectID" script variable to fix defect:181971.0001
*       2.7         Sagar Tapadia                25823         08/26/2015          Added Action status to save Button. Line#57
*       2.8         Sharan Shanmugam             25823         12/17/2015          Modified height to 1200px
*       2.9         Avinash Choubey              27649         01/07/2016          Removed the Action Status from Save button and showing and Hiding Loading Image by JS functions showLoadingDiv() , functionOnComplete()
*       3.0         MadhuSudhan Chandra          27649         05/11/2016          Code modified to fix defect: 213979
*       3.1         Shikhar Mehta                36368         08/23/2016          REQ - 95982 
*       3.2         Shikhar Mehta                36584         10/26/2016          REQ - 290098 MF3 RollBack
*       3.3         Avinash Choubey              48582         11/17/2016          added call to new JS function refreshprimarytab() for Defect - 246779
*       3.4         Pallavi Ravishankar          51039         12/08/2016          REQ - 290266 - Defect fix 247982.0001- placed renderUserErrorVal script above the error message output text
*       3.5         Harshith Mandya                            02/21/2017          REQ - 301510 : CA Ticket - Fixing the OWner Queue, Service Center and Department Mismatch
*       3.6         Harshith Mandya                            03/30/2017          Fix for Incident - 6693237
*       3.7         Prudhvi Pamarthi            154304         01/19/2018          REQ - 328929 Fix for HUMExceptionHelper: DML 
*       3.8         Pallavi Ravishankar         268909         07/30/2018          REQ 361926 - Work Task Type 'Extension Request' added to the existing Task Type
*       3.9         Amar Gadewar                               04/18/2019          REQ - 396424 - Quality - RCC - Medicare ID field on Task Edit and Task Detail page (RF) 
*       4.0         Vinay Lingegowda                           06/27/2019          REQ 401994 AHT - All Users - Add Close Task button on Task Edit Page(RF)
*       4.1         Vinay Lingegowda                           07/11/2019          REQ - 403790 AHT - All Users - Add Assign to Me button on the Task Edit page (RF)
*       4.2         Vinay Lingegowda                           07/26/2019          REQ 404465 AHT - All Users - Add Close Task button on Task Edit Page(CRM)
*       4.3         Subhamay Mandal                                          03/15/2020                938292 QS 3.0 - AHT - Ability to create task from Quick Start (RF)
*       4.3         Subhamay Mandal                                          05/29/2020                1083375 Defect fix DF-820
*       4.4         Samantha Tennyson                          02/05/2021          User Story 1875448: PR00091574 - MF 1 - Quality - Ability to capture additional information related to Notification Task (RF)
*       4.5         Pooja Kumbhar							   04/08/2021		   User story 2163293: T1PRJ0002736 / PR00094232 - 2021 MF6 - Case Management Checkmarx Security violations - Task Edit 
*       4.6         Samantha Tennyson   					             06/01/2021		       User Story 2325471: T1PRJ0001827 - MF 1 - AHT - Ability to prefill queue details on Task Edit page (CRM)
*       4.7         Samantha Tennyson       				   06/17/2021          User Story 2369230: T1PRJ0001827 - MF 1 - Quality - Ability to capture additional information related to Notification Task (CRM)
*   	4.8			Samantha Tennyson       				   06/22/2021          User Story 2393164: T1PRJ0001827 - MF 1 - SF - TECH - On/Off Switch Cleanup for 6/11/21, 6/25/21, 7/9/21 and 7/23/21 releases (CRM)
*      4.9            Anil Parvathaneni				               10/18/2022				     User Story 3176163 : Create New Task Type and fields for Market Credentialing
**************************************************************************************************************************** -->

<apex:page standardController="Task" action="{!reDirectPage}" extensions="HUMTaskEditPageExtension" showChat="false" id="pageId" docType="html-5.0">

  <apex:includeScript value="/support/console/37.0/integration.js"/>
  <apex:includeScript value="{!URLFOR($Resource.CRM_JQUERY, 'jquery.min.js')}"/>
  <apex:includeScript value="{!URLFOR($Resource.HUMTaskEditPage, 'main.js')}"/>
  <apex:stylesheet value="{!URLFOR($Resource.HUMTaskEditPage, 'main.css')}"/>
  <apex:messages />
  <apex:sectionHeader title="{!sSectionHeader}" id="secID"/>
  <apex:form id="addCriteria">
    <!-- For Constructor Related exception -->
    <c:HUMConstructorExceptionComponent errorLogs="{!listErrorLogs}" />
    <apex:pageBlock id="pgBlock">
      <apex:pagemessages id="error"></apex:pagemessages>
      <apex:outputPanel id="blankStartEndTime" style="display: none;">
        <apex:PageMessage Summary="{!$Label.blankStartEndTime_TaskEdit_Task_HUM}" severity="Error" Strength="3" />
        <apex:pagemessages />
      </apex:outputPanel>
      <apex:outputPanel id="invalidFormatST" style="display: none;">
        <apex:PageMessage Summary="{!$Label.InValidFormat_StartTime_TaskEdit_Task_HUM}" severity="Error" Strength="3" />
        <apex:pagemessages />
      </apex:outputPanel>
      <apex:outputPanel id="invalidFormatET" style="display: none;">
        <apex:PageMessage Summary="{!$Label.InValidFormat_EndTime_TaskEdit_Task_HUM}" severity="Error" Strength="3" />
        <apex:pagemessages />
      </apex:outputPanel>
      <apex:pageBlockButtons id="pgBlockBtnsTaskBtn" >
        <apex:commandButton action="{!saveTask}" value="{!$Label.HUMSave}" onclick="showLoadingDiv();"  tabIndex="10" onComplete="functionOnComplete();" reRender="attachId,error" rendered="{!bVisible && !bDisableStatus}" id="saveBtnId" />
        <apex:outputPanel rendered="{!IF(((!(ISNULL(Task.Task_Owner__c))) && (!bDisableStatus)) , true , false)}" id="panelTaskOwnerCancelBtn">
          <apex:commandButton action="{!cancel}" tabIndex="11" value="{!$Label.HUMCancelBtn}" immediate="true" id="taskOwnerCancelBtnId"/>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!IF(ISNULL(Task.Task_Owner__c) , true, false)}" id="panelTaskOwnerNullCancelBtn">
          <apex:commandButton onclick="closeSubTab();return false;" tabIndex="12" value="{!$Label.HUMCancelBtn}" immediate="true" id="taskOwnerNullCancelBtnId"/>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!bDisableStatus}" id="panelStatusDisabledCancelBtn">
          <apex:commandButton onclick="performAction(); return false;" tabIndex="13" value="{!$Label.HUMCancelBtn}" immediate="true" id="statusDisabledCancelBtnId"/>
        </apex:outputPanel>
        <apex:commandButton action="{!validateCloseTask}" value="{!$Label.HUMCloseTask}" onclick="closeTask();" onComplete="functionOnComplete();" reRender="attachId,error" rendered="{!bVisible && !bDisableStatus}" id="closeTaskBtnId" />
        <apex:commandButton id="prefillQueueId" action="{!prefillQueue}" value="{!$Label.Prefill_Queue_TaskEdit_Task_HUM}" reRender="panelServiceCentersList, panelDepartmentsList, topicId, usrPBS, inlineGroupName,idShowTopic,topicMsgId" onComplete="renderTopicErrorVal()"/>
      </apex:pageBlockButtons>

      <apex:pageBlockSection title="{!$Label.HUMTaskInfo}" collapsible="false" columns="2" id="serverApp">
        <apex:facet name="header">
          <apex:outputlabel styleClass="head">{!$Label.HUMTaskInfo}</apex:outputlabel>
        </apex:facet>
        <apex:pageBlockSectionItem id="pgBlockSectionItemTaskNumber">
          <apex:outputText value="{!$Label.HumTaskNumber}" styleClass="fieldlook" id="taskNumberTxt"/>
          <apex:inputField value="{!Task.Task_Number__c}" required="true" id="idTaskNumber"/>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionHomeOwnerQueue">
          <apex:outputText value="{!$Label.HumOwnerQueue}" styleClass="fieldlook" id="ownerQueueTxt"/>
          <apex:outputField value="{!Task.Owner_Queue__c}" id="idHomeOwnerQueue"/>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionItemRelatedTo">
          <apex:outputText value="{!$Label.HumRelatedTo}" styleClass="fieldlook" id="relatedToTxt"/>
          <apex:outputField value="{!Task.WhatId}" id="idRelatedTo"/>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionTaskOwner">
          <apex:outputText value="{!$Label.HumTaskOwner}" styleClass="fieldlook" id="taskOwnerTxt"/>
          <apex:outputField value="{!Task.Task_Owner__c}" id="inlineGroupName"/>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionItemTaskType">
          <apex:outputPanel >
            <apex:outputText value="{!$Label.HumTaskType}" styleClass="fieldlook" id="taskTypeTxt"/>
            <apex:image styleClass="imageStyle"  value="{!$Resource.HUMHoverOverQuestionMark}" onmouseover="openTaskTypeID();" onmouseout="clearTaskTypeID();"/>
          </apex:outputPanel>
          <apex:outputPanel id="panelTaskType" >
            <apex:inputField value="{!Task.Type}" id="idTaskType" html-tabIndex="1" required="true" onchange="taskTypeChangeAF(this.value);displayCallBackRequested(this.value)"/>
            <script type="text/javascript">
              (function()
              {
              var e = document.querySelectorAll('[id$="idTaskType"]')[0];
              var parentId = '{!JSENCODE($CurrentPage.parameters.parentTaskId)}';
              var parentskedit ='{!JSENCODE(sParentId)}';

              if (((parentId.length != 0 && parentId != 'null') || (parentskedit.length != 0 && parentskedit != 'null')) && e.length == 3 && e[2].value == "Extension Request" )
              {e.remove(2);}
              })();
            </script>
            <div id="TaskTypeID" class="stylePanelID">
              <SPAN id='TaskTypeTextID'></SPAN>
            </div>
            <apex:outputPanel id="TaskTypeID" styleClass="stylePanelID">
            </apex:outputPanel>
            <apex:outputPanel id="TaskTypeTextID"></apex:outputPanel>
          </apex:outputPanel>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionItemStatus">
          <apex:outputText value="{!$Label.HumStatus}" />
          <apex:inputField value="{!Task.Status}" html-tabIndex="2" id="idStatus" />
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="pgBlockSectionCallBackRequested">
          <apex:outputText value="{!$Label.HUMCallback_Requested}" styleClass="fieldlook" id="callBackRequestedLbl"/>
          <apex:inputField value="{!Task.Callback_Requested__c}" html-tabIndex="3" id="callBackRequestedVal" />
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem id="idMedicareID" rendered="{!NOT(ISNULL(sMedicareID))}">
          <apex:outputlabel Value="Medicare ID" id="idMedicareIdLabel"/>
          <apex:outputtext value="{!sMedicareID}" id="idMedicareIDValue"/>
        </apex:pageBlockSectionItem>

      </apex:pageBlockSection>

      <apex:pageBlockSection title="{!$Label.HUMTaskTransfer}" collapsible="false" columns="2" id="idTaskTransfer">
        <apex:facet name="header">
          <apex:outputlabel styleClass="head">{!$Label.HUMTaskTransfer}</apex:outputlabel>
        </apex:facet>
        <apex:pageBlockSectionItem id="pgBlockSectionItemTopic">
          <apex:outputpanel id="topicSelectionPanel">
            <apex:actionRegion id="actionTopic" >
              <apex:outputpanel rendered="True">
                <table  class="table7">
                  <tr><td>
                      <apex:outputpanel id="Queueop">
                        <table  class="table8">
                          <tr><td class="table9"><apex:outputLabel styleClass="queueOPLabel" value="{!$Label.HUMQueue_Selection}" /></td></tr>
                        </table>
                      </apex:outputpanel>
                      <apex:outputpanel id="serviceCenters">
                        <table  class="table2">
                          <tr><td class="table10"></td>
                            <td class="table3"><apex:outputLabel value="{!$Label.HUMServiceCenter}" styleClass="fieldlook"/>&nbsp; &nbsp;</td>
                            <td class="table4">
                              <apex:outputPanel styleClass="requiredInput" layout="block" id="panelServiceCentersList">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:selectList value="{!sServiceValue}" tabIndex="4" title=" Department" size="1" disabled="{!bDisablefield}" id="serviceCenterId">
                                  <apex:selectOptions value="{!lstServiceCenter}" id="serviceCenterOptionsList" />
                                  <apex:actionsupport event="onchange" rerender="departments,topics" action="{!populateDepartmentName}"/>
                                </apex:selectList>
                              </apex:outputPanel>
                            </td></tr></table>
                      </apex:outputpanel>
                    </td></tr>
                  <tr><td>
                      <apex:outputpanel id="departments">
                        <table class="table2" >
                          <tr><td class="table10"></td>
                            <td class="table3"><apex:outputLabel value="{!$Label.HUMDepartment}" styleClass="fieldlook"/>&nbsp; &nbsp;</td>
                            <td class="table4">
                              <apex:outputPanel styleClass="requiredInput" layout="block" id="panelDepartmentsList">
                                <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                <apex:selectList value="{!sDepartValue}" tabIndex="5" title=" Department" size="1" disabled="{!bDisablefield}" id="departmentId">
                                  <apex:selectOptions value="{!lstDepartment}" id="departmentOptionsList"/>
                                  <apex:actionsupport event="onchange" rerender="topics,inlineGroupName,usrPBS" action="{!populateQueueName}"/>
                                </apex:selectList>
                              </apex:outputPanel>
                            </td></tr></table>
                      </apex:outputpanel>
                    </td></tr>
                  <tr><td>
                      <apex:outputpanel id="topics">
                        <table class="table2">
                          <tr><td class="table10"></td>
                            <td class="table3"><apex:outputLabel value="{!$Label.HUMTopic}" styleClass="fieldlook"/>&nbsp; &nbsp;</td>
                            <td class="table4">
                              <apex:selectList value="{!sTopicValue}" tabIndex="6" title="{!$Label.HUM_Department}" size="1" disabled="{!bShowTopic  || bDisablefield}" id="topicId" onchange="renderTopicErrorVal();">
                                <apex:selectOptions value="{!lstTopics}" id="topicOptionsList"/>
                              </apex:selectList>
                              <div id="divTopicSelect" style="display:none; color:red;" role="alert" >{!$Label.HUMTaskTopicMsg}</div>
                            </td></tr></table>
                      </apex:outputpanel>
                    </td></tr>
                  <tr><td>
                      <apex:outputPanel id="usrPBS">
                        <table  class="table2">
                          <tr><td class="table10"></td>
                            <td class="table3"><apex:outputLabel value="{!$Label.HUMUser}" styleClass="fieldlook"/>&nbsp; &nbsp;</td>
                            <td class="table4">
                              <apex:inputhidden id="dfd"/>
                              <apex:input tabIndex="7" type="text" id="auto12" required="false" value="{!sUserName}"  onblur="Populateowner();return false;" disabled="{!bDisablefield}">
                                <c:HUMUserAutoComplete objectname="User" queueName="{!sQueueName}" User_Id="{!$Component.sUserId}" input_id="{!$Component.auto12}" resSize="{!$Component.SUserText}" wildcardBefore="true"/>
                                <apex:actionSupport event="onkeydown" oncomplete="renderUserErrorVal('{!$Component.SUserText}', '{!$Component.auto12}', '{!$Component.opUsrErrTxt}','{!$Component.SUserId}'); return false;" reRender="opUsrText"/>
                              </apex:input>
                              <div id="divUserSelect" style="display:none; color:red;" role="alert" >User must be selected manually.</div>
                              <apex:inputHidden id="SUserText"/>
                              <apex:inputHidden id="SUserId" value="{!sUserID}"/>
                              &nbsp;&nbsp;
                              <apex:outputPanel id="opUsrText">
                                <script>
                                  renderUserErrorVal('{!$Component.SUserText}', '{!$Component.auto12}','{!$Component.opUsrErrTxt}','{!$Component.sUserId}' );
                                </script>
                                <apex:outputText id="opUsrErrTxt" styleClass="opErrText" value=""/>
                              </apex:outputPanel>
                            </td></tr></table>
                      </apex:outputPanel>
                    </td></tr>
                </table>
              </apex:outputpanel>
            </apex:actionRegion>
          </apex:outputpanel>
        </apex:pageBlockSectionItem>
      </apex:pageBlockSection>

      <apex:pageBlockSection title="{!$Label.HUMAdditionalInfo}" collapsible="false" columns="2" id="pgBlockSection">
        <apex:facet name="header">
          <apex:outputlabel styleClass="head">{!$Label.HUMAdditionalInfo}</apex:outputlabel>
        </apex:facet>
        <apex:pageBlockSectionItem id="pgBlockSectionItemPriority">
          <apex:outputText value="{!$Label.HumPriority}" styleClass="fieldlook" id="taskPriorityTxt"/>
          <apex:inputField value="{!Task.Priority}" html-tabIndex="8" required="true" id="idPriority"/>
        </apex:pageBlockSectionItem>          
        <apex:pageBlockSectionItem id="pgBlockSectionItemCredentialingTask" rendered="{!bShowTaskEndDate}">
            <apex:outputPanel ><apex:outputText value="Credentialing Task" styleClass="fieldlook" id="taskCredentialingTask"/>
            	<apex:outputPanel styleClass="vfHelpText" id="hoverOverArea">
                                <apex:commandLink onclick="javascript:void(O);">
                                    <apex:image id="lnkImg" styleClass="imgMargin hoverQuestionMark" value="{!$Resource.HUMHoverOverQuestionMark}" />
                                        <apex:outputPanel styleClass="hoverfontstyle">
                                            Select the Credentialing Task being accomplished
                                        </apex:outputPanel>
                                </apex:commandLink></apex:outputPanel>
                </apex:outputPanel> 
			<apex:inputField value="{!Task.Credentialing_Task__c}"  id="idCredentialingTask" rendered="{!!bDisableStatus}"/>     
        </apex:pageBlockSectionItem>

        <apex:pageBlockSectionItem id="pgBlockSectionItemDueDate">
          <apex:outputText value="{!$Label.HumDueDate}" styleClass="fieldlook" id="dueDateTxt"/>
          <apex:inputField value="{!Task.ActivityDate}" html-tabIndex="9" id="idDueDate"  />
        </apex:pageBlockSectionItem>

         <apex:pageBlockSectionItem id="pgBlockSectionItemcompletionDate" rendered="{!bShowTaskEndDate}">
              <apex:outputPanel >
                <apex:outputText value="Task Completion Date" styleClass="fieldlook" id="completionDate"/>
                    <apex:outputPanel styleClass="vfHelpText" id="hoverOverArea1">
                          <apex:commandLink onclick="javascript:void(O);">
                            <apex:image id="lnkImg1" styleClass="imgMargin hoverQuestionMark" value="{!$Resource.HUMHoverOverQuestionMark}" />
                            <apex:outputPanel styleClass="hoverfontstyle">
                              Select the Credentialing Task Completion date
                            </apex:outputPanel>
                          </apex:commandLink></apex:outputPanel>
                  </apex:outputPanel>
             <apex:inputField value="{!Task.Task_Completion_Date__c}" id="idCompletionDate" />
          </apex:pageBlockSectionItem>
        

        <apex:pageBlockSectionItem id="pgBlockSectionItemTimeZone">
          <apex:outputText value="{!$Label.HUMTimeZone}" styleClass="fieldlook" id="timeZoneTxt"/>
          <apex:inputField value="{!Task.Time_Zone__c}" html-tabIndex="10" id="idTimeZone"/>
        </apex:pageBlockSectionItem>
		<apex:pageBlockSection />
        <apex:pageBlockSectionItem id="pgBlockSectionItemCallBackStart">
          <apex:outputText value="{!$Label.HUMCallBackStartTime}" styleClass="fieldlook" id="CallBackStartTxt"/>
          <apex:input value="{!sStartCallTime}"  size="10" id="idStartTime" tabIndex="11" list="{!lstTimeInput}" onchange="addEndTimeHrs(this.value)" disabled="{!bDisablefield}" />
        </apex:pageBlockSectionItem>
		<apex:pageBlockSection />
        <apex:pageBlockSectionItem id="pgBlockSectionItemCallBackEnd">
          <apex:outputText value="{!$Label.HUMCallbackEndTime}" styleClass="fieldlook" id="callbackEndTxt"/>
          <apex:input value="{!sEndCallTime}"  size="10" id="idEndTime" tabIndex="12" list="{!lstTimeInput}" onchange="checkEndTimeIsInvalid(this.value)" disabled="{!bDisablefield}" />
        </apex:pageBlockSectionItem>
      </apex:pageBlockSection>

      <apex:pageBlockSection title="{!$Label.HUMTaskComments}" collapsible="false" columns="1" id="idTaskComments">
        <apex:facet name="header">
          <apex:outputlabel styleClass="head">{!$Label.HUMTaskComments}</apex:outputlabel>
        </apex:facet>
        <apex:pageBlockSectionItem id="pgBlockSectionItemComment">
          <apex:outputText value="{!$Label.HUMTaskComments}" styleClass="fieldlook" id="taskCommentsText"/>
          <apex:inputField value="{!Task.Description}" html-tabIndex="13" id="idComment" styleClass="comment"  />
        </apex:pageBlockSectionItem>
      </apex:pageBlockSection>
    </apex:pageBlock>

    <apex:actionFunction name="TaskQueuepicklist" action="{!doRender}" rerender="topicSelectionPanel"/>
    <apex:actionFunction name="Populateowner" action="{!populateGroupName}" rerender="inlineGroupName,topicSelectionPanel"/>
    <apex:actionFunction name="taskTypeChangeAF" action="{!populateTaskTransferForExtTask}" rerender="topicSelectionPanel,inlineGroupName" oncomplete="disableTaskTransfer('{!JSENCODE(sTaskTypeParam)}');">
      <apex:param name="taskType" value="" assignTo="{!sTaskTypeParam}" id="paramTskTypeId"/>
    </apex:actionFunction>
    <apex:inputHidden id="hidden" value="{!Task.Owner_Queue__c}"/>
    <apex:outputpanel id="attachId">
      <script>
        //Get the Latest Data from the Objects
        var caseID = '{!JSENCODE(Task.WhatId)}';

        //Store the created custom Attachment ID
        var TaskId = '{!JSENCODE(Task.Id)}';

        //Store the create Custom Attachment Name
        var TaskName = '{!JSENCODE(Task.Task_Number__c)}';

        var Error = '{!JSENCODE(IF(bIsError, "true", "false"))}';

        (function(){
        var e = document.querySelectorAll('[id$="callBackRequestedVal"]')[0];
        if (e && !e[0].value) {e.remove(0);}
        })();
      </script>
    </apex:outputpanel>

    <script> window.onload = setFocusOnLoad; </script>

    <div class="waitingSearchDiv waitingSearchDivOpacity Waitingsearch" id="loadingDiv" />
    <div id="searchingStatus" class="waitingSearchDiv Searchingstats">
      <div class="waitingHolder Waitinghold">
        <img class="waitingImage" src="/img/loading.gif"/>
        <span class="waitingDescription">{!$Label.HUM_Loading}</span>
      </div>
    </div>

  </apex:form>
  <script>
    var primaryTabID;
    var currentTabID;
    var primaryObjectID;
    var tskNumber = '{!$Component.pageId.addCriteria.pgBlock.serverApp.pgBlockSectionItemTaskNumber.idTaskNumber}';
    var tskType = '{!$Component.pageId.addCriteria.pgBlock.serverApp.pgBlockSectionItemTaskType.idTaskType}';
    var tskPriority ='{!$Component.pageId.addCriteria.pgBlock.pgBlockSection.pgBlockSectionItemPriority.idPriority}';
    var tskComment = '{!$Component.pageId.addCriteria.pgBlock.idTaskComments.pgBlockSectionItemComment.idComment}';
    var tskDueDate = '{!$Component.pageId.addCriteria.pgBlock.pgBlockSection.pgBlockSectionItemDueDate.idDueDate}';
    var tskCredentialing = '{!$Component.pageId.addCriteria.pgBlock.pgBlockSection.pgBlockSectionItemCredentialingTask.idCredentialingTask}';
    var tskCompletionDate = '{!$Component.pageId.addCriteria.pgBlock.pgBlockSection.pgBlockSectionItemcompletionDate.idCompletionDate}';
    var tskStatus = '{!$Component.pageId.addCriteria.pgBlock.serverApp.pgBlockSectionItemStatus.idStatus}';
    var fieldsReadOnly ='{!JSENCODE(IF(bDisablefield, "true", "false"))}';
    var StatusReadOnly ='{!JSENCODE(IF(bDisableStatus, "true", "false"))}';
    var sectionHeaderTitle ='{!JSENCODE(sSectionHeaderForTitle)}';
    var secHeader = '{!JSENCODE(sSectionHeaderForTitle)}';
    var loadingImageMainDi = '{!$Component.pageId.addCriteria.loadingDiv}';
    var serviceCenterId = "pageId:addCriteria:pgBlock:idTaskTransfer:pgBlockSectionItemTopic:serviceCenterId";
    var deptId = "pageId:addCriteria:pgBlock:idTaskTransfer:pgBlockSectionItemTopic:departmentId";
    var topicId = "pageId:addCriteria:pgBlock:idTaskTransfer:pgBlockSectionItemTopic:topicId";
    var userId = "pageId:addCriteria:pgBlock:idTaskTransfer:pgBlockSectionItemTopic:auto12";
    var tType = '{!JSENCODE(Task.Type)}';
    var sTimeZone = '{!JSENCODE(Task.Time_Zone__c)}';
    var startTimeDataList = "pageId:addCriteria:pgBlock:pgBlockSection:pgBlockSectionItemCallBackStart:idStartTime:datalist";
    var endTimeDataList = "pageId:addCriteria:pgBlock:pgBlockSection:pgBlockSectionItemCallBackEnd:idEndTime:datalist";
    var bIsMedicareUser = '{!$Permission.RSOMedicareFrontOfficeUser_HUM}';
    var bisRapidForceUser = '{!$Permission.RapidForceUser_AHT_HUM}';
  </script>
      <apex:outputPanel id="topicMsgId"> 
          <script>
            var topicValue = document.querySelector("[id$='topicId']"); 
          </script>
      </apex:outputPanel>
      <apex:outputpanel id="idShowTopic">
      <script>
        var isShow ={!JSENCODE(IF((bShowTopic  || bDisablefield), "true", "false"))};
      </script>
    </apex:outputpanel>
</apex:page>