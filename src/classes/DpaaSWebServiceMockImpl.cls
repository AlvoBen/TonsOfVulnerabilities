/*******************************************************************************************************************************
Apex Class Name : DpaaSWebServiceMockImpl
Version         : 1.0
Created On      : 06/27/2014
Function        : Mock Webservice Class

  Modification Log: 
 * Developer Name              Code Review                    Date                       Description
 *------------------------------------------------------------------------------------------------------------------------------
 * Manish Kumar                  17122                        06/27/2014                 Original Version    
 * Chaitanya Kumar               17788                        08/22/2014                 Updated mock services
 * Pranali Choudhary             18083                        09/23/2014                 Updated detokenize method to return multiple values
 * Sagar Tapadia                 20293                        01/12/2015                 Updated to handle encryption of body field in Humana Chat Transcript custon object.
 * Reena Rajan												  14/05/2015				 Updated to handle FileResponse on line#54
 * Pradeepkumar Dani             30060	                      01/12/2015                 Updated to handle encryption of Supervisor body & Issue field in Humana Chat Transcript custom object.
 * Pradeepkumar Dani			 30333						  03/07/2016				 Fix for REQ 224011 check in issue.
 *******************************************************************************************************************************/
@isTest
public with sharing class DpaaSWebServiceMockImpl implements WebServiceMock {
    public void doInvoke(
            Object stub,
            Object request,
            Map<String, Object> response,
            String endpoint,
            String soapAction,
            String requestName,
            String responseNS,
            String responseName,
            String responseType) {           
        if(responseType == 'DpaaSSoapWebService.DetokenizeResponse'){
            // Create response element from the autogenerated class.
            DpaaSSoapWebService.DetokenizeResponse dtResponse = new DpaaSSoapWebService.DetokenizeResponse();

            // Populate response element.
            DpaaSSoapWebService.DetokenizationResult[] detokenizationResults = new List<DpaaSSoapWebService.DetokenizationResult>();
             DpaaSSoapWebService.DetokenizationResult oneResult = new DpaaSSoapWebService.DetokenizationResult();
           
            oneResult.clearTextValue = 'Clear Text';
            oneResult.cipherTextValue = 'Clear Text';
            detokenizationResults.add(oneResult);
                        
            for(Integer i = 1; i <10; i++){
            DpaaSSoapWebService.DetokenizationResult oneResult2 = new DpaaSSoapWebService.DetokenizationResult();
           
            oneResult2.clearTextValue = 'Clear Text' +i;
            oneResult2.cipherTextValue = 'Clear Text'+i;
            detokenizationResults.add(oneResult2);
            }
            
            dtResponse.detokenizationResult = detokenizationResults;

            // Add response element to the response parameter, as follows:
            response.put('response_x', dtResponse); 
            system.assert(response != null);
        }
        
        if(responseType == 'DpaaSSoapWebService.FileResponse')
        {
            DpaaSSoapWebService.FileResponse fileResponse = new  DpaaSSoapWebService.FileResponse();
            DpaaSSoapWebService.FileOptions fileOptions = new DpaaSSoapWebService.FileOptions();
            fileOptions.operation = 'ABC';
            fileOptions.base64Content = new List<String>{'yes'};
            fileResponse.fileOptions = fileOptions;
            // Add response element to the response parameter, as follows:
            response.put('response_x', fileResponse);
            system.assert(response != null);
        }

        if(responseType == 'DpaaSSoapWebService.TokenizeResponse'){
            // Create response element from the autogenerated class.
            DpaaSSoapWebService.TokenizeResponse tResponse = new DpaaSSoapWebService.TokenizeResponse();
            DpaaSSoapWebService.TokenizeRequest requestObj = (DpaaSSoapWebService.TokenizeRequest)request;

            // Populate response element.
            DpaaSSoapWebService.Field[] tokenizationResults = new List<DpaaSSoapWebService.Field>();
            DpaaSSoapWebService.Field oneField = new DpaaSSoapWebService.Field();          
            oneField = new DpaaSSoapWebService.Field();
            oneField.applicationName = 'SFDC';
            oneField.fieldName = 'BillingStreet';
            oneField.clearTextValue = '111CDATA121313211111';
            oneField.cipherTextValue = '111CDATA121313211111';
            tokenizationResults.add(oneField);
            
            DpaaSSoapWebService.Field oneFieldGrpNum = new DpaaSSoapWebService.Field();          
            oneFieldGrpNum = new DpaaSSoapWebService.Field();
            oneFieldGrpNum.applicationName = 'SFDC';
            oneFieldGrpNum.fieldName = 'Group_Number__c';
            oneFieldGrpNum.clearTextValue = '111CDATA121313211111';
            oneFieldGrpNum.cipherTextValue = '111CDATA121313211111';
            tokenizationResults.add(oneFieldGrpNum);

            DpaaSSoapWebService.Field oneFieldRec = new DpaaSSoapWebService.Field();          
            oneFieldRec = new DpaaSSoapWebService.Field();
            oneFieldRec.applicationName = 'SFDC';
            oneFieldRec.fieldName = 'BillingCity';
            oneFieldRec.clearTextValue = '111CDATA121313211111';
            oneFieldRec.cipherTextValue = '111CDATA121313211111';
            tokenizationResults.add(oneFieldRec);

            DpaaSSoapWebService.Field oneFieldRecName = new DpaaSSoapWebService.Field();          
            oneFieldRecName = new DpaaSSoapWebService.Field();
            oneFieldRecName.applicationName = 'SFDC';
            oneFieldRecName.fieldName = 'Name';
            oneFieldRecName.clearTextValue = '111CDATA121313211111';
            oneFieldRecName.cipherTextValue = '111CDATA121313211111';
            tokenizationResults.add(oneFieldRecName);
            
            DpaaSSoapWebService.Field oneFieldRecTaxID = new DpaaSSoapWebService.Field();          
            oneFieldRecTaxID = new DpaaSSoapWebService.Field();
            oneFieldRecTaxID.applicationName = 'SFDC';
            oneFieldRecTaxID.fieldName = 'consumer_id__c';
            oneFieldRecTaxID.entityName = 'ConsumerId__c';
            oneFieldRecTaxID.clearTextValue = '131321111111111';
            oneFieldRecTaxID.cipherTextValue = '12313131111111';
            tokenizationResults.add(oneFieldRecTaxID);
            
            DpaaSSoapWebService.Field oneFieldRecBody = new DpaaSSoapWebService.Field();          
            oneFieldRecBody = new DpaaSSoapWebService.Field();
            oneFieldRecBody.applicationName = 'SFDC';
            oneFieldRecBody.fieldName = 'Body__c';
            oneFieldRecBody.entityName = 'Humana_Chat_Transcript__c';
            oneFieldRecBody.clearTextValue = 'TEST TRANSCRIPT AGENT CLIENT';
            oneFieldRecBody.cipherTextValue = 'TEST TRANSCRIPT AGENT CLIENT';
            tokenizationResults.add(oneFieldRecBody);
			
			if(requestObj <> NULL && !requestObj.field.isEmpty() && requestObj.field.get(0) <> NULL && requestObj.field.get(0).entityName <> NULL && requestObj.field.get(0).entityName == 'Humana_Chat_Transcript__c')
            {
            	DpaaSSoapWebService.Field oneFieldRecSupBody = new DpaaSSoapWebService.Field();          
				oneFieldRecSupBody = new DpaaSSoapWebService.Field();
				oneFieldRecSupBody.applicationName = 'SFDC';
				oneFieldRecSupBody.fieldName = 'SuperVisorTranscriptBody__c';
				oneFieldRecSupBody.entityName = 'Humana_Chat_Transcript__c';
				oneFieldRecSupBody.clearTextValue = 'TEST TRANSCRIPT AGENT SUPER CLIENT';
				oneFieldRecSupBody.cipherTextValue = 'TEST TRANSCRIPT AGENT SUPER CLIENT';
				tokenizationResults.add(oneFieldRecSupBody);
				
				DpaaSSoapWebService.Field oneFieldRecIssue = new DpaaSSoapWebService.Field();          
				oneFieldRecIssue = new DpaaSSoapWebService.Field();
				oneFieldRecIssue.applicationName = 'SFDC';
				oneFieldRecIssue.fieldName = 'Issue__c';
				oneFieldRecIssue.entityName = 'Humana_Chat_Transcript__c';
				oneFieldRecIssue.clearTextValue = 'TEST CDATA Test Issue';
				oneFieldRecIssue.cipherTextValue = 'TEST CDATA Test Issue';
				tokenizationResults.add(oneFieldRecIssue);
			}
			
            tResponse.tokenizationResult = tokenizationResults;
            // Add response element to the response parameter, as follows:
            response.put('response_x', tResponse);
            system.assert(response != null);
        }
    }
}