<!--
LWC Name        : coachingTableHum.html
Function        : LWC to display records on member details and search results.

Modification Log:
* Developer Name                  Date                         Description
*------------------<------------------------------------------------------------------------------------------------------------
* Jasmeen Shangari               03/09/2021                Original Version
****************************************************************************************************************************-->
<template>
    <template if:false={templateaccordian}>
        <template if:true={loaded}>
            <lightning-layout class="slds-var-m-left_medium">
                <lightning-layout-item flexibility="grow" size="12">
                    <div>
                        <slot name="title">
                            <div class="results-container-header" if:false={bHideTitle}>
                                <lightning-icon class="slds-m-right_x-small" icon-name="standard:account" size="small">
                                </lightning-icon>
                                <h1 class="slds-text-title_bold" style="font-size: 1em">{title}</h1>&nbsp;
                            </div>
                            <div class="slds-p-top_small" if:true={bHideTitle}></div>
                        </slot>
                        <div class="table-container">
                            <table class="slds-table slds-table_bordered slds-table_cell-buffer results-table">
                                <thead>
                                    <tr class="results-table-header">
                                        <template for:each={columns} for:item="acc88">
                                            <th if:false={acc88.isActionColumn} key={acc88.label} class={acc88.customCss}>{acc88.label}</th>
                                            <th if:true={acc88.isActionColumn} class="results-icon-col"
                                                key={acc88.value}>
                                                {acc88.label}
                                            </th>
                                        </template>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template for:each={tableModal} for:item="tempar1">
                                        <template for:each={tempar1} for:item="acc2" for:index="ind">
                                            <tr key={acc2.value} class={acc2.rowCss}>
                                                <template for:each={acc2} for:item="acc">

                                                    <template if:true={acc.radio}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} data-att={acc.value}
                                                                class="results-icon-col">
                                                                <input data-index={ind} type="radio"
                                                                       checked={acc.checked} data-id-radio={acc.value}
                                                                       data-actionname={acc.actionName}
                                                                       disabled={acc.disabled} name={acc.interaction}
                                                                       value={acc.value} onchange={fetchRecordDetails} />
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.picklist}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.date}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.text}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <td key={acc.value} if:true={acc.isViewAll}
                                                        class="results-table-cell">
                                                        <div>
                                                            <template for:each={acc.filteredList} for:item="itemValue">
                                                                <p key={itemValue}>{itemValue}</p>
                                                            </template>
                                                            <c-coach-tooltip-hum if:true={acc.showViewAll}
                                                                                 link-type="true" link-text="View All"
                                                                                 help-text={acc.actualList}></c-coach-tooltip-hum>
                                                        </div>
                                                    </td>
                                                    <template if:true={acc.compoundx}>
                                                        <template if:false={acc.iconcompoundx}>
                                                            <td key={acc.value} class={acc.customCss}>
                                                                <c-coaching-compound-table-hum json-record-data={tableData}
                                                                                               nameofscreen={nameOfScreen}
                                                                                               compoundvaluex={acc.compoundvalue}>
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.isCheckbox}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-icon-col">
                                                                <lightning-input if:true={acc.isLink} type="checkbox" data-id={acc.value}
                                                                                 onchange={oncheckboxcheck} checked></lightning-input>
                                                                <lightning-input if:false={acc.isLink} type="checkbox" data-id={acc.value}
                                                                                 onchange={oncheckboxcheck}></lightning-input>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.icon}>
                                                        <template if:true={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                               iconproperty={acc.iconprop} iconval={acc.value}
                                                                                               class="slds-size_full">
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.icon}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <c-coaching-compound-table-hum iconval={acc.value}
                                                                                               iconproperty={acc.value} class="slds-size_full">
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.button}>
                                                        <td key={acc.value} class="results-table-cell">
                                                            <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                           class="slds-size_full"></c-coaching-compound-table-hum>
                                                        </td>
                                                    </template>
                                                </template>
                                            </tr>
                                        </template>
                                    </template>
                                    <tr if:true={noDataAvailable}>
                                        <td>
                                            <c-coach-search-no-result-hum no-result-message={noDataMessage}>
                                            </c-coach-search-no-result-hum>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </lightning-layout-item>
            </lightning-layout>
            <template if:false={noDataAvailable}>
                <div if:true={enableViewAll} class="slds-p-left_small">
                    <button class="slds-button slds-button_stretch slds-button_neutral">{labels.HUMViewAll}</button>
                </div>
            </template>
        </template>
    </template>

    <template if:true={templateaccordian}>
        <template if:true={loaded}>
            <lightning-layout class="slds-var-m-left_medium slds-p-top_small">
                <lightning-layout-item flexibility="grow" size="12">
                    <div>
                        <div class="results-container-header" if:false={bHideTitle}>
                            <lightning-icon class="slds-m-right_x-small" icon-name="standard:account" size="small">
                            </lightning-icon>
                            <h1 class="slds-text-title_bold" style="font-size: 1em">{title}</h1>&nbsp;
                            <c-coach-tooltip-hum if:true={resultsHelpText} help-text={resultsHelpText}>
                            </c-coach-tooltip-hum>
                        </div>
                        <div class="table-container">
                            <table class="slds-table slds-table_bordered slds-table_cell-buffer results-table">
                                <thead>
                                    <tr class="results-table-header">
                                        <template for:each={columns} for:item="acc88">
                                            <th if:false={acc88.isActionColumn} key={acc88.label}>
                                                {acc88.label}
                                                <c-coach-tooltip-hum if:true={acc88.headerHelpText}
                                                                     help-text={acc88.headerHelpText}></c-coach-tooltip-hum>
                                            </th>
                                            <th if:true={acc88.isActionColumn} class="results-icon-col"
                                                key={acc88.value}>
                                                {acc88.label}
                                            </th>
                                        </template>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template for:each={arraytranss} for:item="tempar1">
                                        <template for:each={tempar1.celldata} for:item="acc2" for:index="ind">
                                            <tr key={acc2.value}>
                                                <template for:each={acc2} for:item="acc">

                                                    <template if:true={acc.radio}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} data-att={acc.value}
                                                                class="results-icon-col">
                                                                <input data-index={ind} type="radio"
                                                                       checked={acc.checked} data-id-radio={acc.value}
                                                                       data-actionname={acc.actionName}
                                                                       disabled={acc.disabled} name={acc.interaction}
                                                                       value={acc.value} onchange={fetchRecordDetails} />
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <td key={acc.value} class="results-icon-col" if:true={acc.emptycell}>
                                                        <template if:true={acc.accordian}>
                                                            <template if:true={tempar1.expand}>
                                                                <lightning-button-icon data-att={acc.value} data-actionname="utility:jump_to_bottom" icon-name="utility:jump_to_bottom" size="small" onclick={expandrow} class="slds-m-left_xx-small"></lightning-button-icon>
                                                            </template>
                                                            <template if:false={tempar1.expand}>
                                                                <lightning-button-icon data-att={acc.value} data-actionname="utility:jump_to_right" icon-name="utility:jump_to_right" size="small" onclick={expandrow} class="slds-m-left_xx-small"></lightning-button-icon>
                                                            </template>
                                                        </template>
                                                    </td>

                                                    <template if:true={acc.picklist}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.date}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.text}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                {acc.value}
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <td key={acc.value} if:true={acc.isViewAll}
                                                        class="results-table-cell">
                                                        <div>
                                                            <template for:each={acc.filteredList} for:item="itemValue">
                                                                <p key={itemValue}>{itemValue}</p>
                                                            </template>
                                                            <c-coach-tooltip-hum if:true={acc.showViewAll}
                                                                                 link-type="true" link-text="View All"
                                                                                 help-text={acc.actualList}></c-coach-tooltip-hum>
                                                        </div>
                                                    </td>
                                                    <template if:true={acc.compoundx}>
                                                        <template if:false={acc.iconcompoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <c-coaching-compound-table-hum json-record-data={tableData}
                                                                                               nameofscreen={nameOfScreen}
                                                                                               compoundvaluex={acc.compoundvalue}>
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.isCheckbox}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <lightning-input type="checkbox" data-id="checkbox"
                                                                                 onchange={oncheckboxcheck} disabled={acc.disabled}></lightning-input>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.isDisabledCheckbox}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <lightning-input type="checkbox" data-id="checkbox"
                                                                                 disabled></lightning-input>
                                                            </td>
                                                        </template>
                                                    </template>


                                                    <template if:true={acc.icon}>
                                                        <template if:true={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                               iconproperty={acc.iconprop} iconval={acc.value}
                                                                                               class="slds-size_full">
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>

                                                    <template if:true={acc.icon}>
                                                        <template if:false={acc.compoundx}>
                                                            <td key={acc.value} class="results-table-cell">
                                                                <c-coaching-compound-table-hum iconval={acc.value}
                                                                                               iconproperty={acc.value} class="slds-size_full">
                                                                </c-coaching-compound-table-hum>
                                                            </td>
                                                        </template>
                                                    </template>
                                                    <template if:true={acc.button}>
                                                        <td key={acc.value} class="results-table-cell">
                                                            <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                           class="slds-size_full"></c-coaching-compound-table-hum>
                                                        </td>
                                                    </template>
                                                </template>
                                            </tr>
                                            <tr key={acc2.value}>
                                                <template if:true={showhideaccordian}>
                                                    <template if:true={tempar1.expand}>
                                                        <div key={acc2.value} class="inner-table-width">

                                                            <div class="table-container">
                                                                <table class="slds-table slds-table_bordered slds-table_cell-buffer results-table table-expand">
                                                                    <thead>
                                                                        <tr class="results-table-header">
                                                                            <th class="results-icon-col"></th>
                                                                            <template for:each={childcolumns}
                                                                                      for:item="acc88">
                                                                                <th if:false={acc88.isActionColumn}
                                                                                    key={acc88.label}>
                                                                                    {acc88.label}
                                                                                </th>
                                                                                <th if:true={acc88.isActionColumn}
                                                                                    class="results-icon-col"
                                                                                    key={acc88.value}>
                                                                                    {acc88.label}
                                                                                </th>
                                                                            </template>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <template for:each={tablechildModal}
                                                                                  for:item="tempar1">
                                                                            <template for:each={tempar1} for:item="acc2"
                                                                                      for:index="ind">
                                                                                <tr key={acc2.value}>
                                                                                    <td class="results-icon-col"></td>
                                                                                    <template for:each={acc2}
                                                                                              for:item="acc">

                                                                                        <template if:true={acc.radio}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    data-att={acc.value}
                                                                                                    class="results-icon-col">
                                                                                                    <input data-index={ind}
                                                                                                           type="radio"
                                                                                                           checked={acc.checked}
                                                                                                           data-id-radio={acc.value}
                                                                                                           data-actionname={acc.actionName}
                                                                                                           disabled={acc.disabled}
                                                                                                           name={acc.interaction}
                                                                                                           value={acc.value}
                                                                                                           onchange={fetchRecordDetails} />
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>

                                                                                        <template if:true={acc.picklist}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    {acc.value}
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>
                                                                                        <template if:true={acc.date}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    {acc.value}
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>
                                                                                        <template if:true={acc.text}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    {acc.value}
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>
                                                                                        <td key={acc.value}
                                                                                            if:true={acc.isViewAll}
                                                                                            class="results-table-cell">
                                                                                            <div>
                                                                                                <template for:each={acc.filteredList}
                                                                                                          for:item="itemValue">
                                                                                                    <p key={itemValue}>
                                                                                                        {itemValue}
                                                                                                    </p>
                                                                                                </template>
                                                                                                <c-coach-tooltip-hum if:true={acc.showViewAll}
                                                                                                                     link-type="true"
                                                                                                                     link-text="View All"
                                                                                                                     help-text={acc.actualList}>
                                                                                                </c-coach-tooltip-hum>
                                                                                            </div>
                                                                                        </td>
                                                                                        <template if:true={acc.compoundx}>
                                                                                            <template if:false={acc.iconcompoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    <c-coaching-compound-table-hum json-record-data={tableData}
                                                                                                                                   compoundvaluex={acc.compoundvalue}>
                                                                                                    </c-coaching-compound-table-hum>
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>

                                                                                        <template if:true={acc.isCheckbox}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-icon-col">
                                                                                                    <lightning-input type="checkbox"
                                                                                                                     data-id="checkbox"
                                                                                                                     onchange={oncheckboxcheck}>
                                                                                                    </lightning-input>
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>

                                                                                        <template if:true={acc.icon}>
                                                                                            <template if:true={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                                                                   iconproperty={acc.iconprop}
                                                                                                                                   iconval={acc.value}
                                                                                                                                   class="slds-size_full">
                                                                                                    </c-coaching-compound-table-hum>
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>

                                                                                        <template if:true={acc.icon}>
                                                                                            <template if:false={acc.compoundx}>
                                                                                                <td key={acc.value}
                                                                                                    class="results-table-cell">
                                                                                                    <c-coaching-compound-table-hum iconval={acc.value}
                                                                                                                                   iconproperty={acc.value}
                                                                                                                                   class="slds-size_full">
                                                                                                    </c-coaching-compound-table-hum>
                                                                                                </td>
                                                                                            </template>
                                                                                        </template>
                                                                                        <template if:true={acc.button}>
                                                                                            <td key={acc.value}
                                                                                                class="results-table-cell">
                                                                                                <c-coaching-compound-table-hum compoundvalue={acc.compoundvalue}
                                                                                                                               class="slds-size_full">
                                                                                                </c-coaching-compound-table-hum>
                                                                                            </td>
                                                                                        </template>
                                                                                    </template>
                                                                                </tr>
                                                                            </template>
                                                                        </template>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </template>
                                                </template>
                                            </tr>
                                        </template>
                                    </template>
                                    <template if:true={noDataAvailable}>
                                        <tr>
                                            <td>
                                                <c-coach-search-no-result-hum no-result-message={noDataMessage}>
                                                </c-coach-search-no-result-hum>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </lightning-layout-item>
            </lightning-layout>
            <template if:false={noDataAvailable}>
                <div if:true={enableViewAll} class="slds-p-left_small">
                    <button class="slds-button slds-button_stretch slds-button_neutral">{labels.HUMViewAll}</button>
                </div>
            </template>
        </template>
    </template>
</template>