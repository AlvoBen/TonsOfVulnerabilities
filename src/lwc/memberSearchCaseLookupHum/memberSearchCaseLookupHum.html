<!--*****************************************************************************************************************************
LWC Name : memberSearchCaseLookupHum.html
Function    : This LWC component is used to search for members in case edit page

Modification Log: 
Developer Name           Code Review              Date                       Description
*--------------------------------------------------------------------------------------------------------------------------------
* Santhi Mandava                                  11/05/2023                   Member Search popup initial version
*******************************************************************************************************************************-->
<template>
	<div style="width: 100% !important;" class="slds-grid slds-m-top_none slds-wrap">
		<div class="slds-col slds-size_3-of-12 hc-standard-table-border">
			<div class="slds-var-p-around_x-small slds-theme_default">
				<div class="form-header">
				<lightning-layout>
				<lightning-layout-item>
					<lightning-icon icon-name="standard:search" size="small"></lightning-icon>
				</lightning-layout-item>
			<lightning-layout-item>
				<h1 class="slds-var-p-left_x-small slds-var-p-right_xx-small">{labels.HumMemberSearch}</h1>
			</lightning-layout-item>	
			<lightning-layout-item>
				<c-custom-tooltip-hum help-text={labels.MemberSearchHelpText}></c-custom-tooltip-hum>	
			</lightning-layout-item></lightning-layout>
				</div>
					<div class="slds-grid slds-wrap">
						<div class="slds-col slds-size_1-of-1">
							<span>
								<lightning-input class="inputfield IDHighlight" data-fieldname="ID" type="text"
									name="ID" label="ID" maxlength="17" data-id="sMemberid" value={sMemberid}
									onchange={onFieldChange} onkeyup={enterSeach} field-level-help="The ID field can search Humana ID Number, Social Security Number, Medicare ID, and CBIS Alt ID"
									onfocus={removeError}>
								</lightning-input>
							</span>
						</div>
					</div>
				<label class="slds-form-element__label slds-no-flex">First Name</label>
				<lightning-input class="NameHighlight inputfield firstName" type="text" name="firstName"
					label="First Name" value={sFirstName} max-length="25" data-id="sFirstName" onchange={onFieldChange}
					onfocus={highlightFields} onblur={removehighlight} variant="label-hidden" onkeyup={enterSeach}>
				</lightning-input>
				<label class="slds-form-element__label slds-no-flex">Last Name</label>
				<lightning-input class="NameHighlight inputfield lastName" type="text" name="lastName" label="Last Name"
					value={sLastName} max-length="25" data-id="sLastName" onchange={onFieldChange} onfocus={highlightFields}
					onblur={removehighlight} variant="label-hidden" onkeyup={enterSeach}></lightning-input>
				<lightning-input data-id="sBirthdate" class="inputfield birthdate-input" type="text" value={sBirthdate}
					onkeyup={formatDateOnKeyUp} name="birthdate" date-style="short" max={today}
					label="Birthdate" onchange={onFieldChange} message-when-range-overflow={labels.memberSearchBirthdateLimit} max-length="10"
					onblur={onDateFieldBlur} onfocus={highlightFields}>
				</lightning-input>
				<div class="slds-grid slds-gutters">
					<div class="slds-col slds-size_1-of-2">
						<c-generic-drop-down-hum options={stateOptions} value={sState} placeholder={labels.HUMSelectLabel}
							onfocus={highlightFields} onselect={stateSelectionHandler} onclear={clearStateHandler}
							onblur={highlightByFieldValue} label="State" has-selection={stateValue} is-valid={showValidationMsg}>
						</c-generic-drop-down-hum>

					</div>
					<div class="slds-col slds-size_1-of-2">
						<lightning-input class="inputfield zipcode-field" type="text" name="zipCode" label="Zip Code"
							value={sPostalCode} maxlength="5" onfocus={highlightFields} onchange={highlightByZipCode}
							onblur={highlightByFieldValue}>
						</lightning-input>
					</div>
                    </div>
					<div if:true={showValidationMsg} class="slds-col">
						<div class="slds-text-color_error message-container">
							<span>{labels.memberSearchCriteriaHum}</span>
						</div>
					</div>
					<div if:true={showMedicareValidationMsg} class="slds-col">
						<div class="slds-text-color_error message-container">
							<span>{labels.HUMMedicareErrorStateSearch}</span>
						</div>
					</div>
				<div class="slds-clearfix slds-p-top_large">
					<div class="slds-grid slds-grid_vertical">
						<div class="slds-col">
							<div class="slds-grid slds-wrap">
								<div class="slds-col">
									<button class="slds-button slds-button_stretch slds-button_neutral"
										onclick={handleReset}>{labels.HUMResetButtonLabel}</button>
								</div>
								<div class="slds-col slds-p-left_small">
									<button class="slds-button slds-button_stretch slds-button_brand"
										onclick={handleValidation}>{labels.HUMSearchButton}</button>
								</div>
							</div>
						</div>
						<div if:true={showErrorMsg} class="slds-col">
							<div class="slds-text-color_error message-container" id="error">
								{labels.memberSearchAtleastOneHum}</div>
						</div>
						<div class="slds-col ">
							<div class="slds-p-top_x-large">
								<button class="slds-button slds-button_stretch slds-button_neutral"
									onclick={handleUnknownSearch}>{labels.HUMLaunchGCPCCP_UnknownMember}</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="slds-col slds-size_9-of-12" if:true={showNoDataView}>
			<div class="slds-var-m-horizontal_medium slds-theme_default">
				<c-search-no-result-hum no-result-message={labels.HUMMedicareSearchCriteriaViolation} message-with-icon="true"></c-search-no-result-hum>
			</div>
		</div>
		<div class="slds-col slds-size_9-of-12 container-sticky">
			<template if:true={resultsTrue}>
				<div class={containerCss}>
					<c-standard-table-component-hum if:true={hasData} templatemodal={hpColumnLayout} data-id="member-search"
						name-of-screen="Case Member Search" response={accountList}  oninteractions={handleInteraction} onlinkclick={onHyperLickClick}
						default-header-icon="standard:outcome" variant-type={labels.HUM_Toast_warning} 
						display-msg={labels.Hum_Custom_toastmsg_warning} maximum-record-length={labels.HUM_response_length}>
					</c-standard-table-component-hum>
				</div>
			</template>
		</div>
	</div>
</template>