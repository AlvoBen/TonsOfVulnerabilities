<!--
Component Name   : crm_retail_task_account_information_LWC_HUM
Version          : 1.0
Created On       : 10/11/2022
Function         : Lightning Web Component to show account information section on task details page 

Modification Log: 
* Developer Name           Code Review                 Date                         Description
*********************************************************************************************************************************************************************
* Vinoth L                                             10/11/2022            User Story 3759560: T1PRJ0154546 / SF / MF4 Storefront: Add Account Information on Tasks
*********************************************************************************************************************************************************************
-->
<template>
    <template if:true={switchValue}>
        <lightning-card class="marginAdjust">
            <lightning-accordion allow-multiple-sections-open active-section-name={activeSectionMessage} class="accordionStyling">
                <lightning-accordion-section name={accInfoTitle} label={accInfoTitle}>
                    <template if:true={errorCaught}>
                        <div class="errorStyling">{taskFetchError}</div>
                    </template>
                    <template if:false={errorCaught}>
                        <div class="adjustContentSpacing">
                            <div class="slds-grid slds-gutters_small full cols-2 desc slds-m-around_medium" >
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow adjustRowWidth">
                                        <div class="titleSpacing">{accountNameLabel}</div>
                                        <lightning-formatted-url class="valueSpacing" value={nameURL} tooltip={name} label={name} target="_blank" ></lightning-formatted-url>
                                    </div>
                                </div>
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow columnWidthAdjust">
                                        <div class="titleSpacing">{homeEmailLabel}</div>
                                            <lightning-formatted-email class="valueSpacing" value={personEmail} ></lightning-formatted-email>
                                        </div>
                                </div>
                            </div>
                            <div class="slds-grid slds-gutters_small full cols-2 desc slds-m-around_medium marginAdjust">
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow adjustRowWidth">
                                        <div class="titleSpacing">{birthdateLabel}</div>
                                            <lightning-formatted-text class="valueSpacing" value={birthdate}></lightning-formatted-text>
                                        </div>
                                </div>
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <template if:true = {isMember}>
                                        <div class="slds-form-element slds-form-element_readonly slds-grow columnWidthAdjust">
                                            <div class="titleSpacing">{memberLabel}</div>
                                            <lightning-button-icon class = "memberBtnIcon" alternative-text={membershipStatus} icon-name={memberIcon} variant="bare"></lightning-button-icon>
                                        </div>
                                    </template>
                                </div>
                            </div>
                            <div class="slds-grid slds-gutters_small full cols-2 desc slds-m-around_medium marginAdjust" >
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow adjustRowWidth">
                                        <div class="titleSpacing">{homePhoneLabel}</div>
                                            <lightning-formatted-phone class="valueSpacing" value={personHomePhone}></lightning-formatted-phone>
                                        </div>
                                </div>
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <template if:true = {isMember}>
                                        <div class="slds-form-element slds-form-element_readonly slds-grow columnWidthAdjust">
                                            <div class="titleSpacing">{deceasedLabel}</div>                                                    
                                            <template if:true = {isdeceasedDatePresent}>
                                                <lightning-button-icon class = "deceasedBtnIcon" icon-name={deceasedDate} variant="bare"></lightning-button-icon>
                                            </template> 
                                        </div>
                                    </template>
                                </div>
                            </div>
                            <div class="slds-grid slds-gutters_small full cols-2 desc slds-m-around_medium marginAdjust" >
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow adjustRowWidth">
                                        <div class="titleSpacing">{addressLabel}</div>
                                            <div class="valueSpacing"><lightning-formatted-address
                                                street={personMailingStreet}
                                                city={personMailingCity}
                                                state={personMailingState}
                                                postal-code={personMailingPostalCode}
                                                country={personMailingCountry}
                                            ></lightning-formatted-address></div>
                                    </div>
                                </div>
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <template if:true = {isMember}>
                                        <div class="slds-form-element slds-form-element_readonly slds-grow columnWidthAdjust">
                                            <div class="titleSpacing">{visitorIdLabel}</div>
                                            <lightning-formatted-text class="valueSpacing" value={visitorId}></lightning-formatted-text>
                                        </div>
                                    </template>
                                </div>
                            </div>
                            <div class="slds-grid slds-gutters_small cols-2 desc slds-m-around_medium marginAdjust" >
                                <div class="slds-col slds-grid slds-has-flexi-truncate">
                                    <div class="slds-form-element slds-form-element_readonly slds-grow adjustRowWidth">
                                        <div class="titleSpacing">{genderLabel}</div>
                                            <lightning-formatted-text class="valueSpacing" value={gender}></lightning-formatted-text>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <template if:true={isSpinnerVisible}>
                        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>                        
                    </template>  
                </lightning-accordion-section>
            </lightning-accordion>
        </lightning-card>
    </template>
</template>