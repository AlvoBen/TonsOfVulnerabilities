<!--
Function        : LWC to display Eligibility section on Policy details pages.

Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Supriya Shastri               06/21/2021                  US: 2081552, 2364647 Member Plan Eligibility
* Supriya Shastri               09/07/2021                  US: 2483754 Table Formatting Updates
* Ankima Srivastaba             09/08/2021                  US: 2160875 Cost Share Field Implementation
* Ankima Srivastava             09/13/2021                  US: 2160875 Cost Share Field Implementation Rollback
* Ankima Srivastava             09/20/2021                  US: 2160875 Cost Share Field Implementation Re-Deploy
* Supriya                       09/24/2021                  US -2585803
* Ankima Srivastava             09/20/2021                  US: 2507939 Eligibility By Product Type
* Supriya Shastri				03/16/2021				    US-1985154
* Vardhman Jain                 09/02/2022                  US: 3043287 Member Plan Logging stories Changes.
****************************************************************************************************************************-->
<template>
    <lightning-card class="hc-standard-table-styles card-styles slds-card" if:true={loadEligibility}>
        <h3 slot="title">
            <lightning-icon icon-name="standard:work_plan_template_entry" size="small"></lightning-icon>
            <span class="slds-p-left_x-small">{labels.eligibilityHum}</span>
        </h3>
        <div class="slds-wrap slds-p-left_medium slds-p-right_xx-large slds-m-right_xx-large">
            <div class="slds-var-m-left_medium slds-var-p-around_small slds-card__body slds-card__body_inner slds-theme_default no-EligibilityResult" if:true={noEligibilityData}>
                <span>{labels.noEligibilityInfoHum}</span>
            </div>
            <div if:false={noEligibilityData}>
                <div class="slds-p-vertical_small" if:true={showContractSection}  onclick={handleLogging}>
                    <lightning-button-icon data-att={labels.contractInfoHum} icon-name={accordionIcon} size="small"
                        onclick={expandSection}></lightning-button-icon>
                    <span class="slds-text-title_bold title-padding">{labels.contractInfoHum}</span>
                    <lightning-layout if:true={showContractFields} class="section-padding">
                        <lightning-layout-item size="4" padding="vertical-small" if:true={showContractId}>
                        <span class="logthis" data-id={labels.HUMContractId}><span data-secname={labels.contractInfoHum} class="slds-text-title_bold">{labels.HUMContractId}: </span><span data-value={labels.HUMContractId}>{contractId}</span></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="4" padding="vertical-small" if:true={showPBPCode}>
                        <span class="logthis" data-id={labels.pbpCodeHum}><span data-secname={labels.contractInfoHum} class="slds-text-title_bold">{labels.pbpCodeHum}: </span><span data-value={labels.pbpCodeHum}>{pbpcode}</span></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="4" padding="vertical-small" if:true={showSegmentId}>
                            <span class="logthis" data-id={labels.HUMSegmentCode}><span data-secname={labels.contractInfoHum} class="slds-text-title_bold">{labels.HUMSegmentCode}: </span><span data-value={labels.HUMSegmentCode}>{segmentId}</span></span>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

                <template for:each={formData} for:item="fields">
                    <div class="slds-p-vertical_small" key={fields} onclick={handleLogging}>
                        <lightning-button-icon if:true={fields.collapsible} data-att={fields.title}
                            icon-name={fields.dropIcon} size="small" onclick={expandSection}>
                        </lightning-button-icon>
						<span>
                        <span if:false={fields.collapsible} class="title-padding"></span>
                        <span>
                        <span data-id={fields.title} data-secname={fields.title} data-value={fields.eligibility} class="logthis slds-text-title_bold title-padding">{fields.title}: </span>
                        <span if:false={fields.isLink} data-value={fields.title} class="slds-text-title_bold">{fields.eligibility}</span>
                        
                        <a if:true={fields.isLink} data-link={fields.title} data-val={fields.eligibility}
                            class="slds-text-title_bold " data-value={fields.title} onclick={openLink}>{fields.eligibility}</a>
                        </span>
						</span>
                        <lightning-helptext if:true={fields.lishelp}
                            content="This information is as of today's date. For any previous history, please review CI Legacy"
                            class="start-help-text custom-help ">
                        </lightning-helptext>

                        <template if:false={fields.hidden}>
                            <template if:true={fields.isSnp}>
                            <div class="section-inner slds-grid slds-wrap section-padding slds-grid_vertical-align-center"
                            style="justify-content: space-between">                       
									<span class="logthis" data-secname={fields.title} data-value={snpFields.value} data-id={snpFields.label}><span data-secname={fields.title} class="slds-text-title_bold">{snpFields.label}: </span>{snpFields.value}
                                        <lightning-helptext if:true={showTypehelp} content={typeLabel} class="start-help-text custom-help ">
                                        </lightning-helptext>
                                    </span> 
                            </div>
                        </template>
                                <lightning-layout class="section-padding">
                                <template if:true={fields.isLIS} for:each={oModal} for:item="fl">
                                    <lightning-layout-item class="slds-col" padding="vertical-small" key={fl}>	
                                        <span class="logthis" data-id={fl.label}><span data-secname={fields.title} class="slds-text-title_bold">{fl.label}: </span><span  data-value={fl.label}>{fl.value}</span></span>
										<span if:true={fl.copyToClipBoard}>
											<c-custom-tooltip-hum
                                                class="slds-show_inline-block slds-is-relative"
                                                onclick={copyToBoard} data-val={fl.value}
                                                icon-type=true help-text={labels.HUM_Copy_Clipboard} 
                                                align="top"></c-custom-tooltip-hum>
                                        </span>
                                    </lightning-layout-item>
                                </template>
                                </lightning-layout>                      
                        </template>
                    </div>
                </template>
                <template if:true={showCostShare}>
                    <div onclick={handleLogging} class="section-inner slds-grid slds-wrap section-padding slds-grid_vertical-align-center custom-spacing">                       

							<span class="logthis" data-value={costShareInfo}  data-id={labels.costShareProtectionHum}><span data-secname={labels.costShareProtectionHum} class="slds-text-title_bold contract-id">{labels.costShareProtectionHum}: </span>{costShareInfo}
                            </span> 							
                    </div>
                </template>
            </div> 
        </div>
    </lightning-card>
</template>