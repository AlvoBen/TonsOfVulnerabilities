<!--*******************************************************************************************************************************
LWC JS Name : TaskHistoryView
Function    : This component is used to show  task history on task page

Modification Log: 
Developer Name           Code Review                      Date                         Description
*--------------------------------------------------------------------------------------------------------------------------------
* Shailesh Bagade                                        22/06/22                       initial version
********************************************************************************************************************************-->

<template>
     <article class="slds-card slds-grid slds-grid--vertical full-container">
        <div class="slds-page-header">
            <header
                class="slds-card__header slds-grid slds-p-right_none slds-media slds-media_center slds-has-flexi-truncate slds-p-around_none">
                <div class="slds-grid slds-grid_vertical-align-center">
                    <div class="slds-media__figure">
                        <lightning-icon icon-name="standard:channel_program_history"></lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">Task History ({taskSize})</h2>
                    </div>
                </div>
            </header>
        </div>
        <div class="slds full-container slds-p-around--x-small slds-is-relative" style="padding-bottom: 0;">
            <template if:true={taskView} for:each={taskView} for:item="tsk" for:index="index">
                <ul key={tsk.Id}>
                    <div class="c-container slds-box">
                        <lightning-layout>
                            <lightning-layout-item size="6" padding="around-small"   >
                                <div class="custom-box slds-text-title_bold">Date</div>
                            </lightning-layout-item>
                            <lightning-layout-item size="6" padding="around-small"  >
                                <div class="custom-box">{tsk.taskCreatedDate}</div>
                            </lightning-layout-item>
                        </lightning-layout>
                        <lightning-layout>
                            <lightning-layout-item size="6" padding="around-small"   >
                                <div class="custom-box slds-text-title_bold">Modified By</div>
                            </lightning-layout-item>
                            <lightning-layout-item size="6" padding="around-small"  >
                                <div class="custom-box">{tsk.taskCreatedBy}</div>
                            </lightning-layout-item>
                        </lightning-layout>
                        <lightning-layout>
                            <lightning-layout-item size="6" padding="around-small"   >
                                <div class="custom-box slds-text-title_bold">Modified By Queue</div>
                            </lightning-layout-item>
                            <lightning-layout-item size="6" padding="around-small"  >
                                <div class="custom-box">{tsk.taskModifiedByQueue}</div>
                            </lightning-layout-item>
                        </lightning-layout>
                        <lightning-layout>
                            <lightning-layout-item size="6" padding="around-small"   >
                                <div class="custom-box slds-text-title_bold">Actions</div>
                            </lightning-layout-item>
                            <lightning-layout-item size="6" padding="around-small"  >
                                <div class="custom-box">{tsk.taskChangeAction}</div>
                            </lightning-layout-item>
                        </lightning-layout>
                    </div>
                    <div class="slds-p-around--xx-small"></div>
                </ul>
            </template>
            <template if:false={loaded}>
                <lightning-spinner alternative-text="Loading"></lightning-spinner>
            </template>
        </div>
        <div class="c-container slds-box">
            <lightning-formatted-url class="slds-align--absolute-center" value="/my/path" label="View All" target="_blank" onclick={handleViewAllURL}></lightning-formatted-url>
        </div>
    </article>     
</template>