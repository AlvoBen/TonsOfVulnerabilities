<!--*****************************************************************************************************************************
LWC Name    : groupSearchFormHum.html
Function    : This component is for the search functionality on Group Search 

Modification Log: 
Developer Name           Code Review                      Date                         Description
*--------------------------------------------------------------------------------------------------------------------------------
*   Ashish Kumar                                  	09/24/2020                	Original Version
*   Supriya Shastri                                 02/24/2021                  Added generic dropdown
* 	Surendra Vemulapalli					               	  06/23/2021			        		US1464387- Creating Unknown Group Account (Health Cloud Lightning App)
* 	Ritik Agarwal					               		      	08/12/2021			        	  US: 2572756
*   Supriya Shastri                                 08/23/2021                  US-2306519 freezing sections
* Supriya Shastri                                   09/06/2021                  Added grey headers to member detail table
*   Mohan Kumar N                                   09/27/2021                  Allignment issues
*   Firoja Begam                                    10/08/2021                  Character Limits - Group Search
*   Firoja Begam                                    10/27/2021                  Group name Validation rule update on selection of state
*   Ajay Chakradhar                			            11/02/2021                  US 2498075 : Search result Validation Rules
* Pavan Kumar M                                     03/03/2022                  US-2659333
******************************************************************************************************************************-->
<template>
  <div class="slds-grid slds-wrap">
    <div class="slds-col slds-size_2-of-12 hc-standard-table-border">
      <div class="slds-var-p-around_x-small slds-theme_default form-format">
        <div class="form-header">
          <lightning-icon icon-name="standard:groups" size="small"></lightning-icon>
          <h1 class="slds-var-p-left_x-small slds-var-p-right_xx-small">Group Search</h1>
          <c-custom-tooltip-hum help-text={labels.Hum_groupSearchHelpText}></c-custom-tooltip-hum>
        </div>
        <lightning-input class="inputfield inputGroupNumber NameHighlight" type="text" name="groupNumber"
          label="Group Number" value={sGroupNumber} onchange={inputChangeHandler} onkeyup={enterSeach} maxlength="13">
        </lightning-input>
        <lightning-input class="inputfield NameHighlight GroupNameHighlight" type="text" name="groupName" value={sGroupName}
        onblur={removeGrouphighlight} onchange={inputChangeHandler} onkeyup={enterSeach} label="Group Name" max-length="105"></lightning-input>

        <div class="slds-col">
          <c-generic-drop-down-hum class="generic-dropdown-container" options={options} value={sState}
                placeholder={labels.dropdownPlaceholderHum} label="State" onselect={stateSelectionHandler} onclear={clearStateHandler}
                has-selection={stateValue} is-valid={showValidation}>
          </c-generic-drop-down-hum>
        </div>
        <div if:true={showValidation} class="slds-col">
          <div class="slds-text-color_error message-container test-class">
            <span>{labels.groupSearchNumberCriteriaHum}</span>
          </div>
        </div>

        <div class="slds-clearfix slds-p-top_large">
          <div class="slds-grid slds-grid_vertical">
            <div class="slds-col">
              <div class="slds-grid slds-wrap">
                <div class="slds-col">
                  <button class="slds-button slds-button_stretch slds-button_neutral" onclick={handleReset}>
                    Reset
                  </button>
                </div>
                <div class="slds-col slds-var-p-left_small">
                  <button class="slds-button slds-button_stretch slds-button_brand" onclick={handleSearch}
                    name="btnSearch">
                    Search
                  </button>
                </div>
              </div>
            </div>
            <div class="slds-col">
              <div class="slds-text-color_error message-container test-class" id="error">
                <span>{errorMessage}</span>
              </div>
            </div>
            <div class="slds-col">
              <div class="slds-p-top_x-large">
                <button class="slds-button slds-button_stretch slds-button_neutral"
                  onclick={handleSearch} name="unknownSearch">
                  {labels.HUMGroupSearchInternalButton}
                </button>
              </div>
            </div>
            <div class="slds-col">
              <div class="slds-var-p-top_small">
                <button class="slds-button slds-button_stretch slds-button_neutral"
                onclick={handleCreate} name="btnCreate">
                  {labels.HUMGroupSearchUnknownGroupButton}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="slds-col slds-size_10-of-12 container-sticky">
      <template if:true={noResults}>
        <div class="slds-var-m-horizontal_medium slds-theme_default">
          <c-search-no-result-hum no-result-message={noresultmsg} message-with-icon="true"></c-search-no-result-hum>
        </div>
      </template>
      <template if:true={resultsTrue}>
        <div class={containerCss}>
           <c-standard-table-component-hum name-of-screen="Group Search" oninteractions={handleInteraction}
            response={accList} onlinkclick={hyperLinkClick} default-header-icon="standard:outcome" variant-type={labels.HUM_Toast_warning} 
            display-msg={labels.Hum_Custom_toastmsg_warning} maximum-record-length={labels.HUM_response_length}></c-standard-table-component-hum>
        </div>
      </template>
      <div if:true={showBackToResult} class="slds-var-p-left_small">
        <div class="hc-backtoresults-container">
          <a class="backResults" onclick={backToResults}>{labels.backToResultsHum}</a>
        </div>
      </div>
      <div class="slds-var-p-top_medium slds-m-left_small" style="background-color: #ECECEC;">
        <template if:true={policylist}>
          <c-standard-table-component-hum name-of-screen="grouppolicies" response={policylist} title={labels.Group_Plans}
            result-class="policyrow" data-id='group-plan' is-overflow default-header-icon="custom:custom60"></c-standard-table-component-hum>
        </template>
      </div>
      <template if:true={noPolicyResults}>
        <div class="slds-m-left_small slds-var-p-top_medium" style="background-color: #ECECEC;">
          <c-search-no-result-hum no-result-message="No Policies Found For Selected Record" message-with-icon="true"></c-search-no-result-hum>
        </div>
      </template>
    </div>
  </div>
  <c-create-unknown-group-hum onunknowgroupevent={handleunknowgpevent}></c-create-unknown-group-hum>

</template>