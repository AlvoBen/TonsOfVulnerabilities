<!--
/******************************************************************************************************************
LWC Name           : pharmacyRxAccessBenefitsLWC.html
Version            : 1.0
Created Date     : May 6, 2021
Function         : This Component is to display service repsosne from KM document service. to display documents on the screen
*******************************************************************************************************************
Modification Log:
* Developer Name          Code Review #         Date                       Description
*------------------------------------------------------------------------------------------------------------
* Suraj Patil     				               05/06/2021                 REQ - 1003582 - 1011772 - 1694036
*******************************************************************************************************************/
-->

<template>
    <div class="slds-builder-header_container slds-builder-header" style="width:1260px;height:51px;">
        <div class="slds-builder-header__item">
            <div class="slds-builder-header__item-label slds-media slds-media_center">
                <div class="slds-media__figure">
                    <span class="slds-icon_container slds-icon-utility-builder slds-current-color">
                        <lightning-icon class="slds-media__body" icon-name="utility:work_order_type">
                        </lightning-icon>
                    </span>
                </div>
               <div class="slds-media__body">Benefit Grid: Search Results
                    <div class="slds-media__body">
                        <span>
                            {PolicyMemberNameVar}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
	<div style="width:1260px;">
    <lightning-card title="">
        <template if:true={isLoaded}>
            <!-- Disply Error Message  START -->
            <template if:true={displayErrorMessage}>
                <br />
                <div class="slds-notify_container slds-is-relative" style="margin-left:-10%">
                    <div class="slds-notify slds-notify_toast slds-theme_error" role="status">
                        <span class="slds-assistive-text">error</span>
                        <div class="slds-notify__content">
                            <h2 class="slds-text-heading_small ">An error occurred retrieving Mentor Documents for this
                                Member. Please try again. If this error continues, contact Help Desk.</h2>
                        </div>
                    </div>
                </div>
                <lightning-formatted-url 
                    style="margin-left: 2%;" 
                    value={NoResultsURL} 
                    label={NoResultsLabel}
                    target="_blank">
                </lightning-formatted-url>
            </template>
            <!-- Disply Error Message  END -->

            <div class="slds-m-around_small">
                <template if:true={resultsVar} for:each={totalResults} for:item="data">
                    <ul key={data.FileName} class="slds-m-left_small slds-m-around_x-small">
                        <lightning-formatted-url 
                            value={data.FileUrl} 
                            label={data.FileName} 
                            target="_blank">
                        </lightning-formatted-url>
                    </ul>
                </template>

                <!-- Disply No Record info Message  START -->
                <template if:true={noResultsVar}>                    
                    <h3>No records to display</h3>
                    <div class="slds-text-color_destructive">
                        <lightning-formatted-url 
                            value={NoResultsURL} 
                            label={NoResultsLabel} 
                            target="_blank">
                        </lightning-formatted-url>
                    </div>                   
                </template>
                <!-- Disply No Record info Message  END -->
            </div>

            <!-- PageLength and Pagination  START -->
            <template if:true={resultsVar}>                
               <!-- PageLength and Pagination  START -->
    <lightning-layout style="padding-top: 5px;" horizontal-align="spread">
        <lightning-layout-item size="1" style="padding-top: 10px; margin-left:20px; width:40px;">
            Show
        </lightning-layout-item>
        <lightning-layout-item size="1" style=" width:120px">
            <lightning-combobox data-id="comboboxDataId" class="combox" name="Number of Records" label=""
                value={recordsPerPage} placeholder={recordsPerPage} options={comboBoxOption}
                onchange={handleComboBoxChange} dropdown-alignment="auto" style="width:120px;">
            </lightning-combobox>
        </lightning-layout-item>
        <lightning-layout-item size="8" style="padding-top: 10px; margin-left:10px; width:750px;">
            Pages
        </lightning-layout-item>
        <lightning-layout-item size="3" style="padding-top: 4px;">
            <div class="slds-align_absolute-center slds_float-right">
                <ul class="slds-button-group-row">
                    <lightning-button label="Previous" variant={changeVariantPrevious} onclick={handlePreviousPage}
                        disabled={isFirstPage}>
                    </lightning-button>
                    <template if:true={isFirstButton}>
                        <lightning-button data-id="firstButtonId" variant={changeVariantFirst} title="first"
                            label={showButtonFirst} onclick={showCurrentPageData}></lightning-button>
                    </template>
                    <template if:true={isSecondButton}>
                        <lightning-button data-id="secondButtonId" variant={changeVariantSecond} title="second"
                            label={showButtonSecond} onclick={showCurrentPageData}></lightning-button>
                    </template>
                    <template if:true={isThirdButton}>
                        <lightning-button data-id="thirdButtonId" variant={changeVariantThird} title="third"
                            label={showButtonThird} onclick={showCurrentPageData}></lightning-button>
                    </template>
                    <lightning-button label="Next" variant={changeVariantNext} onclick={handleNextPage}
                        disabled={isLastPage}>
                    </lightning-button>
                </ul>
            </div>
        </lightning-layout-item>
    </lightning-layout>
    <!-- PageLength and Pagination  END -->             
            </template>
            <!-- PageLength and Pagination  END -->
        </template>

        <!-- Disply Loading Icon  START -->
        <div class="slds-m-around_large">
            <div if:false={isLoaded} class="slds-is-relative">
                <lightning-spinner alternative-text="Loading..." variant="brand">
                </lightning-spinner>
            </div>
        </div>
        <!-- Disply Loading Icon  END -->
    </lightning-card>
	</div>
</template>