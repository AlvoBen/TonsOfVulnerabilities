<!--
LWC Name        : demographicMedicaidAvfComponentLightning.html
Function        : 

Modification Log:
* Developer Name                     Date                         Description
* Muthukumar                         09/08/2022                   US-3279519 update plan demographic
*-->
<template>
  <template if:true={isLoadOverlay}>
    <div class="du-overlay"></div>
  </template>
  <template if:true={isShowModal}>
    <c-modal-component-lightning model-input={popupData} onuspsactiontrigger={handleModalEvent} title={modalTitle}>
    </c-modal-component-lightning>
  </template>

  <template if:true={display}>
    <!-- <div class="slds-theme_shade"> -->
    <!-- <lightning-card title={avfTitle} icon-name="custom:custom63"> -->

    <div class="slds-grid slds-m-top_small slds-m-bottom_small slds-m-left_large 
                    slds-m-right_large">
      <template if:true={isLoading}>
        <lightning-spinner alternative-text="Retrieving Standardization Results" size="large">
        </lightning-spinner>
      </template>
      <!-- <template for:each={flowDataOutput} for:item="data"> -->
      <template for:each={flowDataModel.reactive} for:item="input" key={data.pageNumber}>
        <div key={input.pageNumber} class="slds-m-top_x-small slds-m-bottom_x-small slds-col slds-size_4-of-4">
          <template if:true={input.pageFeatures.summaryMsg}>
              <div class="slds-m-left_medium slds-m-right_medium">
                <c-case-process-display-msg-hum icon-type="utility:warning" help-text-msg="Warning" message={changesCantRevertMSg}></c-case-process-display-msg-hum>
              </div>
              
            </template>
          <template if:false={summaryDataModel.showSummary}>
            <div>
              <div class="slds-p-left_large slds-p-right_large">
                <c-case-process-display-msg-hum message={osaMsg}></c-case-process-display-msg-hum>
              </div>
            </div>
          </template>
          <div class="slds-m-left_medium page-title">
            <div class="slds-text-heading_medium">{input.pageFeatures.title}</div>
          </div>
          <template if:false={summaryDataModel.showSummary}>
            <div>
              <div class="slds-p-left_large slds-p-right_large">
                <c-case-process-display-msg-hum message={reviewCurrentMsg}></c-case-process-display-msg-hum>
              </div>
            </div>
          </template>
          <div class="slds-m-top_x-small slds-m-bottom_x-small">
            <template if:true={summaryDataModel.showSummary}>
              <div class="slds-m-left_medium slds-m-right_medium">
              <template for:each={summaryDataModel.avfModel} for:item="model">
                <template if:true={model.display}>
                <div key={model.order}>
                  <h2 class="slds-panel__header-title slds-text-heading_medium field-title">{model.title}</h2>
                  <br>
                  <div class="slds-p-horizontal_xx-small form-details">
                    <div class="slds-form" role="list">
                      <div class="slds-form__row">
                  <template for:each={model.fields} for:item="sField">
                    <template if:true={sField.display}>
                      <div class="slds-col slds-p-horizontal_small slds-size_1-of-2" role="listitem" key={sField.order}>
                        <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent"
                          style="height: 100%">
                          <span class="slds-grid"><span
                              class="slds-form-element__label field-title"><b>{sField.label}</b></span>
                          </span>
                          <span class="slds-hyphenate slds-form-element__static slds-p-top_xx-small">{sField.value}
                            &nbsp;</span>
                        </div>
                      </div>
                    </template>
                  </template>
                  </div>
                  </div>
                  </div>
                </div>
                </template>
              </template>
             </div>
            </template>

            <template if:false={summaryDataModel.showSummary}>
             
              <div class="slds-p-horizontal_xx-small form-details">
                <div class="slds-form" role="list">
                  <div class="slds-form__row">
                  
                    <template for:each={input.pageFeatures.fields} for:item="field">
                      <div class="slds-col slds-p-horizontal_small slds-size_1-of-2" role="listitem" key={field}>
                        <template if:true={field.display}>
                          <div key={field.order} class="field-div">
                            <div class=" slds-p-left_large slds-p-right_large"></br>
                              <div class="account-editable-label">
                                <lightning-formatted-text value={field.label}>
                                </lightning-formatted-text>
                              </div>
                              <div class="empty-container"></div>
                              <div class="account-editable-value">
                                <template if:true={field.renderLogic.isTextArea}>
                                  <lightning-textarea class="is-required" value={field.value} data-index={field.order}
                                    data-mode="editInput" name="address text area" variant="label-hidden"
                                    message-when-value-missing={field.required.message} required={field.required.value}
                                    onchange={handleFieldChange} max-length={field.maxLength}>
                                  </lightning-textarea>
                                </template>
                                <template if:true={field.renderLogic.isCombo}>
                                  <lightning-combobox data-index={field.order} data-mode="editInput"
                                    name="Address State" value={field.value} options={stateOptions} class="is-required"
                                    variant="label-hidden" required={field.required.value}
                                    message-when-value-missing={field.required.message} onchange={handleFieldChange}>
                                  </lightning-combobox>
                                </template>
                                <template if:true={field.renderLogic.isDate}>
                                  <lightning-input type={field.type} data-index={field.order} date-style="short"
                                    data-mode="editInput" required={field.required.value}
                                    message-when-value-missing={field.required.message} onchange={handleFieldChange}
                                    class="is-required" variant="label-hidden" value={field.value}>
                                  </lightning-input>
                                </template>
                                <template if:true={field.renderLogic.isTel}>
                                  <lightning-input type={field.type} data-index={field.order} data-mode="editInput"
                                    max-length={field.maxLength} placeholder="(XXX) XXX-XXXX"
                                    pattern={field.pattern.value} class="is-required" variant="label-hidden"
                                    required={field.required.value} onchange={handleFieldChange}
                                    message-when-pattern-mismatch={field.pattern.message}
                                    message-when-value-missing={field.required.message} value={field.value}>
                                  </lightning-input>
                                </template>
                                <template if:true={field.renderLogic.isText}>
                                  <lightning-input type={field.type} data-index={field.order} data-mode="editInput"
                                    max-length={field.maxLength} pattern={field.pattern.value}
                                    required={field.required.value} onchange={handleFieldChange}
                                    message-when-pattern-mismatch={field.pattern.message}
                                    message-when-value-missing={field.required.message} class="is-required"
                                    variant="label-hidden" value={field.value}>
                                  </lightning-input>
                                </template>
                                <template if:true={field.renderLogic.isRadioGroup}>
                                  <div class="update-cb-value">
                                    <fieldset class={field.validityResult.class}>
                                      <div class="slds-form-element__control">
                                        <template for:each={field.options} for:item="option">
                                          <span class="slds-radio" key={option.id}>
                                            <input type="radio" id={option.id} value={option.value} name="error"
                                              checked={option.checked} onchange={handleFieldChange}
                                              data-index={field.order} data-label={option.label} data-mode="editInput"
                                              data-valid={field.validityResult.valid} />
                                            <label class="slds-radio__label" for={option.id}>
                                              <span class="slds-radio_faux"></span>
                                              <span class={field.validityResult.labelClass}>{option.label}</span>
                                            </label>
                                          </span>
                                        </template>
                                      </div>
                                    </fieldset>
                                    <span class="invalid-item">{field.validityResult.message}</span>
                                  </div>
                                </template>
                              </div>
                            </div>
                            <template if:true={field.note}>
                              <div class="slds-p-left_large slds-p-right_large" key={field.order}>
                                <c-case-process-display-msg-hum header-message='Note: ' message={field.note}>
                                </c-case-process-display-msg-hum>
                              </div>
                            </template>
                            <template if:true={field.renderButton}>
                              <template for:each={flowButtonDataModel.reactive} for:item="button">
                                <div key={button.order}>
                                  <div class="slds-p-left_large slds-p-right_large">
                                    <lightning-formatted-text class="render-btn-msg" key={button.order}
                                      value="After entering and verifying the address with the caller, click the Verify Address button">
                                    </lightning-formatted-text>
                                    <lightning-button data-id={button.order} data-display={button.displayMode}
                                      data-type={button.identifier.type} data-mode={button.identifier.value}
                                      variant="brand" onclick={handleButtonClick} disabled={button.setDisable}
                                      label={button.label} title={button.title} class={button.class}>
                                    </lightning-button>
                                  </div>
                                </div>
                              </template>
                            </template>
                            <template if:true={field.osaRender}>
                              <template if:true={field.osa.isOSA}>
                                <div class="slds-p-left_large slds-p-right_large" key={field.order}>
                                  <c-case-process-display-msg-hum header-message="Note: " message={field.osa.message}></c-case-process-display-msg-hum>
                                </div>
                              </template>
                            </template>
                            </div>
                        </template>
                      </div>
                    </template>
                  </div>
                </div>
              </div>
            </template>
          </div>

          <div class="btn-div slds-p-right_large">
            <template for:each={input.pageFeatures.buttons} for:item="button">
              <div key={button.order}>
                <template if:true={button.setDisable}>
                  <lightning-button data-id={button.order} data-type={button.identifier.type}
                    data-mode={button.identifier.value} variant="brand" onclick={handleButtonClick}
                    disabled={isFormInvalid} label={button.label} title={button.title} class={button.class}>
                  </lightning-button>
                </template>
                <template if:false={button.setDisable}>
                  <lightning-button data-id={button.order} data-type={button.identifier.type}
                    data-mode={button.identifier.value} variant="brand" onclick={handleButtonClick} label={button.label}
                    title={button.title} class={button.class}>
                  </lightning-button>
                </template>
              </div>
            </template>
            </div>
        </div>
      </template>
    </div>
  </template>
</template>