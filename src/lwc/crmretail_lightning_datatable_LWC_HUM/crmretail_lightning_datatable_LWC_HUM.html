<template> 
    <div >
        <p class="slds-text-heading_medium slds-p-left_small" style="float:left;">{title}</p>
        <div style="float:right;" if:false={hideCheckBox}>
            <lightning-button class="slds-p-right_x-small" label="Scheduled Onsite" name="scheduledOnsite" variant="brand" onclick={createInteraction} disabled={disableScheduleButton}></lightning-button>
            <lightning-button class="slds-p-right_x-small" label="Scheduled Virtual" name="scheduledVirtual" variant="brand" onclick={createInteraction} disabled={disableScheduleButton}></lightning-button>
            <lightning-button class="slds-p-right_x-small" label="New Interaction" name="new" variant="brand" onclick={createInteraction} disabled={disableIntButton}></lightning-button>           

        </div>                          
    </div>
    <div style="margin-right:6px;text-align:right;" class={paddingForPagination}>
            <lightning-button id={buttonId} icon-name="utility:jump_to_left" label="First" disabled={disableFirstandPreviousBtn} onclick={handleFirstbtnClick} class="slds-p-right_xx-small">           
            </lightning-button>
            <lightning-button id={buttonId} icon-name="utility:chevronleft" label="Previous" disabled={disableFirstandPreviousBtn} onclick={handlePreviousbtnClick}>           
            </lightning-button>
                <span class="slds-var-m-horizontal_x-small slds-var-m-vertical_x-small">
                        Page {currentPageNumber} of {pageCount}
                    </span>
                    <span class="slds-var-m-horizontal_x-small slds-var-m-vertical_x-small">
                        Number of records: {numOfRecords}
                    </span>
            <lightning-button id={buttonId} icon-name="utility:chevronright" label="Next" disabled={disableNextandLastBtn} onclick={handleNextbtnClick} class="slds-p-right_xx-small">           
            </lightning-button>
            <lightning-button id={buttonId} icon-name="utility:jump_to_right" label="Last" disabled={disableNextandLastBtn} onclick={handleLastbtnClick}>           
            </lightning-button>
    </div>
    <div class="slds-p-left_small slds-p-right_small" if:false={isSpinnerVisible}>
        <lightning-datatable key-field="id" columns={columns} data={displayRecords} hide-checkbox-column={hideCheckBox} onrowaction={handleRowAction} selected-rows={selectedRows} onrowselection={handleRowSelection} sorted-by={sortedBy} sorted-direction={sortedDirection} onsort={updateColumnSorting}>
        </lightning-datatable>   
    </div>

    <template if:true={isSpinnerVisible}>
        <div class="slds-spinner_container">
            <div class="slds-spinner_brand slds-spinner slds-spinner--large slds-is-relative" 
                role="alert">
            <span class="slds-assistive-text">Loading</span>
            <div class="slds-spinner__dot-a"></div>
            <div class="slds-spinner__dot-b"></div>
            </div>
        </div>        
     </template> 
                   
    <template if:true={showNotificationModal} >
        <c-storefront-notification-l-w-c-h-u-m  page-name={sourcePageName} switch-map={switches} notification-wrap-data={notificationData}  onnotificationack={handleNotificationAck} onnotificationclose={handleNotificationClose}></c-storefront-notification-l-w-c-h-u-m> 
    </template>
    <template if:true={isShowOOORecordForm} >
        <c-c-r-m-retail-o-o-o-tracking_-l-w-c_-h-u-m selected-row-data={rowDataForOOOTracking} onrecordsavesuccess={OOOSuccess} onhandleclose={closeOOOModal}></c-c-r-m-retail-o-o-o-tracking_-l-w-c_-h-u-m> 
    </template>

    <c-crm-retail_-generic-modal_-l-w-c_-h-u-m style="--modal-max-width:40rem" open-modal={showGenericModal} title={genericModalHeader} onclose={handleGenericModalClose}>

        <div slot="body">

            <template for:each={dupInteractionList} for:item="item">
                <li key={item}>{item}</li>
            </template>

            <template if:true={genericModalLabel}>
                <p class="slds-align_absolute-center">{genericModalLabel}</p>
            </template>

        </div>   

        <div slot="footer">
            <button  class="slds-button slds-button_neutral" onclick={handleGenericModalClose} title="Cancel">{cancelButtonLabel}</button>

            <span class="slds-p-left_x-small" if:true={isDelete}>
                <button class="slds-button slds-button_neutral" onclick={handleDelteConfirmation} title="Confirm">Confirm</button>
            </span>
        </div>

    </c-crm-retail_-generic-modal_-l-w-c_-h-u-m>

    
    
    <template if:true={eventRecommendation}>
        <c-crmretail_recommendevents_-l-w-c_-h-u-m selected-interaction={selectedInteraction} onrecommendationevent={handleRecommendationEvent} onclosemodal={handleRecommendationClose}></c-crmretail_recommendevents_-l-w-c_-h-u-m>
    </template>
</template>