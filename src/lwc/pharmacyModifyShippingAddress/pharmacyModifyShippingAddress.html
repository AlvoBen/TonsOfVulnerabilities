<!--*****************************************************************************************************************************
Component Name : Pharmacy Modify Shipping Address
Version        : 1.0
Created On     : 12/10/2021
Function       : This component used for adding new shipping address or modify shipping address.

Modification Log:
* Developer Name               Date                       Description
*--------------------------------------------------------------------------------------------------------------------------------------
* Nirmal Garg                  12/10/2021               	Original Version US-2765962
* Swapnali Sonawane            11/01/2022                   US- 3729809 Migration of the UI enhancements in the addresses section
* Swapnali Sonawane			   12/19/2022					Defect-6820 Address 2 font size is different than other fields
*******************************************************************************************************************************-->
<template>
    <div class="slds-grid slds-gutters slds-wrap">
        <div class="slds-col slds-size_3-of-12">
            <lightning-combobox name="shippingAddress" label="Modify Shipping Address" value={selectedMemAddres}
                                placeholder="Modify Shipping Address" options={options} onchange={handleAddressChange}
                                variant="label-hidden" class="slds-wrap" dropdown-alignment="auto"></lightning-combobox>
        </div>
        <div class="slds-col slds-size_3-of-12">
            <div style="position:relative">
                <lightning-button label="Add Address" title="Add Address" variant="brand" onclick={handleClick}
                                  class="slds-m-left_x-small"></lightning-button>
            </div>
        </div>
        <div class="slds-col slds-size_6-of-12"></div>
        <template if:true={bDisplayAddress}>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Type" value="Shipping Address" disabled required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_4-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Address 1" placeholder="Address" onchange={handleAddress1}
                                     onkeydown={handleAddress1} value={addressline1} maxlength="60"
                                     message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-input>
                </span>

            </div>
            <div class="slds-col slds-size_5-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="City" placeholder="City" onchange={handlecity}
                                     onkeydown={handlecity} value={addresscity} maxlength="35"
                                     message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small"></div>
            <div class="slds-col slds-size_4-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Address 2" value={addressline2}
                                     maxlength="60" onchange={handleAddress2} onkeydown={handleAddress2} placeholder="Address">
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-combobox name="state" label="State" value={stateVal} onchange={handlestate} placeholder="State"
                                        options={stateOptions} dropdown-alignment="auto"
                                        message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-combobox>
                </span>
            </div>
            <div class="slds-col slds-size_2-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input value={addresszip} onchange={handlezip} onkeydown={handlezip} placeholder="Zip"
                                     type="text" maxlength="5" label="Zip" message-when-value-missing="Error: You must Enter a Value"
                                     required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_12-of-12 slds-float_right slds-m-left_medium slds-m-top_small">
                <div class="slds-float_right slds-m-right_medium">
                    <lightning-button label="Cancel" title="Cancel" onclick={handleCancel} class="slds-p-right_small">
                    </lightning-button>
                    <lightning-button label="Verify" variant="brand" title="Verify" onclick={handleVerify}
                                      disabled={bVerifybuttonDisbaled}>
                    </lightning-button>
                </div>
            </div>
        </template>
        <template if:false={uspsLoaded}>
            <div class="exampleHolder">
                <lightning-spinner alternative-text="Loading" size="mediam"></lightning-spinner>
            </div>
        </template>
        <template if:true={verifyDone}>
            <c-pharmacy-u-s-p-s-address-verification valaddr={validatedAddress} addrtoupdate={addressToUpdate}
                                                     address={bDisplayUSPSAddress} oncancel={handleUSPSCancel} onsavedata={handleSaveLog}
                                                     onshippingaddress={updateShippingAddress} showerr={showUspsError}>
            </c-pharmacy-u-s-p-s-address-verification>

        </template>

        <div class="slds-col slds-size_1-of-1">
            <div class="slds-text-body_regular"><strong>Selected Address</strong></div>
            <div>
                <lightning-formatted-address street={selectedAddressLine} city={selectedCity}
                                             country={selectedCountry} province={selectedState} postal-code={selectedZipcode} disabled>
                </lightning-formatted-address>
            </div>
        </div>
    </div>

</template>