<!--
LWC Name        : grievanceAppealsDocumentListSection.html
Function        : LWC to display document list;

Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Kalyani Pachpol                09/02/2022                   initial version - US - 3669329
* Kalyani Pachpol                09/14/2022                   DF-6175
****************************************************************************************************************************-->

<template>
    <div>
        <c-generic-component-header headerline="Grievance and Appeal Cases" subheaderline={sCase}
            iconname="utility:identity">
        </c-generic-component-header>
    </div>
    <br>
    <lightning-card>
        <div class="slds-grid slds-wrap slds-m-around_x-small">
            <div class="slds-col slds-size_1-of-1">
                <div class="slds-text-body_regular slds-text-title_bold">Document List</div>
            </div>
        </div>
        <div class="slds-grid slds-wrap slds-m-around_x-small">
            <div class="slds-col slds-size_1-of-1">
              <template if:true={loaded}>
                  <template if:false={norecords}>
                    <div class="slds-text-body_regular">{filteredCount} of {totalCount} items</div>
                </template>
              </template>
            </div>
        </div>
            <div class="slds-grid slds-wrap slds-m-around_x-small">
                <div class="slds-col slds-size_1-of-1">
                    <template if:true={loaded}>
                        <template if:false={norecords}>
                            <div class="slds-col slds-size_1-of-1">
                                <div class="slds-table--header-fixed_container">
                                    <div class="slds-scrollable_y container" style="height: 100%;" onscroll={handleScroll}>
                                        <table class="slds-no-row-hover slds-table slds-table_bordered slds-table--header-fixed">
                                            <thead>
                                                <tr class="slds-line-height_reset">
                                                    <template for:each={pagelayout} for:item="col">

                                                            <th scope="col" key={col.label} style={col.style}
                                                                data-iconname={col.iconname} data-label={col.label}
                                                                data-id={col.id}
                                                                data-sortable={col.sortable}
                                                                onmouseenter={handleMouseEnter}
                                                                onmouseleave={handleMouseLeave}
                                                                onclick={onHandleSort}>
                                                                <div class="slds-p-top_x-small slds-truncate slds-cell-fixed slds-m-left_x-small"
                                                                    style={col.divstyle}>
                                                                    {col.label}
                                                                    <span>
                                                                        <template if:false={col.mousehover}>
                                                                            <template if:true={col.sorting}>
                                                                                <lightning-icon
                                                                                    class="slds-var-m-left_small remove-display-sort-icon"
                                                                                    icon-name={col.iconname}
                                                                                    size="xx-small">
                                                                                </lightning-icon>
                                                                            </template>
                                                                        </template>
                                                                        <template if:true={col.mousehover}>
                                                                            <lightning-icon
                                                                                class="slds-var-m-left_small remove-display-sort-icon"
                                                                                icon-name={col.mousehovericon}
                                                                                size="xx-small">
                                                                            </lightning-icon>
                                                                        </template>
                                                                    </span>
                                                                </div>
                                                            </th>

                                                    </template>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <template for:each={filteredDocumentRecords} for:item="item" for:index="index">
                                                    <tr key={item.Id} class="slds-hint-parent" style="height:25px;">
                                                        <td data-label="File Name">
                                                            <div class="slds-wrap li slds-text-link" style="cursor: pointer;height:25px;" onclick={openDocument} data-id={item.sDocumentId}>
                                                                {item.sFileName}</div>
                                                        </td>
                                                        <td data-label="Type">
                                                            <div class="slds-wrap" style="height:25px;">{item.sType}</div>
                                                        </td>
                                                        <td data-label="Created By">
                                                            <div class="slds-wrap" style="height:25px;">{item.sCreatedBy}</div>
                                                        </td>
                                                        <td data-label="Document Created">
                                                            <div class="slds-wrap" style="height:25px;">{item.sDocumentCreated}</div>
                                                        </td>
                                                    </tr>

                                                </template>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </template></template>
                    <template if:true={loaded}>
                        <template if:true={norecords}>
                            <div class="slds-col slds-size_1-of-1 slds-m-top_small slds-wrap">
                                <c-generic-scoped-notification-hum iconname="utility:info"
                                    message="No records to display.">
                                </c-generic-scoped-notification-hum>
                            </div>
                        </template>
                    </template>
                    <template if:false={loaded}>
                        <lightning-spinner alternative-text="Loading"></lightning-spinner>
                    </template>
                </div>
            </div>

    </lightning-card>

</template>