<!--
*******************************************************************************************************************************************
LWC Name        : qAAComplaint
Function        : Component used to display QAA complaint template

Modification Log:
* Developer Name                     Date                         Description
* Santhi Mandava                     08/30/2022                   Original Version 
* Aishwarya Pawar                    05/02/2023                   REQ - 4497923
******************************************************************************************************************************************/
-->
<template>  
    <div class = "spinner">
    </div>
    <template if:true={isDataPresent}>
        <div class="slds-card slds-page-header" style="background:none;background-color: white;">
        <div class="slds-grid slds-gutters slds-wrap slds-theme_default">
            <div class="slds-col slds-size_12-of-12">
                <div class="slds-grid slds-gutters slds-wrap">
                    <div class="slds-col slds-size_11-of-12">
                        Process Type : QAA Process    
                    </div>
                    <div class="slds-col slds-size_1-of-12">
                        <div class="slds-page-header__col-actions">
                            <div class="slds-page-header__controls">
                                <div class="slds-page-header__control">
                                    <ul class="slds-button-group-list">
                                        <li>
                                            <lightning-button variant="brand" label="Save" title="Save" onclick={handleSaveClick}></lightning-button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size_12-of-12">
                        <div style="border: 1px solid rgb(201, 201, 201);background-color:rgb(243,243,243);padding:5px;">
                            <lightning-formatted-rich-text value={oDetails.Disclaimer.oField.questionRec.Question_Label__c} ></lightning-formatted-rich-text>  
                            <br><br>
                            <lightning-formatted-rich-text value={oDetails.Note.oField.questionRec.Question_Label__c} ></lightning-formatted-rich-text>  
                        </div>    
                    </div>
                    <div class="slds-col slds-size_4-of-12" if:true={oDetails.MembersParentQuestion.oField.boolDisplayQuestion}>
                        <lightning-combobox data-name={oDetails.MembersParentQuestion.oField.questionRec.Question_Label__c} label={oDetails.MembersParentQuestion.oField.questionRec.Question_Label__c} value={oDetails.MembersParentQuestion.oField.sSelectedDropDownOption} placeholder="" options={oDetails.MembersParentQuestion.oField.lstDropDownOptionsTemp} onchange={handleSelectionChange} ></lightning-combobox>
                    </div>
                </div>
                <hr class="customHR">
                <div class="slds-grid slds-gutters slds-wrap" if:true={oDetails.RequiredActionTxt.oField.boolDisplayQuestion}>
                    <div class="slds-col slds-size_12-of-12">
                        <div style="border: 1px solid rgb(201, 201, 201);background-color:rgb(243,243,243);padding:5px;">
                            <lightning-formatted-rich-text value={oDetails.RequiredActionTxt.oField.questionRec.Question_Label__c} ></lightning-formatted-rich-text>  
                        </div> 
                    </div>
                    <div class="slds-col slds-size_4-of-12" style="margin-top: 4px;">
                        <div class="slds-grid slds-gutters slds-wrap">
                            <div class="slds-col slds-size_4-of-4" >
                                <lightning-input class="inputEle firstDiv" type="text" required="true" onkeyup={handleDataChange} data-name={oDetails.SubmittingPerson.oField.questionRec.Question_Label__c} value={oDetails.SubmittingPerson.oField.sValue} label={oDetails.SubmittingPerson.oField.questionRec.Question_Label__c}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-4">
                                <lightning-input class="inputEle" type="date" onkeyup={handleDateChange} onblur={handleDateChange} required data-name={oDetails.IncidentDate.oField.questionRec.Question_Label__c} label={oDetails.IncidentDate.oField.questionRec.Question_Label__c} value={oDetails.IncidentDate.oField.sValue}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-4">
                                <lightning-input class="inputEle" type="text" onkeyup={handleDataChange} required data-name={oDetails.IncidentSetting.oField.questionRec.Question_Label__c} label={oDetails.IncidentSetting.oField.questionRec.Question_Label__c} value={oDetails.IncidentSetting.oField.sValue}></lightning-input>
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size_8-of-12 " style="margin-top: 4px;">
                        <div class="slds-form-element complDiv">
                            <label class="slds-form-element__label" for="textarea-id-01">
                              <abbr class="slds-required" title="required">* </abbr>{oDetails.ComplaintDetails.oField.questionRec.Question_Label__c}</label>
                            <div class="slds-form-element__control">
                              <textarea id="textarea-id-01" required="" aria-describedby="error-01" data-name={oDetails.ComplaintDetails.oField.questionRec.Question_Label__c} onblur={handleComplaintDetailsChange} class="slds-textarea txtAreaEle secDiv"></textarea>
                            </div>
                            <div class="slds-form-element__help errDiv" style="display:none;">Complete this field.</div>
                          </div>
                    </div>
                </div>
                <div class="slds-grid slds-gutters slds-wrap" if:true={oDetails.MemberNotWilling.oField.boolDisplayQuestion}>
                    <div class="slds-col slds-size_12-of-12">
                        <div>
                            <p>{oDetails.MemberNotWilling.oField.questionRec.Question_Label__c}</p>
                        </div>  
                    </div>
                </div>
                <hr class="customHR">
                <div class="slds-grid slds-gutters slds-wrap" if:true={oDetails.MemberNotWilling.oField.boolDisplayQuestion}>
                    <div class="slds-col slds-size_12-of-12">
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                              <textarea  readonly placeholder="Placeholder text…" class="slds-textarea textareastyle">{oDetails.MemberAdvise.oField.questionRec.Question_Label__c}</textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-grid slds-gutters slds-wrap" if:true={oDetails.CareIssue.oField.boolDisplayQuestion}>
                    <div class="slds-col slds-size_4-of-12">
                        <lightning-combobox  class="inputEle" required field-level-help={careIssueHelpText} data-name={oDetails.CareIssue.oField.questionRec.Question_Label__c} label={oDetails.CareIssue.oField.questionRec.Question_Label__c} value={oDetails.CareIssue.oField.sSelectedDropDownOption} placeholder="" options={oDetails.CareIssue.oField.lstDropDownOptionsTemp} onchange={handleSelectionChange} ></lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_8-of-12">
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-size_12-of-12">
                                <template if:true = {isSearching}>
                                    <lightning-spinner alternative-text = "Loading" variant="brand" size = "medium">
                                    </lightning-spinner>
                               </template>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-combobox disabled={bProviderFieldDisabled} data-name={oDetails.ProviderORGroup.oField.questionRec.Question_Label__c} label={oDetails.ProviderORGroup.oField.questionRec.Question_Label__c} value={oDetails.ProviderORGroup.oField.sSelectedDropDownOption} placeholder="" options={oDetails.ProviderORGroup.oField.lstDropDownOptionsTemp} onchange={handleProviderSelectionChange} ></lightning-combobox>
                            </div>
                            <div class="slds-col slds-size_4-of-12" if:true={oDetails.ProviderFirstName.oField.boolDisplayQuestion}>
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderFirstName.oField.questionRec.Question_Label__c} value={oDetails.ProviderFirstName.oField.sValue} label={oDetails.ProviderFirstName.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12" if:true={oDetails.ProviderLastName.oField.boolDisplayQuestion}>
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderLastName.oField.questionRec.Question_Label__c} value={oDetails.ProviderLastName.oField.sValue} label={oDetails.ProviderLastName.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_8-of-12" if:true={oDetails.ProviderFacilityGroup.oField.boolDisplayQuestion}>
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderFacilityGroup.oField.questionRec.Question_Label__c} value={oDetails.ProviderFacilityGroup.oField.sValue} label={oDetails.ProviderFacilityGroup.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-input type="text" class="protaxele" if:true={oDetails.ProviderTaxID.oField.boolDisplayQuestion} disabled={bProviderFieldDisabled} data-name={oDetails.ProviderTaxID.oField.questionRec.Question_Label__c} value={oDetails.ProviderTaxID.oField.sValue} label={oDetails.ProviderTaxID.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderCity.oField.questionRec.Question_Label__c} value={oDetails.ProviderCity.oField.sValue} label={oDetails.ProviderCity.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-combobox disabled={bProviderFieldDisabled} data-name={oDetails.ProviderState.oField.questionRec.Question_Label__c} label={oDetails.ProviderState.oField.questionRec.Question_Label__c} value={oDetails.ProviderState.oField.sSelectedDropDownOption} placeholder="" options={oDetails.ProviderState.oField.lstDropDownOptionsTemp} onchange={handleSelectionChange} ></lightning-combobox>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-input type="text" class="pronpiele" if:true={oDetails.ProviderNPI.oField.boolDisplayQuestion} disabled={bProviderFieldDisabled} data-name={oDetails.ProviderNPI.oField.questionRec.Question_Label__c} value={oDetails.ProviderNPI.oField.sValue} label={oDetails.ProviderNPI.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderAddress.oField.questionRec.Question_Label__c} value={oDetails.ProviderAddress.oField.sValue} label={oDetails.ProviderAddress.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                            <div class="slds-col slds-size_4-of-12">
                                <lightning-input type="text" disabled={bProviderFieldDisabled} data-name={oDetails.ProviderZip.oField.questionRec.Question_Label__c} value={oDetails.ProviderZip.oField.sValue} label={oDetails.ProviderZip.oField.questionRec.Question_Label__c} onkeyup={handleProviderDataChange}></lightning-input>
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-size_4-of-12"></div>
                    <div class="slds-col slds-size_8-of-12">
                        <div class="slds-grid slds-grid_align-end" style="margin-top: 10px;">
                            <div class="slds-col">
                                <div class="providerErr slds-has-error slds-form-element__help" style="color:rgb(234,0,30);display:none;" id="error-011">
                                    <ul style="list-style: square;">
                                        <template for:each={providerErrors} for:item="err">
                                            <li key={err} style="display: list-item !important;">{err}</li>
                                        </template>
                                    </ul>
                                </div>
                            </div>
                            <div class="slds-col">
                                <button class="slds-button slds-button_neutral" onclick={handleClearClick}>Clear</button>
                            </div>
                            <div class="slds-col">
                                <lightning-button variant="brand" label="Search" title="Search" onclick={handleSearchClick} class="slds-m-left_x-small"></lightning-button>
                            </div>
                        </div>  
                    </div>
                    <template if:false={isSearching}>
                        <template if:true={bResultFound}>
                            <template if:true={bDatafound}>
                                <div class="slds-col slds-m-top_x-small slds-size_12-of-12" if:true={bShowTable}>
                                    <div style="max-height: 500px;overflow-y:scroll;">
                                        <c-standard-table-component-hum class="qaaproviders"
                                                                        data-id="p-search-results" name-of-screen="providerResutls" templatemodal={oLayout}
                                                                        oninteractions={handleRecordSelection} response={resultreceived} ontablerowselected={handleRowSelection}>
                                        </c-standard-table-component-hum>
                                    </div>
                                </div>
                            </template>
                            <template if:false={bDatafound}>
                                <div class="slds-col slds-m-top_x-small slds-size_12-of-12">
                                    <c-generic-scoped-notification-hum iconname="utility:info" message="No records to display.">
                                    </c-generic-scoped-notification-hum>
                                </div>
                            </template>
                        </template>  
                    </template>
                </div>
                <hr class="customHR">
                <div class="slds-grid slds-gutters slds-wrap">
                    <template for:each={oDetails.lstLinks} for:item="oLink">
                        <div class="slds-col slds-size_12-of-12" key={oLink.questionRec.Question_Label__c}>
                            <a href={oLink.questionRec.Display_text__c} style="color: rgb(1, 118, 211); padding-left: 12px;text-decoration: underline;" target="_blank">{oLink.questionRec.Question_Label__c}<br /><br /></a>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
    </template>
</template>