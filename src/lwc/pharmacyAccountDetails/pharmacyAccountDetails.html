<!--
Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Kalyani Pachpol                 05/12/2022                  US-3188387
* Soniya Kunapareddy              08/24/2022                  US-3562135
****************************************************************************************************************************-->
<template>
  <div class="slds-box slds-m-bottom_medium" style="background-color: white; min-height: 50px;">
    <template if:true={loaded}>
      <div class="slds-grid">
        <div class="slds-col_bump-right slds-m-top_xx-small">
          <h4 class="slds-m-left_x-small">
            <div class="slds-text-title_bold" style="font-size: 16px;">{header}</div>
          </h4>
        </div>
        <div>
          <template if:true={isvisible}>
            <lightning-button label="Save" onclick={saveAndUpdateClick} variant="brand"
              class="slds-float_right slds-m-left_x-small" disabled={bValidData}></lightning-button>
            <lightning-button label="Cancel" onclick={handleCancel} class="slds-float_right"></lightning-button>
          </template>
        </div>

      </div>

      <div class="slds-grid slds-wrap slds-m-top_x-small">
        <div class="slds-col slds-size_10-of-12">
          <lightning-layout multiple-rows="true">
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">First Name</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{memberFirstName}</div>
                  <span class="slds-assistive-text">Edit: First Name</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                  <span class="slds-form-element__label">Middle Initial</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{memberMiddleName}</div>
                  <span class="slds-assistive-text">Edit: Middle Name</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Last Name</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{memberLastName}</div>
                  <span class="slds-assistive-text">Edit: Last Name</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Date Of Birth</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{memberDOB}</div>
                  <span class="slds-assistive-text">Edit: Date Of Birth</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <template if:true={isEditable}>
                  <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_10-of-12">
                      <span>

                        <lightning-input type="phone" itemid="four" data-id="reset" name="memberPrimaryPhone"
                          class="resetvalue1" pattern="^\(\d{3}\)\s\d{3}-\d{4}$"
                          message-when-pattern-mismatch="Phone number is not valid" placeholder="(000)000-0000"
                          onchange={handleChange} label="Primary Phone" value={memberPrimaryPhone}>
                        </lightning-input>
                      </span>
                    </div>
                    <div class="slds-col slds-size_2-of-12 slds-m-top_large">
                      <span>
                        <lightning-button-icon name="primaryPhone" icon-name="utility:edit" onclick={editMemberDetails}
                          variant="bare" alternative-text="edit"></lightning-button-icon>
                      </span>
                    </div>
                  </div>
                </template>
                <template if:false={isEditable}>
                  <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                    <span class="slds-form-element__label">Primary Phone</span>
                    <div class="slds-form-element__control">
                      <div class="slds-form-element__static">
                        <p>
                          <lightning-icon icon-name="utility:end_call" size="xx-small" title="Primary Phone">
                          </lightning-icon>
                          <lightning-formatted-phone value={memberPrimaryPhone} disabled></lightning-formatted-phone>
                        </p>
                      </div>
                      <lightning-button-icon name="primaryPhone" icon-name="utility:edit" onclick={editMemberDetails}
                        variant="bare" alternative-text="edit"></lightning-button-icon>
                    </div>
                  </div>
                </template></div>

            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <template if:true={isEditable}>
                  <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_10-of-12">
                      <span>
                        <lightning-input id="memberAlternatePhone" class="resetvalue3" type="phone" data-id="reset"
                          name="memberAlternatePhone" pattern="^\(\d{3}\)\s\d{3}-\d{4}$"
                          message-when-pattern-mismatch="Phone number is not valid" placeholder="(000)000-0000"
                          onchange={handleChange} label="Mobile/Alternate Phone" value={memberAlternatePhone}>
                        </lightning-input>
                      </span>
                    </div>
                    <div class="slds-col slds-size_2-of-12 slds-m-top_large">
                      <span>
                        <lightning-button-icon name="memberAlternatePhone" icon-name="utility:edit"
                          onclick={editMemberDetails} variant="bare" alternative-text="edit"></lightning-button-icon>
                      </span>
                    </div>
                  </div>
                </template>
                <template if:false={isEditable}>
                  <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                    <span class="slds-form-element__label">Mobile/Alternate Phone</span>
                    <div class="slds-form-element__control">
                      <div class="slds-form-element__static">
                        <p>
                          <lightning-formatted-phone value={memberMobile} disabled></lightning-formatted-phone>
                        </p>

                      </div>
                      <lightning-button-icon name="memberAlternatePhone" icon-name="utility:edit"
                        onclick={editMemberDetails} variant="bare" alternative-text="edit"></lightning-button-icon>
                    </div>
                  </div>
                </template>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <template if:true={isEditable}>
                  <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_10-of-12">
                      <span>
						<span class="slds-form-element__label">Email</span>
                        <template if:true={isEmailReadyOnly}>
                          <lightning-input type="email" id="memberEmail" name="memberEmail" data-id="reset"
                            onchange={handleChange} placeholder="test@humana.com" value={memberEmail}>
                          </lightning-input>
                        </template>
                      </span>
                    </div>
                    <div class="slds-col slds-size_2-of-12 slds-m-top_large">
                      <span>
                        <lightning-button-icon name="memberEmail" icon-name="utility:edit" onclick={editMemberDetails}
                          variant="bare" alternative-text="edit"></lightning-button-icon>
                      </span>
                    </div>
                  </div>
                </template>
                <template if:false={isEditable}>
                  <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                    <span class="slds-form-element__label">Email</span>
                    <div class="slds-form-element__control">
                      <template if:true={isEmailReadyOnly}>
                        <div class="slds-form-element__static">{memberEmail}</div>
                        <lightning-button-icon name="memberEmail" icon-name="utility:edit" onclick={editMemberDetails}
                        variant="bare" alternative-text="edit"></lightning-button-icon>
                      </template>
                      <template if:false={isEmailReadyOnly}>
                        <div class="slds-grid slds-wrap">
                          <div class="slds-col slds-size_10-of-12">
                          </div>
                          <div class="slds-col slds-size_2-of-12">
                            <lightning-button-icon  name="memberEmail" icon-name="utility:edit" onclick={editMemberDetails}
                            variant="bare" alternative-text="edit"></lightning-button-icon>
                          </div>
                        </div>
                      </template>
                     
                    </div>
                  </div>
                </template></div>

            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Declined Email</span>
                <div class="slds-form-element__control">
                  <lightning-input type="checkbox" data-id="reset" name="declinedEmail" data-name="active"
                    onchange={displayStatus} checked={declinedEmail} disabled={declinedDisabled}></lightning-input>
                  <span class="slds-assistive-text">Edit: Declined Email</span>
                </div>
              </div>

            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Permanent Address</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static slds-wrap slds-text-body_small" title={memberaddress}>
                    {memberaddress}</div>
                  <span class="slds-assistive-text">Edit: Permanent Address</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Plan Type</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{planType}</div>
                  <span class="slds-assistive-text">Edit: Plan Type</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Effective Date</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{effectiveDate}</div>
                  <span class="slds-assistive-text">Edit: Effective Date</span>
                </div>
              </div>

            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Termination Date</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static">{teminationDate}</div>
                  <span class="slds-assistive-text">Edit: Termination Date</span>
                </div>
              </div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">

            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <template if:true={isEditable}>
                  <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_10-of-12">
                      <span>
                        <lightning-combobox name="capType" label="Cap Type" data-id="reset" value={capType}
                          placeholder="E" options={options} onchange={handleChange} class="resetvalue">
                        </lightning-combobox>

                      </span>
                    </div>
                    <div class="slds-col slds-size_2-of-12 slds-m-top_large">
                      <span>
                        <lightning-button-icon name="capType" icon-name="utility:edit" onclick={editMemberDetails}
                          variant="bare" alternative-text="edit"></lightning-button-icon>
                      </span>
                    </div>
                  </div>
                </template>
                <template if:false={isEditable}>
                  <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                    <span class="slds-form-element__label">Cap Type</span>
                    <div class="slds-form-element__control">
                      <div class="slds-form-element__static">{capType}</div>
                      <lightning-button-icon name="capType" icon-name="utility:edit" onclick={editMemberDetails}
                        variant="bare" alternative-text="edit"></lightning-button-icon>
                    </div>
                  </div>
                </template></div>
            </lightning-layout-item>
            <lightning-layout-item size="3" class="slds-p-around_x-small">
              <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent">
                <span class="slds-form-element__label">Member Consent</span>
                <div class="slds-form-element__control">
                  <div class="slds-form-element__static slds-text-body_small">{memberConsent}</div>
                  <span class="slds-assistive-text">Edit: Member Consent</span>
                </div>
              </div>
            </lightning-layout-item>
          </lightning-layout>

        </div>

        <div class="slds-col slds-size_2-of-12 slds-m-top_medium">
          <div class={getbackgroundcolor}>
            <div class="custom-box slds-m-vertical_medium">
              <p class="data-style"><b>Account Balance</b></p>
			  <lightning-formatted-number class="slds-text-heading_large slds-text-align_left data-style" value={balanceDue} format-style="currency"
                      currency-code="USD" currency-display-as="symbol"></lightning-formatted-number>
              
              <div class="slds-m-top_xx-small">
                <div class="slds-border_bottom">
                </div>
              </div>
              <p class="slds-text-body_regular slds-text-align_left data-style">Account Limit</p>
              <div>
                <lightning-formatted-number class="slds-text-heading_medium slds-text-align_left data-style" value={accountLimit} format-style="currency"
                            currency-code="USD" currency-display-as="symbol"></lightning-formatted-number>
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </template>
    <template if:false={loaded}>
      <lightning-spinner alternative-text="Loading"></lightning-spinner>
    </template>
  </div>
</template>