<!--
LWC Name        : lightningLoggingComponentHum.html
Function        : LWC to enable and disable logging functionality.

Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Abhishek Mangutkar              2/16/2022                  initial version
* Abhishek Mangutkar              6/15/2022	                 DF - 5893
****************************************************************************************************************************-->
<template>

    <div class="slds-is-relative">
        <div>
            <div style="padding-left:0rem;padding-top:0rem;position:relative">
                <span onclick={handleLoggingIconClick} onmouseenter={handleMouseEnter} onmouseleave={handleMouseLeave}>
                    <c-logging-logo-hum logo-name={logoName}></c-logging-logo-hum>
                </span>
                <template if:true={showIconHoverMessage}>
                    <div class="slds-popover slds-popover_tooltip slds-nubbin_bottom-right slds-slide-from-top-to-bottom"
                        role="tooltip" id="help" style="position:absolute;top:-32px;left:-15px">
                        <div class="slds-popover__body">Logging</div>
                    </div>
                </template>
            </div>
        </div>
        <template if:true={viewLoggingPanel}>

            <section aria-describedby="dialog-body-id-106" aria-labelledby="dialog-heading-id-5"
                class="slds-popover slds-nubbin_top-right slds-popover_small loggingBox" role="dialog">
                <div class="slds-m-around_medium">
                    <template if:true={showStartLogging}>

                        <button title="Start Logging" onclick={handleStartLogging}
                            class="slds-button slds-button_outline-brand slds-button_stretch slds-m-top_x-small slds-var-m-bottom_small">Start
                            Logging</button>
                    </template>
                    <template if:false={showStartLogging}>

                        <button title="Cancel Logging" onclick={handleCancelLogging}
                            class="slds-button slds-button_destructive slds-button_stretch slds-m-top_x-small slds-var-m-bottom_small"
                            disabled={disableCancelButton}>Cancel Logging</button>
                    </template>
                </div>

                <div class="slds-form-element slds-m-around_medium">
                    <label class="slds-checkbox_toggle slds-grid">
                        <span class="slds-form-element__label slds-m-bottom_none">Log To</span>
                        <input type="checkbox" name="checkbox-toggleLogTo" value="Log To" aria-describedby="Log To"
                            onchange={toggleLogTo} checked={logTo} disabled={disableLogTo}/>
                        <span id="checkbox-toggle-captype1" class="slds-checkbox_faux_container" aria-live="assertive">
                            <span class="slds-checkbox_faux"></span>
                            <span class="slds-checkbox_on">New Case</span>
                            <span class="slds-checkbox_off">Existing Case</span>
                        </span>
                    </label>
                </div>
                <template if:true={showLogButton}>
                    <div class="slds-m-around_medium">
                        <template if:true={disableLogButton}>
                            <button title="Log" onclick={handleLogClick}
                            class="slds-button slds-button_brand slds-button_stretch"
                            disabled={disableLogButton}>Log</button>
                        </template>
                        <template if:false={disableLogButton}>
                            <button title="Log" onclick={handleLogClick}
                            class="slds-button slds-button_outline-brand slds-button_stretch"
                            disabled={disableLogButton}>Log</button>
                        </template>
                    </div>
                </template>
                <template if:true={showLogFinishButton}>
                    <div class="slds-m-around_medium slds-m-bottom_x-large">
						<template if:true={disableLogFinishButton}>
                            <button title="Log & Finish" onclick={handleLogFinishClick}
                            class="slds-button slds-button_brand slds-button_stretch slds-m-bottom_x-large"
                            disabled={disableLogFinishButton}>Log & Finish</button>
                        </template> 

                        <template if:false={disableLogFinishButton}>
                            <button title="Log & Finish" onclick={handleLogFinishClick}
                            class="slds-button slds-button_outline-brand slds-button_stretch slds-m-bottom_x-large"
                            disabled={disableLogFinishButton}>Log & Finish</button>
                        </template> 
                    </div>
                </template>
                <template if:false={showLogFinishButton}>
                    <div class="slds-m-around_medium slds-m-bottom_x-large">

                        <button title="Finish" onclick={handleFinishClick}
                            class="slds-button slds-button_outline-brand slds-button_stretch">Finish</button>
                    </div>
                </template>
				<div style="height: 2px;">

                </div>
            </section>
        </template>

        <template if:true={viewExistingCasePanel}>
		<div data-id="viewExistingCasePanelDiv" class="slds-hide">
            <section aria-describedby="dialog-body-id-107" aria-labelledby="dialog-heading-id-6"
                class="slds-popover slds-popover_prompt slds-popover_prompt_top-left existingLoggingBox" role="dialog">
                <lightning-button-icon icon-name="utility:close" variant="bare"
                    class="slds-button slds-button_icon slds-button_icon-small slds-float_right slds-popover__close"
                    title="close" style="margin-top:6px;" onclick={closeExistingCaseLogPanel} label="Close">
                </lightning-button-icon>

                <header class="slds-popover__header" style="border: 1px solid #f3f2f2 ;background-color: white;">
                    <h1 id="dialog-heading-id-4" class="slds-text-heading_small"><b>Existing Case</b></h1>
                </header>                
                <div>
                    <div class="slds-scrollable_y" style="height: 500px;">
                        <c-logging-existing-case-history record-id={recordIdToSend}
                            onselectedcasedata={handleCaseCheckBoxSelect} sel-case-id={existingCaseId}>
                        </c-logging-existing-case-history>
                    </div>
                    <div class="slds-page-header_record-home">
                        <lightning-layout horizontal-align="end">
                            <lightning-layout-item flexibility="auto" padding="around-small">

                                <template if:true={showStartLogging}>

                                    <button title="Start Logging" onclick={handleStartLogging}
                                        class="slds-button slds-button_outline-brand" style="width: 130px;">Start
                                        Logging</button>
                                </template>
                                <template if:false={showStartLogging}>

                                    <button title="Cancel Logging" onclick={handleCancelLogging}
                                        class="slds-button slds-button_destructive" style="width: 130px;"
                                        disabled={disableCancelButton}>Cancel Logging</button>
                                </template>

                            </lightning-layout-item>
                            <lightning-layout-item flexibility="auto" padding="around-small">
                                <div class="slds-form-element">
                                    <label class="slds-checkbox_toggle slds-grid">
                                        <span class="slds-form-element__label slds-m-bottom_none">Log To</span>
                                        <input type="checkbox" name="checkbox-toggleLogTo" value="Log To"
                                            aria-describedby="Log To" onchange={toggleLogTo} checked={logToExisting} disabled={disableLogTo} />
                                        <span id="checkbox-toggle-captype2" class="slds-checkbox_faux_container"
                                            aria-live="assertive">
                                            <span class="slds-checkbox_faux"></span>
                                            <span class="slds-checkbox_on">Existing Case</span>
                                            <span class="slds-checkbox_off">New Case</span>
                                        </span>
                                    </label>
                                </div>
                            </lightning-layout-item>
                            <template if:true={showLogButton}>
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <template if:true={disableLogButton}>
                                        <button title="Log" onclick={handleLogClick}
                                        class="slds-button slds-button_brand slds-button_stretch"
                                        disabled={disableLogButton}>Log</button>                                        
                                    </template>
                                    <template if:false={disableLogButton}>
                                        <button title="Log" onclick={handleLogClick}
                                        class="slds-button slds-button_outline-brand slds-button_stretch"
                                        disabled={disableLogButton}>Log</button>                                       
                                    </template>
                                </lightning-layout-item>
                            </template>
                            <template if:true={showLogFinishButton}>
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <template if:true={disableLogFinishButton}>
                                        <button title="Log & Finish" onclick={handleLogFinishClick}
                                        class="slds-button slds-button_brand slds-button_stretch"
                                        disabled={disableLogFinishButton}>Log & Finish</button>                    
                                    </template>
                                    <template if:false={disableLogFinishButton}>
                                        <button title="Log & Finish" onclick={handleLogFinishClick}
                                        class="slds-button slds-button_outline-brand slds-button_stretch"
                                        disabled={disableLogFinishButton}>Log & Finish</button>                                     
                                    </template>
                                </lightning-layout-item>
                            </template>
                            <template if:false={showLogFinishButton}>
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <button title="Finish" onclick={handleFinishClick}
                                        class="slds-button slds-button_outline-brand slds-button_stretch">Finish</button>
                                </lightning-layout-item>
                            </template>
                        </lightning-layout>
                    </div>
                </div>
            </section>
			</div>
        </template>
    </div>

</template>