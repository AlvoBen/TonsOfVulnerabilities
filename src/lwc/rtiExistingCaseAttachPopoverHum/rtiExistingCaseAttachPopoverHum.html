<!--
LWC Name        : rtiExistingCaseAttachPopoverHum
Function        : LWC Component for rti - case logging -  attach to existing case

Modification Log:
* Developer Name                  Date                          Description
*------------------------------------------------------------------------------------------------------------------------------
Jonathan Dickinson               07/14/2022                     REQ-3406802
Abhishek Mangutkar               10/12/2022                     US-3837985 RTI - attach to case upon resend  functionality
*****************************************************************************************************************************-->
<template>
    <section aria-describedby="dialog-body-id-107" aria-labelledby="dialog-heading-id-6"
        class="slds-popover slds-popover_prompt slds-popover_prompt_top-left existingLoggingBox" role="dialog">
        <lightning-button-icon icon-name="utility:close" variant="bare"
            class="slds-button_icon slds-button_icon-small slds-float_right slds-popover__close"
            title="close" style="margin-top:6px;" onclick={handleExistingCasePanelClose} label="Close">
        </lightning-button-icon>
        <header class="slds-popover__header" style="border: 1px solid #f3f2f2 ;background-color: white;">
            <h1 id="dialog-heading-id-4" class="slds-text-heading_small"><b>Existing Case</b></h1>
        </header>
        <div>
            <div class="slds-scrollable_y" style="height: 420px;">
                <c-logging-existing-case-history record-id={recordId} onselectedcasedata={handleCaseCheckBoxSelect}
                    sel-case-id={existingCaseId}>
                </c-logging-existing-case-history>
            </div>
            <div class="slds-page-header_record-home" style="background-color: white;">
                <lightning-layout horizontal-align="end">
                    <lightning-layout-item flexibility="auto" padding="around-small">
                        <lightning-layout horizontal-align="end">
                            <lightning-layout-item flexibility="auto" padding="around-small">
                                <i>{attachCaseNote}</i>
                            </lightning-layout-item>
                        </lightning-layout>
                    </lightning-layout-item>
                    <lightning-layout-item flexibility="auto" padding="around-small">
                        <lightning-layout horizontal-align="end">
                            <lightning-layout-item flexibility="auto" padding="around-small">
                                <lightning-input label="Attach To" type="toggle" message-toggle-active="New Case"
                                message-toggle-inactive="Existing Case" onchange={handleToggle}></lightning-input>
                            </lightning-layout-item>
                        </lightning-layout>
                    </lightning-layout-item>
                    <lightning-layout-item flexibility="auto" padding="around-small">
                        <template if:true={showVerifyResend}>
                            <lightning-layout horizontal-align="end">
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <lightning-button variant="brand-outline" label="Cancel"
                                        onclick={handleExistingCasePanelClose}>
                                    </lightning-button>
                                </lightning-layout-item>
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <lightning-button variant="brand" label="Verify & Resend" onclick={handleFinish}
                                        disabled={isFinishDisabled}>
                                    </lightning-button>
                                </lightning-layout-item>
                            </lightning-layout>
                        </template>
                        <template if:false={showVerifyResend}>
                            <lightning-layout horizontal-align="end">
                                <lightning-layout-item flexibility="auto" padding="around-small">
                                    <lightning-button variant="brand" label="Finish" title="Finish"
                                        disabled={isFinishDisabled} onclick={handleFinish}>
                                    </lightning-button>
                                </lightning-layout-item>
                            </lightning-layout>
                        </template>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
        </div>
    </section>
</template>