<!--
/*****************************************************************************************************************************
Component Name   : PharmacyCreateAndEditCreditCardHum.html
Version          : 1.0
Function         : lwc to display create and edit credit card component

Modification Log:
* Developer Name           Code Review                 Date                         Description
*---------------------------------------------------------------------------------------------------------------------
* Jonathan Dickinson																	11/09/2021					Original Version
* Aishwarya Pawar                                    3/25/2022						Defect Fix 4664
* Nirmal Garg																					04/05/2022					US-3198914-Added case comment logging
* Swapnali Sonawane                                  11/01/2022                       US- 3729809 Migration of the UI enhancements in the addresses section
*******************************************************************************************************************************************************************/
-->
<template>
    
    <div class="section-background slds-var-m-vertical_large">
                     <template if:true={AcknowledgedMsg}>
            <div class="slds-border_bottom slds-p-around_medium slds-grid slds-wrap">
                <div class=" slds-col slds-size_5-of-7">
                    <span style="color:red">{WarningMessage}</span>
                </div>
                <div class="slds-col_bump-left">
                    <lightning-button label="Acknowledged" title="Acknowledged" onclick={handleAcknowledge}></lightning-button>
                </div>
            </div>
        </template>
        <div class="slds-grid">
            <div class="slds-col slds-shrink slds-size_4-of-12">
                <div class="slds-var-m-top_large">
                    <div class="card-details">
                        <div class="slds-grid slds-wrap slds-grid_align-end">
                            <div class="slds-col slds-size_2-of-12">
                                <div class="slds-float_right slds-var-m-right_small card-type" data-id="cardType">
                                    <svg width="60" height="60" viewBox="0 0 146 48" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="slds-var-m-left_small">
                            <c-credit-card-icon-hum></c-credit-card-icon-hum>
                        </div>
                        <div class="slds-var-m-top_medium slds-var-m-left_small slds-var-m-bottom_small slds-text-heading_medium card-number-card"
                            data-id="cardNumberCard">
                            {displayedCardNumber}
                        </div>
                        <div class="slds-grid slds-gutters">
                            <div class="slds-col slds-size_5-of-12 slds-var-m-left_small">
                                <div>Owner Name</div>
                                <div class="owner-name-card" data-id="ownerNameCard">{creditCardOwnerName}</div>
                            </div>

                            <div class="slds-col slds-size_4-of-12">
                                <div>Exp Date</div>
                                <div class="exp-date-card" data-id="expDateCard">{creditCardExpDate}</div>
                            </div>
                            <div class="slds-col slds-size_3-of-12 cvv-card" data-id="cvvCard">
                                <div>CVV</div>
                                <div>{displayedCVV}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slds-col slds-size_2-of-12"></div>
            <div class="slds-col slds-size_6-of-12 slds-shrink">
                <div class="slds-var-m-right_large slds-var-m-vertical_medium">
                    <lightning-input class="input-min-width card-number-input" label="Card Number" required
                        disabled={areFieldsDisabled} max-length={cardNumberInputMaxLength}
                        value={displayedCardNumber} onchange={handleNewCardNumberChange} onblur={validateCardNumber}>
                    </lightning-input>
                    <div class="slds-grid slds-gutters slds-var-m-vertical_small">
                        <div class="slds-col slds-size_1-of-3">
                            <lightning-input class="input-min-width first-name-input" label="First Name" required
                                disabled={areFieldsDisabled} onchange={handleFirstNameChange} max-length="35" min-length = "1"
                                value={creditCardFirstName} onblur={validateFirstName}></lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-3">
                            <lightning-input class="input-min-width middle-name-input" label="Middle Name"
                                disabled={areFieldsDisabled} onchange={handleMiddleNameChange} max-length="35" min-length = "1"
                                value={creditCardMiddleName}></lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-3">
                            <lightning-input class="input-min-width last-name-input" label="Last Name" required
                                disabled={areFieldsDisabled} onchange={handleLastNameChange} max-length="35" min-length = "1"
                                value={creditCardLastName} onblur={validateLastName}></lightning-input>
                        </div>
                    </div>
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col slds-size_3-of-12">
                            <lightning-input class="input-min-width exp-date-input" label="Exp Date" required
                                onchange={handleExpDateChange} value={creditCardExpDate} onblur={validateExpDate}
                maxlength="5">
                            </lightning-input>
                        </div>
                        <div class="slds-col slds-size_3-of-12">
                            <lightning-input class="input-min-width" label="CVV" value={displayedCVV} disabled>
                            </lightning-input>
                        </div>
                        <div class="slds-col slds-size_3-of-12 slds-var-m-top_medium">
                            <lightning-input class="input-min-width auto-charge-input" label="Auto Charge"
                                type="toggle" message-toggle-active="Yes" message-toggle-inactive="No"
                                onchange={handleAutoChargeChange} checked={displayedIsAutoCharge} disabled={isAutoChargeInputDisabled}>
                            </lightning-input>
                        </div>
                        <div class="slds-col slds-size_3-of-12">
                            <lightning-combobox class="input-min-width status-input" dropdown-alignment="auto" label="Status"
                                options={statusOptions} placeholder="-None-" required onchange={handleStatusChange}
                                onblur={validateStatus} value={displayedStatus}>
                            </lightning-combobox>
                        </div>
                    </div>
                <template if:false={order}>
                    <div class="slds-grid slds-gutters slds-grid_align-end slds-var-m-top_small">
                        <div class="slds-col">
                            <lightning-button type="submit" label="Save and Log"
                                variant="brand-outline" onclick={handleSaveAndLog}></lightning-button>
                        </div>
                        <div class="slds-col">
                            <lightning-button type="reset" label="Cancel"
                                variant="brand-outline" onclick={handleCancel}>
                            </lightning-button>
                        </div>
                    </div>
                </template>
                <template if:true={order}>
                    <div class="slds-grid slds-gutters slds-grid_align-end slds-var-m-top_small">
                        <div class="slds-col">
                            <lightning-button type="reset" label="Cancel"
                                variant="brand-outline" onclick={handleCancel}>
                            </lightning-button>
                        </div>
                        <div class="slds-col">
                            <lightning-button type="submit" label="Save"
                                variant="brand-outline" onclick={handleSaveAndLog}></lightning-button>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </div>
</div>

<template if:false={isLoaded}>
    <lightning-spinner alternative-text="Loading...">
    </lightning-spinner>
</template>
<template if:true={showCaseCommentBox}>
    <c-generic-case-comment-logging record-id={recordId} responseobj={creditCardDataObj}
        onfinish={handleFinishLogging}></c-generic-case-comment-logging>
</template>
</template>