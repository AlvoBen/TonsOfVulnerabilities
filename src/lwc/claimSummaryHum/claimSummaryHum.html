<!--
LWC Name        : claimSummaryHum.html
Function        : LWC to display Claim Summary page.
Modification Log:
* Developer Name                  Code Review                      Date                       Description
*------------------------------------------------------------------------------------------------------------------------------
* Anuradha Gajbhe                                                  06/10/2022                 Original Version
* Anuradha Gajbhe                                                  08/10/2022                 US#3587828 - Claims--Lightning--Additional Capabilities on Claims Line Items: informational Messages Claim Summary 3
* Raj Paliwal													   06/12/2022				  US#3791661 - Medical and Dental Claims: Finalize Claim Component: Claim List info message update
* Sagar G													       05/19/2023				  US#4551270 - INC2301438- Extra gap in Claim Summary page at the bottom
****************************************************************************************************************************-->
<template>
    <div class="hc-custom-template">
        <div class="hc-section">
            <div class="hc-custom-header slds-p-bottom_xx-small">
                <lightning-layout>
                    <lightning-layout-item size="12" class={stickyHeaderCss}>
                        <c-claim-summary-highlights-panel-hum if:true={showPlanPanel}
                            not-member-plan-information={isNotPurhcaserPlan} header={header}
                            s-member-name={groupAccountName} s-member-plan-id={recordId}>
                        </c-claim-summary-highlights-panel-hum>
                    </lightning-layout-item>
                </lightning-layout>
            </div>

            <div class="hc-scrollable-content ">

                <lightning-layout>
                    <lightning-layout-item size="12">
                        <article
                            class="slds-card slds-p-right_xx-small slds-card_boundary slds-grid slds-grid--vertical ">

                            <header
                                class=" slds-card__header slds-grid slds-p-right_none slds-media slds-media_center  slds-grid_align-spread">
                                <div class="slds-grid slds-grid_vertical-align-center">
                                    <div class="slds-media__figure">
                                        <lightning-icon icon-name="standard:account"></lightning-icon>
                                    </div>
                                    <div class="slds-media__body">
                                        <h2 class="slds-card__header-title">Claim List</h2>
                                    </div>
                                    <div if:true={bAdditionalClaimsToShow} class="slds-align_absolute-right"
                                        style="margin-left: 1000px;">
                                        <lightning-button class="blackIconButton" label="View More"
                                            onclick={handleButtonClick}
                                            disabled={bDisableAdditionalClaimsView}></lightning-button>
                                    </div>
                                </div>
            </header>

            <div if:true={bAdditionalClaimsToShow}>
                <lightning-layout if:false={bNoResponse}>
                    <lightning-layout-item size="12">
                        <div style="background: #efefef;"
                            class="slds-m-left_small slds-m-right_small slds-p-around_small">
                            <span class="slds-m-right_small"><lightning-icon icon-name="utility:info"
                                    alternative-text="info" size="small"></lightning-icon></span>
                            <span>
                                <lightning-formatted-text value={infoMsg}>
                                </lightning-formatted-text>
                            </span>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
            <div>

                <div class="slds-m-around_medium slds-p-around_small infoFlag">
                    <span class="slds-m-right_small"><lightning-icon icon-name="utility:info" alternative-text="info"
                            size="small" class="info"></lightning-icon></span>
                    <span>
                        Only claims processed within the last 24 months
                        appear in CRM Service. There is a 48 hour delay
                        in data passing from the claim platform to CRM
                        Service. Only claims processed on the MTV or CAS
                        platform appear in CRM Service. Take me to
                        <a href={win} target="__blank" onclick={OpenMTVNewLegacywindow}
                            class="slds-m-left_xx-small slds-m-right_xx-small">MTV</a>
                        or
                        <a href={win} target="__blank" onclick={OpenNewCASLegacywindow}
                            class="slds-m-left_xx-small slds-m-right_xx-small">CAS</a>
                        for payment details.
                    </span>
                </div>
                <div class="slds-m-around_medium slds-p-around_small infoFlag">
                    <span class="slds-m-right_small"><lightning-icon icon-name="utility:info" alternative-text="info"
                            size="small" class="info"></lightning-icon></span>
                    <span>
                        <lightning-formatted-text
                            value="Press CTRL and Click on Claim ID # to launch multiple claims. Recommended to launch maximum of 3 claims on the claim summary page.">
                        </lightning-formatted-text>
                    </span>
                </div>
                <lightning-layout slot="actions" class="slds-p-bottom_small">
                    <lightning-layout-item>
                        <div class="slds-float_left" style="margin-left:15px;margin-top:15px">
                            {CurrentlyShowingRecords} item(s) of {totalNumberOfRecords}
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item alignment-bump="left" class="slds-m-topm_small">
                        <div class="slds-col ch-filter-keyword" style="width:240px;margin-right:6px;margin-top:-22px">
                            <div if:false={bNoResponse}>
                                <lightning-input class="inputfield keyword-field state-field" type="text" name="keyword"
                                    value={sClaimNumberGoTo} onchange={findByWord} label="Go To"
                                    onkeypress={handleEnter} placeholder="Claim/Pre-Determination Number">
                                </lightning-input>
                            </div>
                            <div if:true={bNoResponse}>
                                <lightning-input class="inputfield keyword-field state-field" type="text" name="keyword"
                                    label="Go To" disabled=true placeholder="Claim/Pre-Determination Number">
                                </lightning-input>
                            </div>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item>
                        <div if:true={bEnabled} class="slds-p-right_x-small">
                            <lightning-button-icon icon-name="utility:send" alternative-text="Go To" title="Send"
                                onclick={SerachClaimNumber}></lightning-button-icon>
                        </div>
                        <div if:false={bEnabled} class="slds-p-right_x-small">
                            <lightning-button-icon icon-name="utility:send" disabled alternative-text="Go To"
                                title="Send"></lightning-button-icon>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item>
                        <div class="slds-p-left_medium slds-p-right_medium">
                            <div if:false={disableFilterButton}>
                                <lightning-icon class=" blackIcon health-filter-icon slds-p-around_x-small "
                                    icon-name="standard:filter" size="x-small" alternative-text="Filters"
                                    onclick={handleTableFilter}></lightning-icon>
                            </div>

                            <div if:true={disableFilterButton}>
                                <lightning-icon class="blackIconButtonNew health-filter-icon slds-p-around_x-small "
                                    icon-name="standard:filter" size="x-small" disabled
                                    alternative-text="Filters"></lightning-icon>
                            </div>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
            </div>

            <lightning-layout class="slds-grid slds-p-horizontal_x-small">
                <lightning-layout-item size="12">
                    <template if:true={bResponse}>
                        <c-standard-table-component-hum class="full-container" templateaccordian=false
                            screen-name="Claim Summary" response={tempClaimSummaryResponse.data}
                            templatemodal={claimsSummaryItemModel} onlinkclick={handleclicked} data-id="claim-summary"
                            show-view-all={showViewAll} no-data-message="No Data available" b-hide-title=true
                            b-infinite-scroll={bInfiniteScroll} title={title} o-view-all-params={oViewAllParams}
                            related-input-field="Claim">
                        </c-standard-table-component-hum>
                    </template>
                    <template if:true={bNoResponse}>
                        <div style="margin-left: auto;margin-right: auto;">
                            <c-search-no-result-hum no-result-message="No matching records found"
                                message-with-icon="true"></c-search-no-result-hum>
                        </div>
                    </template>
                </lightning-layout-item>
            </lightning-layout>
            </article>
            </lightning-layout-item>
            </lightning-layout>
        </div>

        <c-generic-filter-cmp-hum 
            displayfilter={displayfilter} 
            onfilterbtnclick={handleClearFilter}
            onselectcmbvalue={handleApplyFilter} 
            onmultiselectfilter={handleMultiselect}
            onkeywordvalue={handleKeyWordValue} 
            onsenddatedata={handleDateSelect}
            isdisabled={isdisabled}></c-generic-filter-cmp-hum>
    </div>
    </div>
</template>