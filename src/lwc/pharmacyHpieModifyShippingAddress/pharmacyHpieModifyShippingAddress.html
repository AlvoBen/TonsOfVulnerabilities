<!--*****************************************************************************************************************************
Component Name : Pharmacy Hpie Modify Shipping Address
Version        : 1.0
Created On     : 12/10/2021
Function       : This component used for adding new shipping address or modify shipping address.
                 
Modification Log: 
* Developer Name               Date                       Description
*--------------------------------------------------------------------------------------------------------------------------------------
* Swapnali Sonawane            10/23/2023                 US - 5058187 Pharmacy Edit Order
*******************************************************************************************************************************-->
<template>
    <div class="slds-grid slds-gutters slds-wrap">
        <div class="slds-col slds-size_3-of-12">
            <lightning-combobox name="shippingAddress" label="Modify Shipping Address" value={selectedAddressValue}
                placeholder="Modify Shipping Address" options={addresslist} onchange={handleAddressChange}
                variant="label-hidden" class="slds-wrap" dropdown-alignment="auto">
            </lightning-combobox>
        </div>
        <div class="slds-col slds-size_3-of-12">
            <div style="position:relative">
                <lightning-button label="Add Address" title="Add Address" variant="brand" onclick={handleClick}
                    class="slds-m-left_x-small">
                </lightning-button>
            </div>
        </div>
        <div class="slds-col slds-size_6-of-12"></div>
        <template if:true={bDisplayAddress}>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Type" value="Shipping Address" disabled required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_4-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Address 1" placeholder="Address" name="addressLine1"
                        value={addressline1} maxlength="60" onchange={handleNewAddress} onkeydown={handleNewAddress}
                        message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-input>
                </span>

            </div>
            <div class="slds-col slds-size_5-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="City" placeholder="City" name="city" value={addresscity}
                        maxlength="35" onchange={handleNewAddress} onkeydown={handleNewAddress}
                        message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small"></div>
            <div class="slds-col slds-size_4-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input type="text" label="Address 2" value={addressline2} maxlength="60"
                        name="addressLine2" onchange={handleNewAddress} onkeydown={handleNewAddress}
                        placeholder="Address">
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_3-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-combobox name="state" label="State" value={stateVal} onchange={handleNewAddress}
                        placeholder="State" options={stateOptions} dropdown-alignment="auto"
                        message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-combobox>
                </span>
            </div>
            <div class="slds-col slds-size_2-of-12 slds-m-top_xx-small">
                <span>
                    <lightning-input value={addresszip} name="zipcode" onchange={handleNewAddress}
                        onkeydown={handleNewAddress} placeholder="Zip" type="text" maxlength="5" label="Zip"
                        message-when-value-missing="Error: You must Enter a Value" required>
                    </lightning-input>
                </span>
            </div>
            <div class="slds-col slds-size_12-of-12 slds-float_right slds-m-left_medium slds-m-top_small">
                <div class="slds-float_right slds-m-right_medium">
                    <lightning-button label="Cancel" title="Cancel" onclick={handleCancel} class="slds-p-right_small">
                    </lightning-button>
                    <lightning-button label="Verify" variant="brand" title="Verify" onclick={handleVerify}
                        disabled={bVerifybuttonDisbaled}>
                    </lightning-button>
                </div>
            </div>
        </template>
        <template if:false={uspsLoaded}>
            <div class="exampleHolder">
                <lightning-spinner alternative-text="Loading" size="mediam"></lightning-spinner>
            </div>
        </template>
        <template if:true={verifyDone}>
            <c-pharmacy-u-s-p-s-address-verification valaddr={validatedAddress} addrtoupdate={addressToUpdate}
                address={bDisplayUSPSAddress} oncancel={handleUSPSCancel} onsavedata={handleSaveLog}
                onshippingaddress={updateShippingAddress} showerr={showUspsError}>
            </c-pharmacy-u-s-p-s-address-verification>
        </template>
        <div class="slds-col slds-size_1-of-1">
            <div class="slds-text-body_regular"><strong>Selected Address</strong></div>
            <div>
                <lightning-formatted-address street={selectedAddressLine} city={selectedCity} country={selectedCountry}
                    province={selectedState} postal-code={selectedZipcode} disabled>
                </lightning-formatted-address>
            </div>
        </div>
    </div>
</template>