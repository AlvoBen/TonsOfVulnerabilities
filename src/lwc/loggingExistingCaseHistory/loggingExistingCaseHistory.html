<!--
LWC Name        : loggingExistingCaseHistory.html
Function        : LWC to display existing case history.

Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Nirmal Garg                     2/16/2021                   initial version
****************************************************************************************************************************-->
<template>
    <article class="slds-card slds-card_boundary slds-grid slds-grid--vertical full-container hc-case-history">
        <div class="hc-standard-table-styles">
            <header
                class=" slds-card__header slds-grid slds-p-right_none slds-media slds-media_center slds-has-flexi-truncate hc-align-header">
                <div class="slds-grid slds-grid_vertical-align-center">
                    <div class="slds-media__figure">
                        <lightning-icon icon-name="standard:case"></lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <h2 class="slds-card__header-title">Cases ({totalCases})</h2>
                    </div>
                </div>
            </header>
            <div class="slds-grid slds-wrap slds-gutters slds-grid slds-grid_align-end">
                <div class="slds-grid slds-size_6-of-12">
                </div>
            </div>
            <lightning-layout slot="actions" vertical-align="end" horizontal-align="end" class="slds-p-bottom_small">
                <div class="slds-col ch-filter-keyword slds-p-horizontal_x-small">
                    <lightning-input class="inputfield keyword-field state-field" type="text" name="keyword"
                        label="Filter by keyword" value={keyword} onchange={findByWord} onfocus={onFormItemFocus}>
                    </lightning-input>
                </div>
                <div class="slds-col ch-picker-fields slds-p-horizontal_x-small">
                    <c-generic-date-selector dlabel="From" dhelptext="" dkeyname="FromDate" dminvalue={sMinDate}
                        onsenddatedata={handleDateChange} dvalue={sFromDate} dmaxvalue={sMaxDate}>
                    </c-generic-date-selector>
                </div>
                <div class="slds-col ch-picker-fields slds-p-horizontal_x-small">
                    <c-generic-date-selector dlabel="To" dhelptext="" dkeyname="ToDate" dminvalue={sMinDate}
                        onsenddatedata={handleDateChange} dvalue={sToDate} dmaxvalue={sMaxDate}>
                    </c-generic-date-selector>
                </div>
                <div class="slds-col ch-picker-fields slds-p-horizontal_x-small">
                    <lightning-button variant="brand" label="Search" title="Search" onclick={handleSearch}
                        class="slds-m-left_x-small"></lightning-button>
                </div>
            </lightning-layout>
        </div>
        <template if:true={IsDataFound}>
        <lightning-layout>
            <lightning-layout-item size="12">
                <div class="slds-grid full-container slds-is-relative slds-p-horizontal_none">
                    <template if:true={resultsTrue}>
                        <c-standard-table-component-hum class="full-container hc-account-detail-standard-table"
                            standard-table-accordian-hum=true name-of-screen="Case Search" response={oData}
                            oncheckboxcheck={handlecheckboxcheck} oninteractions={handleInteraction}
                            templatemodal={oCaseHistoryModel} no-data-message={labels.Hum_NoResultsFound} b-hide-title=true
                            default-header-icon='standard:case' called-from-logging={calledFromLogging}>
                        </c-standard-table-component-hum>
                    </template>                   
                </div>
            </lightning-layout-item>
            
            <lightning-layout-item size="12">
                
            </lightning-layout-item>
      
        </lightning-layout> 
        <div class="slds-grid full-container slds-is-relative slds-p-horizontal_none">
            <template if:true={showViewAll}>
            <button class="slds-button slds-button_stretch slds-button_neutral slds-is-static hc-cursor"
                onclick={onViewAllClick}>View More</button>
            </template>
        </div>      
    </template>
    <template if:false={IsDataFound}>
        <c-generic-scoped-notification-hum iconname="utility:info"
					message={labels.Hum_NoResultsFound}></c-generic-scoped-notification-hum>
    </template>
    </article>
</template>