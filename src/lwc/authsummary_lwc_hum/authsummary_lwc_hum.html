<!--/*******************************************************************************************************************************
LWC Name    : AuthSummary_LWC_HUM.js
Function    : This HTML serves as UI

Modification Log: 
Developer Name           Code Review                      Date                         Description
*--------------------------------------------------------------------------------------------------------------------------------
*Prashant Moghe                                           14/07/2022                    User story 3362694 Authorization Summary table to disply the compound table
*Divya Bhamre                                             15/07/2022                    User Story 3269229: T1PRJ0193102 - MF 19050-Auth/Referral: Lightning Build of External Links 
*Apurva Urkude                                            11/08/2022			User Story 3747520
*Kalyani Pachpol                                          01/19/2023                    US:4152371
*********************************************************************************************************************************/ -->
<template>
    <template if:true={oDetails}>
        <div class="highlights-panel">
            <lightning-record-view-form
                record-id={recordId}
                object-api-name="MemberPlan">
                <div class="slds-page-header slds-page-header_record-home">
                    <div class="highlights-container">
               <div class="slds-page-header__row slds-grid_vertical-align-center">
                            <div class="slds-page-header__col-title">
                                <div class="slds-media">
                                    <div class="slds-media__figure">
                                        <lightning-icon
                                            icon-name={oDetails.object.icon.name}
                                            size={oDetails.object.icon.size}
                                            slot="icon"
                                        >
                                        </lightning-icon>
                                    </div>
                                    <div class="slds-media__body">
                                        <div class="slds-page-header__name">
                                            <div class="slds-page-header__name-title">
                                                <h1>
                                                    <span>{oDetails.object.name}</span>
                                                    
                                                    <span
                                                        class="slds-page-header__title slds-truncate slds-text-heading_medium slds-m-top_x-small">
                                                    
                                                        <b>{oDetails.recordDetail.name}</b>
                                                    </span>
                                                </h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<div class="slds-grid">
                                <div class="slds-relative">
                                  <c-generic-alerts-view-hum
                                   record-id={accountId}
                                   member-plan-record-id={recordId}
                                   other-page-name="Authorization/Referral Summary">
                                 </c-generic-alerts-view-hum>
                                </div>
                                <template if:true={showLoggingIcon}>
								<div class="slds-float_right slds-m-left_x-small">
                                        <c-lightning-logging-component-hum
                                            record-id={recordId}
                                            networkid={netWorkId}
                                            profilename={profilename}
                                            workqueue={workQueue}
                                            related-field={RelatedName}
                                            auto-logging={autoLogging}
                                            type="Auth Summary"  
                                             subtype="Auth/Referral Summary" 
                                            attachmentkey={personid}
                                            attachmentdescription="Enterprise Id">
                                        </c-lightning-logging-component-hum>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                    <div class="slds-page-header__row slds-page-header__row_gutters">                   
                        <div class="slds-page-header__col-details">
                            <div class="slds-grid slds-page-header__detail-row slds-p-top_none slds-p-bottom_none" onclick={handleLogging}>
                                <template
                                    for:each={oDetails.recordDetail.fields}
                                    for:item="detail"
                                >
                                    <lightning-layout-item
                                        padding="around-small"
                                        class="slds-page-header__detail-block link-item-width slds-is-relative slds-col slds-size_2-of-12"
                                        key={detail.label}
                                    >
                                         <div class="logthis" title={detail.label} data-id={detail.label}> 
                                            <div data-value={detail.label} data-label={detail.label}><p>{detail.label}</p></div>
                                        </div>
                                        <div class="logthis" title={detail.value} data-id={detail.value}>
                                            <div data-value={detail.value} data-label={detail.value}></div><p>{detail.value}</p>
                                        </div>
                                    </lightning-layout-item>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </lightning-record-view-form>
        </div>
        <lightning-layout>
            <lightning-layout-item
                size="12"
                style="margin-top: 10px; margin-bottom: 10px;"
            >
                <lightning-card>
                    <c-dynamic-custom-links-lc-hum
                        record-id={recordId}
                        object-api-name="MemberPlan"
                        page-name="Auth Referral Lightning"
                    ></c-dynamic-custom-links-lc-hum>
                </lightning-card>
            </lightning-layout-item>
        </lightning-layout>

        <lightning-layout>
            <lightning-layout-item size="12" style="margin-bottom: 10px;">
                <lightning-card title="Authorization/Referral">
                    
                    <lightning-tabset
                        class="hc-custom-tab-style slds-m-top_medium"
                    >
                        <lightning-tab
                            label={cLabels.Medical_Authorization}
                            value="1"
                            onactive={tabChangeHandler}
                        >
                            <c-authsummary_medical_authorization_lwc_hum
                                record-id={recordId}
                            >
                            </c-authsummary_medical_authorization_lwc_hum>
                        </lightning-tab>
                        <lightning-tab
                            label={cLabels.Pharmacy_Authorization}
                            value="2"
                            onactive={tabChangeHandler}
                            class="slds-p-bottom_none"
                        >
                            <lightning-layout class="detail-container">
                                <lightning-layout-item
                                    size="12"
                                    medium-device-size="12"
                                    class="detail-item slds-var-m-bottom_small"
                                >
                                    <c-pharmacy-authorizations-hum
                                        enterprise-id={enterpriseId}
                                        record-id={recordId}
                                    ></c-pharmacy-authorizations-hum>
                                </lightning-layout-item>
                            </lightning-layout>
                        </lightning-tab>
                    </lightning-tabset>

                    <div
                        class="slds-grid full-container slds-is-relative slds-p-horizontal_none"
                    >
                        <template if:true={bNoResponse}>
                            <div style="padding-left: 150px;">
                                <c-search-no-result-hum
                                    no-result-message="No matching records found"
                                    message-with-icon="true"
                                ></c-search-no-result-hum>
                            </div>
                        </template>
                    </div>
                </lightning-card>
            </lightning-layout-item>
        </lightning-layout>
    </template>
</template>