<!--
LWC Name        : taskDetailLeftPanel_LWC_HUM.html
Function        : LWC to get task details to display on left handle panel

Modification Log:
* Developer Name                  Date                         Description
*------------------------------------------------------------------------------------------------------------------------------
* Bhumika Dodiya                 06/22/2022                  initial version
* Raj Paliwal					 17/02/2023					 US: 4163250 -Task Type (Notification) NEW Task
* Prasuna Pattabhi			     08/24/2023					 US: 4412371 - Market Credentialing Task Fields
****************************************************************************************************************************-->
<template>
    <lightning-card>
        <lightning-accordion class="example-accordion" active-section-name="TaskInfo">
            <template if:false={showSpinner}>
            <lightning-accordion-section name="TaskInfo" label="Task Information">
                <div class="c-container slds-p-left_small">
                    <lightning-layout if:true={taskDetail} multiple-rows="true">
                        <template if:true={taskDetail.Callback_Requested__c}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title slds-p-top_xx-small" value="Callback Requested"></lightning-formatted-text>
                                    </p>
                                    <lightning-formatted-text if:true={txtcolor} class="slds-form-element__static slds-truncate slds-p-top_xx-small" style="color:green;" value={taskDetail.Callback_Requested__c}></lightning-formatted-text>
                                    <lightning-formatted-text if:false={txtcolor} class="slds-form-element__static slds-truncate slds-p-top_xx-small" style="color:red;" value={taskDetail.Callback_Requested__c}></lightning-formatted-text>
                                    <hr class="hr-style-last"/>
                                </div>
                            </lightning-layout-item>
                        </template>
                        <template if:true={taskDetail.Time_Zone__c}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title slds-p-top_xx-small" value="Callback Time Zone"></lightning-formatted-text>
                                    </p>
                                    <lightning-formatted-text class="slds-form-element__static slds-truncate slds-p-top_xx-small slds-p-top_xx-small" value={taskDetail.Time_Zone__c}></lightning-formatted-text>
                                    <hr class="hr-style-last"/>
                                </div>
                            </lightning-layout-item>
                        </template>
                        <template if:true={taskDetail.Call_Back_Start__c}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column slds-p-top_x-small">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title" value="Callback Slot Start Time"></lightning-formatted-text>
                                    </p>
                                    <lightning-formatted-text class="slds-form-element__static slds-truncate slds-p-top_xx-small" value={taskDetailStartTime}></lightning-formatted-text>
                                    <hr class="hr-style-last"/>
                                </div>
                            </lightning-layout-item>
                        </template>
                        <template if:true={taskDetail.Call_Back_End__c}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column slds-p-top_x-small">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title" value="Callback Slot End Time"></lightning-formatted-text>
                                    </p>
                                    <lightning-formatted-text class="slds-form-element__static slds-truncate slds-p-top_xx-small" value={taskDetailEndTime}></lightning-formatted-text>
                                    <hr class="hr-style-last"/>
                                </div>
                            </lightning-layout-item>
                        </template>
                        <lightning-layout-item  size="6">
                            <div class="header-column slds-p-top_x-small">
                                <p class="field-title">
                                    <lightning-formatted-text class="slds-text-title" value="Related To Case"></lightning-formatted-text>
                                </p> 
                                <template if:true={taskDetail.WhatId}>
                                    <a onclick={handleCaseRedirect} class="slds-form-element__static slds-truncate">{taskDetail.What.Name}</a>
                                </template>                                
                                <hr class="hr-style"/>  
                            </div>                      
                        </lightning-layout-item>
                        
                        <lightning-layout-item  size="6">
                            <div class="header-column slds-p-top_x-small">
                                <p class="field-title">
                                    <lightning-formatted-text class="slds-text-title" value="Parent Task"></lightning-formatted-text>
                                </p>
                                <a onclick={handleTaskRedirect}  class="slds-form-element__static slds-truncate">{taskDetail.ParentTaskNumber}</a>
                                <hr class="hr-style"/>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item  size="6" >
                            <div class="header-column">
                                <p class="field-title">
                                    <lightning-formatted-text class="slds-text-title" field-level-help="'Work Task' is selected when case resolution is dependent on task completion. 'Notification Task' is selected when case resolution is not dependent on task completion." value="Task Type" ></lightning-formatted-text>
                                    <lightning-helptext class="slds-p-left--x-small tooltip-position" content="'Work Task' is selected when case resolution is dependent on task completion. 'Notification Task' is selected when case resolution is not dependent on task completion."></lightning-helptext> 
                                </p>
                                <lightning-formatted-text class="slds-form-element__static slds-truncate" value={taskDetail.Type} ></lightning-formatted-text>
                            </div><hr class="hr-style"/>                            
                        </lightning-layout-item>
                        <lightning-layout-item  size="6" >
                            <div class="header-column">
                                <p class="field-title">                                    
                                    <lightning-formatted-text class="slds-text-title" value="Re-open Task Age" ></lightning-formatted-text>
                                </p>
                                <lightning-formatted-text class="slds-form-element__static slds-truncate" value={taskDetail.Re_Open_Task_Age__c} ></lightning-formatted-text>
                            </div><hr class="hr-style"/>
                        </lightning-layout-item>
                        <lightning-layout-item  size="6" >
                            <div class="header-column">
                                <p class="field-title">                                    
                                    <lightning-formatted-text class="slds-text-title" value="Due Date" ></lightning-formatted-text>
                                </p>
                                <lightning-formatted-date-time time-zone="UTC"  class="slds-form-element__static slds-truncate" value={taskDetail.ActivityDate} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time>
                            </div><hr class="hr-style-last"/>
                        </lightning-layout-item>
                        <template if:true={taskDetail.Medicare}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title" value="Medicare Id" ></lightning-formatted-text>
                                    </p>
                                    <lightning-formatted-text class="slds-form-element__static slds-truncate" value={taskDetail.Medicare} ></lightning-formatted-text>
                                </div><hr class="hr-style-last"/>
                            </lightning-layout-item>
                        </template>
                        <template if:true={showMCDProviderFields}>
                            <lightning-layout-item  size="6" >
                                <div class="header-column">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title" value="Credentialing Task"></lightning-formatted-text>
                                        <lightning-helptext class="slds-p-left--x-small tooltip-position" content="Select the Credentialing Task being accomplished"></lightning-helptext>    
                                    </p>
                                    <lightning-formatted-text class="slds-form-element__static " value={taskDetail.Credentialing_Task__c} ></lightning-formatted-text>
                                </div><hr class="hr-style-last"/>
                            </lightning-layout-item>
                            <lightning-layout-item  size="6" >
                                <div class="header-column">
                                    <p class="field-title">                                    
                                        <lightning-formatted-text class="slds-text-title" value="Task Completion Date"></lightning-formatted-text>
                                        <lightning-helptext class="slds-p-left--x-small tooltip-position" content="Select the Credentialing Task Completion date"></lightning-helptext>
                                        </p>
                                    <lightning-formatted-date-time time-zone="UTC"  class="slds-form-element__static slds-truncate" value={taskDetail.Task_Completion_Date__c} year="numeric" month="numeric" day="numeric"></lightning-formatted-date-time>
                                </div><hr class="hr-style-last"/>
                            </lightning-layout-item>
                        </template>
                    </lightning-layout>
                </div>
            </lightning-accordion-section>

            <lightning-accordion-section name="SystemInfo" label="System Information">
                <lightning-layout  if:true={taskDetail} multiple-rows="true">                    
                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Date/Time Opened" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-date-time time-zone={time_zone} class="slds-form-element__static text-no-wrap" value={taskDetail.CreatedDate} year="numeric" month="numeric" day="numeric" hour="2-digit"
                            minute="2-digit" hour12="false"></lightning-formatted-date-time>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Date/Time Re-Opened" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-date-time time-zone={time_zone} class="slds-form-element__static text-no-wrap" value={taskDetail.Date_Time_Reopned__c} year="numeric" month="numeric" day="numeric" hour="2-digit"
                            minute="2-digit" hour12="false"></lightning-formatted-date-time>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Date/Time Closed" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-date-time time-zone={time_zone} class="slds-form-element__static text-no-wrap " value={taskDetail.Date_Time_Closed__c} year="numeric" month="numeric" day="numeric" hour="2-digit"
                            minute="2-digit" hour12="false"></lightning-formatted-date-time>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>
                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Topics" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.Topic__c} ></lightning-formatted-text>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Created By" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.CreatedBy.Name} ></lightning-formatted-text>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>
                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Created By Queue" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.Created_By_Queue__c} ></lightning-formatted-text>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Last Modified By" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.LastModifiedBy.Name} ></lightning-formatted-text>
                        </div><hr class="hr-style"/>
                    </lightning-layout-item>
                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Last Modified By Queue" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.LastModifiedby_Queue__c} ></lightning-formatted-text>
                        </div><hr class="hr-style">
                    </lightning-layout-item>

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Days Since Last Modified" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-number class="slds-form-element__static text-no-wrap " value={taskDetail.Last_Modified_Age__c}></lightning-formatted-number>                            
                        </div><hr class="hr-style-last">
                    </lightning-layout-item> 

                    <lightning-layout-item  size="6" >
                        <div class="header-column">
                            <p class="field-title">
                                <lightning-formatted-text class="slds-text-title" value="Work Queue View Name" ></lightning-formatted-text>
                            </p>
                            <lightning-formatted-text class="slds-form-element__static text-no-wrap " value={taskDetail.Work_Queue_View_Name__c} ></lightning-formatted-text>
                        </div><hr class="hr-style-last">
                    </lightning-layout-item>
                </lightning-layout>
            </lightning-accordion-section>
        </template>
        <template if:true={showSpinner}>
            <lightning-spinner size="medium" alternative-text="Loading"></lightning-spinner>
        </template>
        </lightning-accordion>
    </lightning-card>
</template>