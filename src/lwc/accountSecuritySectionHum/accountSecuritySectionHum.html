<!-- *******************************************************************************************************************************
LWC JS Name : accountSecuritySectionHum.js
Function    : Renders Security Details section

Modification Log: 
Developer Name               Date                       Description
*--------------------------------------------------------------------------------------------------------------------------------
* Mohan                   11/13/2021                    US: 2440592 Member Account Re design
* Tharun Madishetti		  10/12/2023					US-5074673: T1PRJ0865978 - MF26745 - C01/Consumer/Aligning Text Wrap to existing CRM Service UI Standards for HIPAA Forms: Password
********************************************************************************************************************************* -->
<template>
    <lightning-accordion allow-multiple-sections-open active-section-name='form'>
        <lightning-accordion-section name="form" label={labels.HUM_Security_Details} class="custom-accordian-title">
            <div if:true={isDeceased} class="slds-align_absolute-center slds-p-around_medium">
                {labels.pswd_Msg_deceased_Member}
            </div>
            <div if:false={isDeceased} class="slds-section slds-is-open exapandable-associated">
                <div aria-hidden="false" class="slds-section__content slds-p-top_none">
                    <div class="slds-tile__detail slds-text-body_small slds-wrap slds-p-bottom_small">
                        <div class="slds-grid slds slds-grid_vertical-align-center">
                            <template if:true={aData.Accordian}>
                                <lightning-button-icon data-att='0' data-doctype={aData.extraFieldMapping}
                                    data-actionname={aData.iconName} icon-name={aData.iconName} size="small"
                                    onclick={expandrow} class="accordianPass">
                                </lightning-button-icon>
                            </template>
                            <template if:false={aData.Accordian}>
                                <span class="slds-p-left_large"></span>
                            </template>
                            <div class="security-header">
                                <span class="slds-p-left_small">
                                    <b onclick={handleClick}>{aData.DocumentType}</b>
                                </span>
                                <template if:false={aData.ETL_Record_Deleted__c}>
                                    <div class="security-header-icon-align">
                                        <lightning-helptext content={labels.UserPassword}
                                            class="slds-is-relative slds-m-left_x-small doc-type-tooltip">
                                        </lightning-helptext>
                                        <div class="slds-is-relative gear-icon">
                                            <lightning-icon icon-name="utility:settings" size="x-small" onclick={expandlist}
                                                onblur={closeList} class="slds-p-left_medium" style="margin-left:auto">
                                            </lightning-icon>
                                            <template if:true={showQuestionList}>
                                                <ul class="slds-listbox slds-listbox_vertical action-list
                            slds-dropdown slds-m-left_medium slds-dropdown_left pwd-options-list slds-p-around_none
                            ">
                                                    <li if:true={showCreateQuestion} onclick={createPwdHandler} value="create"
                                                        class="slds-media slds-media_center slds-media_small 
                            slds-p-vertical_x-small slds-p-horizontal_small slds-text-link_reset password-action">
                                            {labels.Create_password}</li>
                                                    <li if:false={showCreateQuestion} onclick={editPwdHandler} data-name="edit"
                                                        class="slds-media slds-media_center slds-media_small 
                            slds-p-vertical_x-small slds-p-horizontal_small slds-text-link_reset password-action">
                                                        Edit</li>
                                                    <li if:false={showCreateQuestion} onclick={deletePwdHandler}
                                                        data-name="delete" class="slds-media slds-media_center slds-media_small 
                            slds-p-vertical_x-small slds-p-horizontal_small slds-text-link_reset password-action">
                                            {labels.Delete}</li>
                                                </ul>
                                            </template>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                        <div class="slds-p-left_xx-large">

                            <div class="slds-grid slds">
                                <div class="slds-p-right_xx-small text-wrap"><b>{labels.EFFECTIVE_DATE}:&nbsp;</b>
                                    {aData.EffectiveDate}</div>
                                <br />
                            </div>
                            <div class="slds-grid slds">
                                <div class="slds-p-right_xx-small text-wrap"><b>{labels.Termination_Date}:&nbsp;</b>
                                    {aData.TerminationDate}</div>
                            </div>
                            <template if:true={aData.ETL_Record_Deleted__c}>
                                <div class="slds-grid slds">
                                    <span class="slds-p-right_xx-small text-wrap"><b>{labels.Person_of_Authority}:&nbsp;</b>
                                        {aData.PersonofAuthority}</span>
                                </div>
                            </template>

                            <template if:true={aData.extraField}>
                                <template for:each={accordianFields} for:item="flds">
                                    <div key={flds.label} class="slds-grid slds">
                                        <div class="slds-p-right_xx-small text-wrap wrapped-content"><b>{flds.label}:&nbsp;</b>
                                            {flds.value}</div>
                                    </div>
                                </template>
                            </template>
                        </div>
                    </div>
                </div>
            </div>
            <c-generic-modal-hum if:true={bShowModal} b-show-modal={bShowModal} onclose={closeModal} title={modalTitle}
                onsave={saveForm} onreset={resetForm}>
                <c-question-form-hum slot="content" is-edit={editQuestion} onmodify={modifiedHandler}
                    record-id={recordId} onsubmission={handleAccordian}></c-question-form-hum>
            </c-generic-modal-hum>
            <c-generic-modal-hum if:true={showActionModal} b-show-modal={showActionModal}
                oncloseoverlay={closeOverlayModal} title={overlayModalTitle} buttons-config={buttonsConfig}
                ondelete={deleteForm} oncontinue={handleContinue} is-continue={isContinueModal}>
                <div if:true={deleteQuestion} slot="content"
                    class="slds-p-horizontal_x-large slds-p-bottom_medium slds-align_absolute-center">
                    {labels.passwordDeleteModalHum}
                </div>
                <div if:true={isContinueModal} slot="content"
                    class="slds-p-horizontal_x-large slds-p-vertical_medium slds-align_absolute-center">
                    {labels.unsavedModalMsgHum}
                </div>
            </c-generic-modal-hum>
        </lightning-accordion-section>
    </lightning-accordion>
</template>