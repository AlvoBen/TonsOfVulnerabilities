<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE monitor-configuration SYSTEM "monitor-configuration.dtd">
<monitor-configuration>
<monitor-semantics>
	<simple-configuration-group name="P4.P4Service">
		<description ID="P4.P4Serv" ></description>
	</simple-configuration-group>	
	<integer-configuration-group name="P4.ExportedRemoteObjectsCount">
		<description ID="P4.P4Serv.ExpRemoteObj">Number of exported P4 remote obejcts</description>
		<data-collection react-on-failure="IGNORE" >
			<polled-by-monitor period="5" unit="MINUTE"/>
		</data-collection>		
		<thresholds green-to-yellow="500" yellow-to-red="1000" red-to-yellow="1000" yellow-to-green="500"/>
	</integer-configuration-group>
	<integer-configuration-group name="P4.P4ThreadUsageRate" unit="%" >
		<description ID="P4.P4Serv.P4ThreadUsage">Percent of used threads compared to the configured P4 threads.</description>
		<data-collection react-on-failure="IGNORE" >
			<polled-by-monitor period="5" unit="MINUTE"/>
		</data-collection>		
		<thresholds green-to-yellow="80" yellow-to-red="100" red-to-yellow="100" yellow-to-green="80"/>
	</integer-configuration-group>
	<long-configuration-group name="P4.RequestsCount">
		<description ID="P4.P4Serv.RequestsCount">Number of P4 requests since server startup</description>
		<data-collection react-on-failure="IGNORE" >
			<polled-by-monitor period="5" unit="MINUTE"/>
		</data-collection>		
		<thresholds green-to-yellow="2147483646" yellow-to-red="2147483647" red-to-yellow="2147483647" yellow-to-green="2147483646"/>
	</long-configuration-group>
	<long-configuration-group name="P4.ErrorRequestCount">
		<description ID="P4.P4Serv.ErrorRequestCount">Number of P4 requests which have failed since server startup</description>
		<data-collection react-on-failure="IGNORE" >
			<polled-by-monitor period="5" unit="MINUTE"/>
		</data-collection>		
		<thresholds green-to-yellow="2147483646" yellow-to-red="2147483647" red-to-yellow="2147483647" yellow-to-green="2147483646"/>
	</long-configuration-group>
</monitor-semantics>	
<monitor-tree>
	<services>	
		<object name="P4 Provider" configuration-group="P4.P4Service">
			<integer-monitor name="ExportedRemoteObjectsCount" configuration-group="P4.ExportedRemoteObjectsCount">
				<monitored-resource name="p4" type="SERVICE"/>
				<integer-attribute-mapping>
					<integer-attribute>
						<observed-resource-attribute name="ExportedRemoteObjectsCount"/>
					</integer-attribute>
				</integer-attribute-mapping>
			</integer-monitor>
			<integer-monitor name="P4ThreadUsageRate" configuration-group="P4.P4ThreadUsageRate">
				<monitored-resource name="p4" type="SERVICE"/>
				<integer-attribute-mapping>
					<integer-attribute>
						<observed-resource-attribute name="P4ThreadUsageRate"/>
					</integer-attribute>
				</integer-attribute-mapping>
			</integer-monitor>
			<long-monitor name="RequestsCount" configuration-group="P4.RequestsCount">
				<monitored-resource name="p4" type="SERVICE"/>
				<long-attribute-mapping>
					<long-attribute>
						<observed-resource-attribute name="RequestCount"/>
					</long-attribute>
				</long-attribute-mapping>
			</long-monitor>
			<long-monitor name="FailedRequestsCount" configuration-group="P4.ErrorRequestCount">
				<monitored-resource name="p4" type="SERVICE"/>
				<long-attribute-mapping>
					<long-attribute>
						<observed-resource-attribute name="ErrorRequestCount"/>
					</long-attribute>
				</long-attribute-mapping>
			</long-monitor>
		</object>					
	</services>
</monitor-tree>
</monitor-configuration>

